<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# fasthttp

```go
import "github.com/valyala/fasthttp"
```

Package fasthttp provides fast HTTP server and client API.

Fasthttp provides the following features:

1. Optimized for speed. Easily handles more than 100K qps and more than 1M concurrent keep\-alive connections on modern hardware.

2. Optimized for low memory usage.

3. Easy 'Connection: Upgrade' support via RequestCtx.Hijack.

4. Server provides the following anti\-DoS limits:
  
  \- The number of concurrent connections.
  
  \- The number of concurrent connections per client IP.
  
  \- The number of requests per connection.
  
  \- Request read timeout.
  
  \- Response write timeout.
  
  \- Maximum request header size.
  
  \- Maximum request body size.
  
  \- Maximum request execution time.
  
  \- Maximum keep\-alive connection lifetime.
  
  \- Early filtering out non\-GET requests.

5. A lot of additional useful info is exposed to request handler:
  
  \- Server and client address.
  
  \- Per\-request logger.
  
  \- Unique request id.
  
  \- Request start time.
  
  \- Connection start time.
  
  \- Request sequence number for the current connection.

6. Client supports automatic retry on idempotent requests' failure.

7. Fasthttp API is designed with the ability to extend existing client and server implementations or to write custom client and server implementations from scratch.

## Index

- [fasthttp](#fasthttp)
  - [Index](#index)
  - [Constants](#constants)
  - [Variables](#variables)
  - [func AcquireTimer](#func-acquiretimer)
  - [func AddMissingPort](#func-addmissingport)
  - [func AppendBrotliBytes](#func-appendbrotlibytes)
  - [func AppendBrotliBytesLevel](#func-appendbrotlibyteslevel)
  - [func AppendDeflateBytes](#func-appenddeflatebytes)
  - [func AppendDeflateBytesLevel](#func-appenddeflatebyteslevel)
  - [func AppendGunzipBytes](#func-appendgunzipbytes)
  - [func AppendGzipBytes](#func-appendgzipbytes)
  - [func AppendGzipBytesLevel](#func-appendgzipbyteslevel)
  - [func AppendHTMLEscape](#func-appendhtmlescape)
  - [func AppendHTMLEscapeBytes](#func-appendhtmlescapebytes)
  - [func AppendHTTPDate](#func-appendhttpdate)
  - [func AppendIPv4](#func-appendipv4)
  - [func AppendInflateBytes](#func-appendinflatebytes)
  - [func AppendNormalizedHeaderKey](#func-appendnormalizedheaderkey)
  - [func AppendNormalizedHeaderKeyBytes](#func-appendnormalizedheaderkeybytes)
  - [func AppendQuotedArg](#func-appendquotedarg)
  - [func AppendUint](#func-appenduint)
  - [func AppendUnbrotliBytes](#func-appendunbrotlibytes)
  - [func AppendUnquotedArg](#func-appendunquotedarg)
  - [func AppendUnzstdBytes](#func-appendunzstdbytes)
  - [func AppendZstdBytes](#func-appendzstdbytes)
  - [func AppendZstdBytesLevel](#func-appendzstdbyteslevel)
  - [func CoarseTimeNow](#func-coarsetimenow)
  - [func Dial](#func-dial)
  - [func DialDualStack](#func-dialdualstack)
  - [func DialDualStackTimeout](#func-dialdualstacktimeout)
  - [func DialTimeout](#func-dialtimeout)
  - [func Do](#func-do)
  - [func DoDeadline](#func-dodeadline)
  - [func DoRedirects](#func-doredirects)
  - [func DoTimeout](#func-dotimeout)
  - [func FileLastModified](#func-filelastmodified)
  - [func GenerateTestCertificate](#func-generatetestcertificate)
  - [func Get](#func-get)
  - [func GetDeadline](#func-getdeadline)
  - [func GetTimeout](#func-gettimeout)
  - [func ListenAndServe](#func-listenandserve)
  - [func ListenAndServeTLS](#func-listenandservetls)
  - [func ListenAndServeTLSEmbed](#func-listenandservetlsembed)
  - [func ListenAndServeUNIX](#func-listenandserveunix)
  - [func NewStreamReader](#func-newstreamreader)
  - [func ParseByteRange](#func-parsebyterange)
  - [func ParseHTTPDate](#func-parsehttpdate)
  - [func ParseIPv4](#func-parseipv4)
  - [func ParseUfloat](#func-parseufloat)
  - [func ParseUint](#func-parseuint)
  - [func Post](#func-post)
  - [func ReleaseArgs](#func-releaseargs)
  - [func ReleaseCookie](#func-releasecookie)
  - [func ReleaseRequest](#func-releaserequest)
  - [func ReleaseResponse](#func-releaseresponse)
  - [func ReleaseTimer](#func-releasetimer)
  - [func ReleaseURI](#func-releaseuri)
  - [func SaveMultipartFile](#func-savemultipartfile)
  - [func Serve](#func-serve)
  - [func ServeConn](#func-serveconn)
  - [func ServeFS](#func-servefs)
  - [func ServeFile](#func-servefile)
  - [func ServeFileBytes](#func-servefilebytes)
  - [func ServeFileBytesUncompressed](#func-servefilebytesuncompressed)
  - [func ServeFileUncompressed](#func-servefileuncompressed)
  - [func ServeTLS](#func-servetls)
  - [func ServeTLSEmbed](#func-servetlsembed)
  - [func SetBodySizePoolLimit](#func-setbodysizepoollimit)
  - [func StatusCodeIsRedirect](#func-statuscodeisredirect)
  - [func StatusMessage](#func-statusmessage)
  - [func VisitHeaderParams](#func-visitheaderparams)
  - [func WriteBrotli](#func-writebrotli)
  - [func WriteBrotliLevel](#func-writebrotlilevel)
  - [func WriteDeflate](#func-writedeflate)
  - [func WriteDeflateLevel](#func-writedeflatelevel)
  - [func WriteGunzip](#func-writegunzip)
  - [func WriteGzip](#func-writegzip)
  - [func WriteGzipLevel](#func-writegziplevel)
  - [func WriteInflate](#func-writeinflate)
  - [func WriteMultipartForm](#func-writemultipartform)
  - [func WriteUnbrotli](#func-writeunbrotli)
  - [func WriteUnzstd](#func-writeunzstd)
  - [func WriteZstdLevel](#func-writezstdlevel)
  - [type Args](#type-args)
    - [func AcquireArgs](#func-acquireargs)
    - [func (\*Args) Add](#func-args-add)
    - [func (\*Args) AddBytesK](#func-args-addbytesk)
    - [func (\*Args) AddBytesKNoValue](#func-args-addbytesknovalue)
    - [func (\*Args) AddBytesKV](#func-args-addbyteskv)
    - [func (\*Args) AddBytesV](#func-args-addbytesv)
    - [func (\*Args) AddNoValue](#func-args-addnovalue)
    - [func (\*Args) AppendBytes](#func-args-appendbytes)
    - [func (\*Args) CopyTo](#func-args-copyto)
    - [func (\*Args) Del](#func-args-del)
    - [func (\*Args) DelBytes](#func-args-delbytes)
    - [func (\*Args) GetBool](#func-args-getbool)
    - [func (\*Args) GetUfloat](#func-args-getufloat)
    - [func (\*Args) GetUfloatOrZero](#func-args-getufloatorzero)
    - [func (\*Args) GetUint](#func-args-getuint)
    - [func (\*Args) GetUintOrZero](#func-args-getuintorzero)
    - [func (\*Args) Has](#func-args-has)
    - [func (\*Args) HasBytes](#func-args-hasbytes)
    - [func (\*Args) Len](#func-args-len)
    - [func (\*Args) Parse](#func-args-parse)
    - [func (\*Args) ParseBytes](#func-args-parsebytes)
    - [func (\*Args) Peek](#func-args-peek)
    - [func (\*Args) PeekBytes](#func-args-peekbytes)
    - [func (\*Args) PeekMulti](#func-args-peekmulti)
    - [func (\*Args) PeekMultiBytes](#func-args-peekmultibytes)
    - [func (\*Args) QueryString](#func-args-querystring)
    - [func (\*Args) Reset](#func-args-reset)
    - [func (\*Args) Set](#func-args-set)
    - [func (\*Args) SetBytesK](#func-args-setbytesk)
    - [func (\*Args) SetBytesKNoValue](#func-args-setbytesknovalue)
    - [func (\*Args) SetBytesKV](#func-args-setbyteskv)
    - [func (\*Args) SetBytesV](#func-args-setbytesv)
    - [func (\*Args) SetNoValue](#func-args-setnovalue)
    - [func (\*Args) SetUint](#func-args-setuint)
    - [func (\*Args) SetUintBytes](#func-args-setuintbytes)
    - [func (\*Args) Sort](#func-args-sort)
    - [func (\*Args) String](#func-args-string)
    - [func (\*Args) VisitAll](#func-args-visitall)
    - [func (\*Args) WriteTo](#func-args-writeto)
  - [type BalancingClient](#type-balancingclient)
  - [type CacheKind](#type-cachekind)
  - [type Client](#type-client)
    - [func (\*Client) CloseIdleConnections](#func-client-closeidleconnections)
    - [func (\*Client) Do](#func-client-do)
    - [func (\*Client) DoDeadline](#func-client-dodeadline)
    - [func (\*Client) DoRedirects](#func-client-doredirects)
    - [func (\*Client) DoTimeout](#func-client-dotimeout)
    - [func (\*Client) Get](#func-client-get)
    - [func (\*Client) GetDeadline](#func-client-getdeadline)
    - [func (\*Client) GetTimeout](#func-client-gettimeout)
    - [func (\*Client) Post](#func-client-post)
  - [type ConnPoolStrategyType](#type-connpoolstrategytype)
  - [type ConnState](#type-connstate)
    - [func (ConnState) String](#func-connstate-string)
  - [type Cookie](#type-cookie)
    - [func AcquireCookie](#func-acquirecookie)
    - [func (\*Cookie) AppendBytes](#func-cookie-appendbytes)
    - [func (\*Cookie) Cookie](#func-cookie-cookie)
    - [func (\*Cookie) CopyTo](#func-cookie-copyto)
    - [func (\*Cookie) Domain](#func-cookie-domain)
    - [func (\*Cookie) Expire](#func-cookie-expire)
    - [func (\*Cookie) HTTPOnly](#func-cookie-httponly)
    - [func (\*Cookie) Key](#func-cookie-key)
    - [func (\*Cookie) MaxAge](#func-cookie-maxage)
    - [func (\*Cookie) Parse](#func-cookie-parse)
    - [func (\*Cookie) ParseBytes](#func-cookie-parsebytes)
    - [func (\*Cookie) Partitioned](#func-cookie-partitioned)
    - [func (\*Cookie) Path](#func-cookie-path)
    - [func (\*Cookie) Reset](#func-cookie-reset)
    - [func (\*Cookie) SameSite](#func-cookie-samesite)
    - [func (\*Cookie) Secure](#func-cookie-secure)
    - [func (\*Cookie) SetDomain](#func-cookie-setdomain)
    - [func (\*Cookie) SetDomainBytes](#func-cookie-setdomainbytes)
    - [func (\*Cookie) SetExpire](#func-cookie-setexpire)
    - [func (\*Cookie) SetHTTPOnly](#func-cookie-sethttponly)
    - [func (\*Cookie) SetKey](#func-cookie-setkey)
    - [func (\*Cookie) SetKeyBytes](#func-cookie-setkeybytes)
    - [func (\*Cookie) SetMaxAge](#func-cookie-setmaxage)
    - [func (\*Cookie) SetPartitioned](#func-cookie-setpartitioned)
    - [func (\*Cookie) SetPath](#func-cookie-setpath)
    - [func (\*Cookie) SetPathBytes](#func-cookie-setpathbytes)
    - [func (\*Cookie) SetSameSite](#func-cookie-setsamesite)
    - [func (\*Cookie) SetSecure](#func-cookie-setsecure)
    - [func (\*Cookie) SetValue](#func-cookie-setvalue)
    - [func (\*Cookie) SetValueBytes](#func-cookie-setvaluebytes)
    - [func (\*Cookie) String](#func-cookie-string)
    - [func (\*Cookie) Value](#func-cookie-value)
    - [func (\*Cookie) WriteTo](#func-cookie-writeto)
  - [type CookieSameSite](#type-cookiesamesite)
  - [type DialFunc](#type-dialfunc)
  - [type DialFuncWithTimeout](#type-dialfuncwithtimeout)
  - [type ErrBodyStreamWritePanic](#type-errbodystreamwritepanic)
  - [type ErrBrokenChunk](#type-errbrokenchunk)
  - [type ErrDialWithUpstream](#type-errdialwithupstream)
    - [func (\*ErrDialWithUpstream) Error](#func-errdialwithupstream-error)
    - [func (\*ErrDialWithUpstream) Unwrap](#func-errdialwithupstream-unwrap)
  - [type ErrNothingRead](#type-errnothingread)
  - [type ErrSmallBuffer](#type-errsmallbuffer)
  - [type EscapeError](#type-escapeerror)
    - [func (EscapeError) Error](#func-escapeerror-error)
  - [type FS](#type-fs)
    - [func (\*FS) NewRequestHandler](#func-fs-newrequesthandler)
  - [type FormValueFunc](#type-formvaluefunc)
  - [type HijackHandler](#type-hijackhandler)
  - [type HostClient](#type-hostclient)
    - [func (\*HostClient) AcquireConn](#func-hostclient-acquireconn)
    - [func (\*HostClient) AcquireReader](#func-hostclient-acquirereader)
    - [func (\*HostClient) AcquireWriter](#func-hostclient-acquirewriter)
    - [func (\*HostClient) CloseConn](#func-hostclient-closeconn)
    - [func (\*HostClient) CloseIdleConnections](#func-hostclient-closeidleconnections)
    - [func (\*HostClient) ConnsCount](#func-hostclient-connscount)
    - [func (\*HostClient) Do](#func-hostclient-do)
    - [func (\*HostClient) DoDeadline](#func-hostclient-dodeadline)
    - [func (\*HostClient) DoRedirects](#func-hostclient-doredirects)
    - [func (\*HostClient) DoTimeout](#func-hostclient-dotimeout)
    - [func (\*HostClient) Get](#func-hostclient-get)
    - [func (\*HostClient) GetDeadline](#func-hostclient-getdeadline)
    - [func (\*HostClient) GetTimeout](#func-hostclient-gettimeout)
    - [func (\*HostClient) LastUseTime](#func-hostclient-lastusetime)
    - [func (\*HostClient) PendingRequests](#func-hostclient-pendingrequests)
    - [func (\*HostClient) Post](#func-hostclient-post)
    - [func (\*HostClient) ReleaseConn](#func-hostclient-releaseconn)
    - [func (\*HostClient) ReleaseReader](#func-hostclient-releasereader)
    - [func (\*HostClient) ReleaseWriter](#func-hostclient-releasewriter)
    - [func (\*HostClient) SetMaxConns](#func-hostclient-setmaxconns)
  - [type InvalidHostError](#type-invalidhosterror)
    - [func (InvalidHostError) Error](#func-invalidhosterror-error)
  - [type LBClient](#type-lbclient)
    - [func (\*LBClient) AddClient](#func-lbclient-addclient)
    - [func (\*LBClient) Do](#func-lbclient-do)
    - [func (\*LBClient) DoDeadline](#func-lbclient-dodeadline)
    - [func (\*LBClient) DoTimeout](#func-lbclient-dotimeout)
    - [func (\*LBClient) RemoveClients](#func-lbclient-removeclients)
  - [type Logger](#type-logger)
  - [type PathRewriteFunc](#type-pathrewritefunc)
    - [func NewPathPrefixStripper](#func-newpathprefixstripper)
    - [func NewPathSlashesStripper](#func-newpathslashesstripper)
    - [func NewVHostPathRewriter](#func-newvhostpathrewriter)
  - [type PipelineClient](#type-pipelineclient)
    - [func (\*PipelineClient) Do](#func-pipelineclient-do)
    - [func (\*PipelineClient) DoDeadline](#func-pipelineclient-dodeadline)
    - [func (\*PipelineClient) DoTimeout](#func-pipelineclient-dotimeout)
    - [func (\*PipelineClient) PendingRequests](#func-pipelineclient-pendingrequests)
  - [type ReadCloserWithError](#type-readcloserwitherror)
  - [type Request](#type-request)
    - [func AcquireRequest](#func-acquirerequest)
    - [func (\*Request) AppendBody](#func-request-appendbody)
    - [func (\*Request) AppendBodyString](#func-request-appendbodystring)
    - [func (\*Request) Body](#func-request-body)
    - [func (\*Request) BodyGunzip](#func-request-bodygunzip)
    - [func (\*Request) BodyInflate](#func-request-bodyinflate)
    - [func (\*Request) BodyStream](#func-request-bodystream)
    - [func (\*Request) BodyUnbrotli](#func-request-bodyunbrotli)
    - [func (\*Request) BodyUncompressed](#func-request-bodyuncompressed)
    - [func (\*Request) BodyUnzstd](#func-request-bodyunzstd)
    - [func (\*Request) BodyWriteTo](#func-request-bodywriteto)
    - [func (\*Request) BodyWriter](#func-request-bodywriter)
    - [func (\*Request) CloseBodyStream](#func-request-closebodystream)
    - [func (\*Request) ConnectionClose](#func-request-connectionclose)
    - [func (\*Request) ContinueReadBody](#func-request-continuereadbody)
    - [func (\*Request) ContinueReadBodyStream](#func-request-continuereadbodystream)
    - [func (\*Request) CopyTo](#func-request-copyto)
    - [func (\*Request) GetTimeOut](#func-request-gettimeout)
    - [func (\*Request) Host](#func-request-host)
    - [func (\*Request) IsBodyStream](#func-request-isbodystream)
    - [func (\*Request) MayContinue](#func-request-maycontinue)
    - [func (\*Request) MultipartForm](#func-request-multipartform)
    - [func (\*Request) PostArgs](#func-request-postargs)
    - [func (\*Request) Read](#func-request-read)
    - [func (\*Request) ReadBody](#func-request-readbody)
    - [func (\*Request) ReadLimitBody](#func-request-readlimitbody)
    - [func (\*Request) ReleaseBody](#func-request-releasebody)
    - [func (\*Request) RemoveMultipartFormFiles](#func-request-removemultipartformfiles)
    - [func (\*Request) RequestURI](#func-request-requesturi)
    - [func (\*Request) Reset](#func-request-reset)
    - [func (\*Request) ResetBody](#func-request-resetbody)
    - [func (\*Request) SetBody](#func-request-setbody)
    - [func (\*Request) SetBodyRaw](#func-request-setbodyraw)
    - [func (\*Request) SetBodyStream](#func-request-setbodystream)
    - [func (\*Request) SetBodyStreamWriter](#func-request-setbodystreamwriter)
    - [func (\*Request) SetBodyString](#func-request-setbodystring)
    - [func (\*Request) SetConnectionClose](#func-request-setconnectionclose)
    - [func (\*Request) SetHost](#func-request-sethost)
    - [func (\*Request) SetHostBytes](#func-request-sethostbytes)
    - [func (\*Request) SetRequestURI](#func-request-setrequesturi)
    - [func (\*Request) SetRequestURIBytes](#func-request-setrequesturibytes)
    - [func (\*Request) SetTimeout](#func-request-settimeout)
    - [func (\*Request) SetURI](#func-request-seturi)
    - [func (\*Request) String](#func-request-string)
    - [func (\*Request) SwapBody](#func-request-swapbody)
    - [func (\*Request) URI](#func-request-uri)
    - [func (\*Request) Write](#func-request-write)
    - [func (\*Request) WriteTo](#func-request-writeto)
  - [type RequestConfig](#type-requestconfig)
  - [type RequestCtx](#type-requestctx)
    - [func (\*RequestCtx) Conn](#func-requestctx-conn)
    - [func (\*RequestCtx) ConnID](#func-requestctx-connid)
    - [func (\*RequestCtx) ConnRequestNum](#func-requestctx-connrequestnum)
    - [func (\*RequestCtx) ConnTime](#func-requestctx-conntime)
    - [func (\*RequestCtx) Deadline](#func-requestctx-deadline)
    - [func (\*RequestCtx) Done](#func-requestctx-done)
    - [func (\*RequestCtx) Err](#func-requestctx-err)
    - [func (\*RequestCtx) Error](#func-requestctx-error)
    - [func (\*RequestCtx) FormFile](#func-requestctx-formfile)
    - [func (\*RequestCtx) FormValue](#func-requestctx-formvalue)
    - [func (\*RequestCtx) Hijack](#func-requestctx-hijack)
    - [func (\*RequestCtx) HijackSetNoResponse](#func-requestctx-hijacksetnoresponse)
    - [func (\*RequestCtx) Hijacked](#func-requestctx-hijacked)
    - [func (\*RequestCtx) Host](#func-requestctx-host)
    - [func (\*RequestCtx) ID](#func-requestctx-id)
    - [func (\*RequestCtx) IfModifiedSince](#func-requestctx-ifmodifiedsince)
    - [func (\*RequestCtx) Init](#func-requestctx-init)
    - [func (\*RequestCtx) Init2](#func-requestctx-init2)
    - [func (\*RequestCtx) IsBodyStream](#func-requestctx-isbodystream)
    - [func (\*RequestCtx) IsConnect](#func-requestctx-isconnect)
    - [func (\*RequestCtx) IsDelete](#func-requestctx-isdelete)
    - [func (\*RequestCtx) IsGet](#func-requestctx-isget)
    - [func (\*RequestCtx) IsHead](#func-requestctx-ishead)
    - [func (\*RequestCtx) IsOptions](#func-requestctx-isoptions)
    - [func (\*RequestCtx) IsPatch](#func-requestctx-ispatch)
    - [func (\*RequestCtx) IsPost](#func-requestctx-ispost)
    - [func (\*RequestCtx) IsPut](#func-requestctx-isput)
    - [func (\*RequestCtx) IsTLS](#func-requestctx-istls)
    - [func (\*RequestCtx) IsTrace](#func-requestctx-istrace)
    - [func (\*RequestCtx) LastTimeoutErrorResponse](#func-requestctx-lasttimeouterrorresponse)
    - [func (\*RequestCtx) LocalAddr](#func-requestctx-localaddr)
    - [func (\*RequestCtx) LocalIP](#func-requestctx-localip)
    - [func (\*RequestCtx) Logger](#func-requestctx-logger)
    - [func (\*RequestCtx) Method](#func-requestctx-method)
    - [func (\*RequestCtx) MultipartForm](#func-requestctx-multipartform)
    - [func (\*RequestCtx) NotFound](#func-requestctx-notfound)
    - [func (\*RequestCtx) NotModified](#func-requestctx-notmodified)
    - [func (\*RequestCtx) Path](#func-requestctx-path)
    - [func (\*RequestCtx) PostArgs](#func-requestctx-postargs)
    - [func (\*RequestCtx) PostBody](#func-requestctx-postbody)
    - [func (\*RequestCtx) QueryArgs](#func-requestctx-queryargs)
    - [func (\*RequestCtx) Redirect](#func-requestctx-redirect)
    - [func (\*RequestCtx) RedirectBytes](#func-requestctx-redirectbytes)
    - [func (\*RequestCtx) Referer](#func-requestctx-referer)
    - [func (\*RequestCtx) RemoteAddr](#func-requestctx-remoteaddr)
    - [func (\*RequestCtx) RemoteIP](#func-requestctx-remoteip)
    - [func (\*RequestCtx) RemoveUserValue](#func-requestctx-removeuservalue)
    - [func (\*RequestCtx) RemoveUserValueBytes](#func-requestctx-removeuservaluebytes)
    - [func (\*RequestCtx) RequestBodyStream](#func-requestctx-requestbodystream)
    - [func (\*RequestCtx) RequestURI](#func-requestctx-requesturi)
    - [func (\*RequestCtx) ResetBody](#func-requestctx-resetbody)
    - [func (\*RequestCtx) ResetUserValues](#func-requestctx-resetuservalues)
    - [func (\*RequestCtx) SendFile](#func-requestctx-sendfile)
    - [func (\*RequestCtx) SendFileBytes](#func-requestctx-sendfilebytes)
    - [func (\*RequestCtx) SetBody](#func-requestctx-setbody)
    - [func (\*RequestCtx) SetBodyStream](#func-requestctx-setbodystream)
    - [func (\*RequestCtx) SetBodyStreamWriter](#func-requestctx-setbodystreamwriter)
    - [func (\*RequestCtx) SetBodyString](#func-requestctx-setbodystring)
    - [func (\*RequestCtx) SetConnectionClose](#func-requestctx-setconnectionclose)
    - [func (\*RequestCtx) SetContentType](#func-requestctx-setcontenttype)
    - [func (\*RequestCtx) SetContentTypeBytes](#func-requestctx-setcontenttypebytes)
    - [func (\*RequestCtx) SetRemoteAddr](#func-requestctx-setremoteaddr)
    - [func (\*RequestCtx) SetStatusCode](#func-requestctx-setstatuscode)
    - [func (\*RequestCtx) SetUserValue](#func-requestctx-setuservalue)
    - [func (\*RequestCtx) SetUserValueBytes](#func-requestctx-setuservaluebytes)
    - [func (\*RequestCtx) String](#func-requestctx-string)
    - [func (\*RequestCtx) Success](#func-requestctx-success)
    - [func (\*RequestCtx) SuccessString](#func-requestctx-successstring)
    - [func (\*RequestCtx) TLSConnectionState](#func-requestctx-tlsconnectionstate)
    - [func (\*RequestCtx) Time](#func-requestctx-time)
    - [func (\*RequestCtx) TimeoutError](#func-requestctx-timeouterror)
    - [func (\*RequestCtx) TimeoutErrorWithCode](#func-requestctx-timeouterrorwithcode)
    - [func (\*RequestCtx) TimeoutErrorWithResponse](#func-requestctx-timeouterrorwithresponse)
    - [func (\*RequestCtx) URI](#func-requestctx-uri)
    - [func (\*RequestCtx) UserAgent](#func-requestctx-useragent)
    - [func (\*RequestCtx) UserValue](#func-requestctx-uservalue)
    - [func (\*RequestCtx) UserValueBytes](#func-requestctx-uservaluebytes)
    - [func (\*RequestCtx) Value](#func-requestctx-value)
    - [func (\*RequestCtx) VisitUserValues](#func-requestctx-visituservalues)
    - [func (\*RequestCtx) VisitUserValuesAll](#func-requestctx-visituservaluesall)
    - [func (\*RequestCtx) Write](#func-requestctx-write)
    - [func (\*RequestCtx) WriteString](#func-requestctx-writestring)
  - [type RequestHandler](#type-requesthandler)
    - [func CompressHandler](#func-compresshandler)
    - [func CompressHandlerBrotliLevel](#func-compresshandlerbrotlilevel)
    - [func CompressHandlerLevel](#func-compresshandlerlevel)
    - [func FSHandler](#func-fshandler)
    - [func TimeoutHandler](#func-timeouthandler)
    - [func TimeoutWithCodeHandler](#func-timeoutwithcodehandler)
  - [type RequestHeader](#type-requestheader)
    - [func (\*RequestHeader) Add](#func-requestheader-add)
    - [func (\*RequestHeader) AddBytesK](#func-requestheader-addbytesk)
    - [func (\*RequestHeader) AddBytesKV](#func-requestheader-addbyteskv)
    - [func (\*RequestHeader) AddBytesV](#func-requestheader-addbytesv)
    - [func (\*RequestHeader) AddTrailer](#func-requestheader-addtrailer)
    - [func (\*RequestHeader) AddTrailerBytes](#func-requestheader-addtrailerbytes)
    - [func (\*RequestHeader) AppendBytes](#func-requestheader-appendbytes)
    - [func (\*RequestHeader) ConnectionClose](#func-requestheader-connectionclose)
    - [func (\*RequestHeader) ConnectionUpgrade](#func-requestheader-connectionupgrade)
    - [func (\*RequestHeader) ContentEncoding](#func-requestheader-contentencoding)
    - [func (\*RequestHeader) ContentLength](#func-requestheader-contentlength)
    - [func (\*RequestHeader) ContentType](#func-requestheader-contenttype)
    - [func (\*RequestHeader) Cookie](#func-requestheader-cookie)
    - [func (\*RequestHeader) CookieBytes](#func-requestheader-cookiebytes)
    - [func (\*RequestHeader) CopyTo](#func-requestheader-copyto)
    - [func (\*RequestHeader) Del](#func-requestheader-del)
    - [func (\*RequestHeader) DelAllCookies](#func-requestheader-delallcookies)
    - [func (\*RequestHeader) DelBytes](#func-requestheader-delbytes)
    - [func (\*RequestHeader) DelCookie](#func-requestheader-delcookie)
    - [func (\*RequestHeader) DelCookieBytes](#func-requestheader-delcookiebytes)
    - [func (\*RequestHeader) DisableNormalizing](#func-requestheader-disablenormalizing)
    - [func (\*RequestHeader) DisableSpecialHeader](#func-requestheader-disablespecialheader)
    - [func (\*RequestHeader) EnableNormalizing](#func-requestheader-enablenormalizing)
    - [func (\*RequestHeader) EnableSpecialHeader](#func-requestheader-enablespecialheader)
    - [func (\*RequestHeader) HasAcceptEncoding](#func-requestheader-hasacceptencoding)
    - [func (\*RequestHeader) HasAcceptEncodingBytes](#func-requestheader-hasacceptencodingbytes)
    - [func (\*RequestHeader) Header](#func-requestheader-header)
    - [func (\*RequestHeader) Host](#func-requestheader-host)
    - [func (\*RequestHeader) IsConnect](#func-requestheader-isconnect)
    - [func (\*RequestHeader) IsDelete](#func-requestheader-isdelete)
    - [func (\*RequestHeader) IsGet](#func-requestheader-isget)
    - [func (\*RequestHeader) IsHTTP11](#func-requestheader-ishttp11)
    - [func (\*RequestHeader) IsHead](#func-requestheader-ishead)
    - [func (\*RequestHeader) IsOptions](#func-requestheader-isoptions)
    - [func (\*RequestHeader) IsPatch](#func-requestheader-ispatch)
    - [func (\*RequestHeader) IsPost](#func-requestheader-ispost)
    - [func (\*RequestHeader) IsPut](#func-requestheader-isput)
    - [func (\*RequestHeader) IsTrace](#func-requestheader-istrace)
    - [func (\*RequestHeader) Len](#func-requestheader-len)
    - [func (\*RequestHeader) Method](#func-requestheader-method)
    - [func (\*RequestHeader) MultipartFormBoundary](#func-requestheader-multipartformboundary)
    - [func (\*RequestHeader) Peek](#func-requestheader-peek)
    - [func (\*RequestHeader) PeekAll](#func-requestheader-peekall)
    - [func (\*RequestHeader) PeekBytes](#func-requestheader-peekbytes)
    - [func (\*RequestHeader) PeekKeys](#func-requestheader-peekkeys)
    - [func (\*RequestHeader) PeekTrailerKeys](#func-requestheader-peektrailerkeys)
    - [func (\*RequestHeader) Protocol](#func-requestheader-protocol)
    - [func (\*RequestHeader) RawHeaders](#func-requestheader-rawheaders)
    - [func (\*RequestHeader) Read](#func-requestheader-read)
    - [func (\*RequestHeader) ReadTrailer](#func-requestheader-readtrailer)
    - [func (\*RequestHeader) Referer](#func-requestheader-referer)
    - [func (\*RequestHeader) RequestURI](#func-requestheader-requesturi)
    - [func (\*RequestHeader) Reset](#func-requestheader-reset)
    - [func (\*RequestHeader) ResetConnectionClose](#func-requestheader-resetconnectionclose)
    - [func (\*RequestHeader) Set](#func-requestheader-set)
    - [func (\*RequestHeader) SetByteRange](#func-requestheader-setbyterange)
    - [func (\*RequestHeader) SetBytesK](#func-requestheader-setbytesk)
    - [func (\*RequestHeader) SetBytesKV](#func-requestheader-setbyteskv)
    - [func (\*RequestHeader) SetBytesV](#func-requestheader-setbytesv)
    - [func (\*RequestHeader) SetCanonical](#func-requestheader-setcanonical)
    - [func (\*RequestHeader) SetConnectionClose](#func-requestheader-setconnectionclose)
    - [func (\*RequestHeader) SetContentEncoding](#func-requestheader-setcontentencoding)
    - [func (\*RequestHeader) SetContentEncodingBytes](#func-requestheader-setcontentencodingbytes)
    - [func (\*RequestHeader) SetContentLength](#func-requestheader-setcontentlength)
    - [func (\*RequestHeader) SetContentType](#func-requestheader-setcontenttype)
    - [func (\*RequestHeader) SetContentTypeBytes](#func-requestheader-setcontenttypebytes)
    - [func (\*RequestHeader) SetCookie](#func-requestheader-setcookie)
    - [func (\*RequestHeader) SetCookieBytesK](#func-requestheader-setcookiebytesk)
    - [func (\*RequestHeader) SetCookieBytesKV](#func-requestheader-setcookiebyteskv)
    - [func (\*RequestHeader) SetHost](#func-requestheader-sethost)
    - [func (\*RequestHeader) SetHostBytes](#func-requestheader-sethostbytes)
    - [func (\*RequestHeader) SetMethod](#func-requestheader-setmethod)
    - [func (\*RequestHeader) SetMethodBytes](#func-requestheader-setmethodbytes)
    - [func (\*RequestHeader) SetMultipartFormBoundary](#func-requestheader-setmultipartformboundary)
    - [func (\*RequestHeader) SetMultipartFormBoundaryBytes](#func-requestheader-setmultipartformboundarybytes)
    - [func (\*RequestHeader) SetNoDefaultContentType](#func-requestheader-setnodefaultcontenttype)
    - [func (\*RequestHeader) SetProtocol](#func-requestheader-setprotocol)
    - [func (\*RequestHeader) SetProtocolBytes](#func-requestheader-setprotocolbytes)
    - [func (\*RequestHeader) SetReferer](#func-requestheader-setreferer)
    - [func (\*RequestHeader) SetRefererBytes](#func-requestheader-setrefererbytes)
    - [func (\*RequestHeader) SetRequestURI](#func-requestheader-setrequesturi)
    - [func (\*RequestHeader) SetRequestURIBytes](#func-requestheader-setrequesturibytes)
    - [func (\*RequestHeader) SetTrailer](#func-requestheader-settrailer)
    - [func (\*RequestHeader) SetTrailerBytes](#func-requestheader-settrailerbytes)
    - [func (\*RequestHeader) SetUserAgent](#func-requestheader-setuseragent)
    - [func (\*RequestHeader) SetUserAgentBytes](#func-requestheader-setuseragentbytes)
    - [func (\*RequestHeader) String](#func-requestheader-string)
    - [func (\*RequestHeader) TrailerHeader](#func-requestheader-trailerheader)
    - [func (\*RequestHeader) UserAgent](#func-requestheader-useragent)
    - [func (\*RequestHeader) VisitAll](#func-requestheader-visitall)
    - [func (\*RequestHeader) VisitAllCookie](#func-requestheader-visitallcookie)
    - [func (\*RequestHeader) VisitAllInOrder](#func-requestheader-visitallinorder)
    - [func (\*RequestHeader) VisitAllTrailer](#func-requestheader-visitalltrailer)
    - [func (\*RequestHeader) Write](#func-requestheader-write)
    - [func (\*RequestHeader) WriteTo](#func-requestheader-writeto)
  - [type Resolver](#type-resolver)
  - [type Response](#type-response)
    - [func AcquireResponse](#func-acquireresponse)
    - [func (\*Response) AppendBody](#func-response-appendbody)
    - [func (\*Response) AppendBodyString](#func-response-appendbodystring)
    - [func (\*Response) Body](#func-response-body)
    - [func (\*Response) BodyGunzip](#func-response-bodygunzip)
    - [func (\*Response) BodyInflate](#func-response-bodyinflate)
    - [func (\*Response) BodyStream](#func-response-bodystream)
    - [func (\*Response) BodyUnbrotli](#func-response-bodyunbrotli)
    - [func (\*Response) BodyUncompressed](#func-response-bodyuncompressed)
    - [func (\*Response) BodyUnzstd](#func-response-bodyunzstd)
    - [func (\*Response) BodyWriteTo](#func-response-bodywriteto)
    - [func (\*Response) BodyWriter](#func-response-bodywriter)
    - [func (\*Response) CloseBodyStream](#func-response-closebodystream)
    - [func (\*Response) ConnectionClose](#func-response-connectionclose)
    - [func (\*Response) CopyTo](#func-response-copyto)
    - [func (\*Response) IsBodyStream](#func-response-isbodystream)
    - [func (\*Response) LocalAddr](#func-response-localaddr)
    - [func (\*Response) ParseNetConn](#func-response-parsenetconn)
    - [func (\*Response) Read](#func-response-read)
    - [func (\*Response) ReadBody](#func-response-readbody)
    - [func (\*Response) ReadLimitBody](#func-response-readlimitbody)
    - [func (\*Response) ReleaseBody](#func-response-releasebody)
    - [func (\*Response) RemoteAddr](#func-response-remoteaddr)
    - [func (\*Response) Reset](#func-response-reset)
    - [func (\*Response) ResetBody](#func-response-resetbody)
    - [func (\*Response) SendFile](#func-response-sendfile)
    - [func (\*Response) SetBody](#func-response-setbody)
    - [func (\*Response) SetBodyRaw](#func-response-setbodyraw)
    - [func (\*Response) SetBodyStream](#func-response-setbodystream)
    - [func (\*Response) SetBodyStreamWriter](#func-response-setbodystreamwriter)
    - [func (\*Response) SetBodyString](#func-response-setbodystring)
    - [func (\*Response) SetConnectionClose](#func-response-setconnectionclose)
    - [func (\*Response) SetStatusCode](#func-response-setstatuscode)
    - [func (\*Response) StatusCode](#func-response-statuscode)
    - [func (\*Response) String](#func-response-string)
    - [func (\*Response) SwapBody](#func-response-swapbody)
    - [func (\*Response) Write](#func-response-write)
    - [func (\*Response) WriteDeflate](#func-response-writedeflate)
    - [func (\*Response) WriteDeflateLevel](#func-response-writedeflatelevel)
    - [func (\*Response) WriteGzip](#func-response-writegzip)
    - [func (\*Response) WriteGzipLevel](#func-response-writegziplevel)
    - [func (\*Response) WriteTo](#func-response-writeto)
  - [type ResponseHeader](#type-responseheader)
    - [func (\*ResponseHeader) Add](#func-responseheader-add)
    - [func (\*ResponseHeader) AddBytesK](#func-responseheader-addbytesk)
    - [func (\*ResponseHeader) AddBytesKV](#func-responseheader-addbyteskv)
    - [func (\*ResponseHeader) AddBytesV](#func-responseheader-addbytesv)
    - [func (\*ResponseHeader) AddTrailer](#func-responseheader-addtrailer)
    - [func (\*ResponseHeader) AddTrailerBytes](#func-responseheader-addtrailerbytes)
    - [func (\*ResponseHeader) AppendBytes](#func-responseheader-appendbytes)
    - [func (\*ResponseHeader) ConnectionClose](#func-responseheader-connectionclose)
    - [func (\*ResponseHeader) ConnectionUpgrade](#func-responseheader-connectionupgrade)
    - [func (\*ResponseHeader) ContentEncoding](#func-responseheader-contentencoding)
    - [func (\*ResponseHeader) ContentLength](#func-responseheader-contentlength)
    - [func (\*ResponseHeader) ContentType](#func-responseheader-contenttype)
    - [func (\*ResponseHeader) Cookie](#func-responseheader-cookie)
    - [func (\*ResponseHeader) CopyTo](#func-responseheader-copyto)
    - [func (\*ResponseHeader) Del](#func-responseheader-del)
    - [func (\*ResponseHeader) DelAllCookies](#func-responseheader-delallcookies)
    - [func (\*ResponseHeader) DelBytes](#func-responseheader-delbytes)
    - [func (\*ResponseHeader) DelClientCookie](#func-responseheader-delclientcookie)
    - [func (\*ResponseHeader) DelClientCookieBytes](#func-responseheader-delclientcookiebytes)
    - [func (\*ResponseHeader) DelCookie](#func-responseheader-delcookie)
    - [func (\*ResponseHeader) DelCookieBytes](#func-responseheader-delcookiebytes)
    - [func (\*ResponseHeader) DisableNormalizing](#func-responseheader-disablenormalizing)
    - [func (\*ResponseHeader) EnableNormalizing](#func-responseheader-enablenormalizing)
    - [func (\*ResponseHeader) Header](#func-responseheader-header)
    - [func (\*ResponseHeader) IsHTTP11](#func-responseheader-ishttp11)
    - [func (\*ResponseHeader) Len](#func-responseheader-len)
    - [func (\*ResponseHeader) Peek](#func-responseheader-peek)
    - [func (\*ResponseHeader) PeekAll](#func-responseheader-peekall)
    - [func (\*ResponseHeader) PeekBytes](#func-responseheader-peekbytes)
    - [func (\*ResponseHeader) PeekCookie](#func-responseheader-peekcookie)
    - [func (\*ResponseHeader) PeekKeys](#func-responseheader-peekkeys)
    - [func (\*ResponseHeader) PeekTrailerKeys](#func-responseheader-peektrailerkeys)
    - [func (\*ResponseHeader) Protocol](#func-responseheader-protocol)
    - [func (\*ResponseHeader) Read](#func-responseheader-read)
    - [func (\*ResponseHeader) ReadTrailer](#func-responseheader-readtrailer)
    - [func (\*ResponseHeader) Reset](#func-responseheader-reset)
    - [func (\*ResponseHeader) ResetConnectionClose](#func-responseheader-resetconnectionclose)
    - [func (\*ResponseHeader) Server](#func-responseheader-server)
    - [func (\*ResponseHeader) Set](#func-responseheader-set)
    - [func (\*ResponseHeader) SetBytesK](#func-responseheader-setbytesk)
    - [func (\*ResponseHeader) SetBytesKV](#func-responseheader-setbyteskv)
    - [func (\*ResponseHeader) SetBytesV](#func-responseheader-setbytesv)
    - [func (\*ResponseHeader) SetCanonical](#func-responseheader-setcanonical)
    - [func (\*ResponseHeader) SetConnectionClose](#func-responseheader-setconnectionclose)
    - [func (\*ResponseHeader) SetContentEncoding](#func-responseheader-setcontentencoding)
    - [func (\*ResponseHeader) SetContentEncodingBytes](#func-responseheader-setcontentencodingbytes)
    - [func (\*ResponseHeader) SetContentLength](#func-responseheader-setcontentlength)
    - [func (\*ResponseHeader) SetContentRange](#func-responseheader-setcontentrange)
    - [func (\*ResponseHeader) SetContentType](#func-responseheader-setcontenttype)
    - [func (\*ResponseHeader) SetContentTypeBytes](#func-responseheader-setcontenttypebytes)
    - [func (\*ResponseHeader) SetCookie](#func-responseheader-setcookie)
    - [func (\*ResponseHeader) SetLastModified](#func-responseheader-setlastmodified)
    - [func (\*ResponseHeader) SetNoDefaultContentType](#func-responseheader-setnodefaultcontenttype)
    - [func (\*ResponseHeader) SetProtocol](#func-responseheader-setprotocol)
    - [func (\*ResponseHeader) SetServer](#func-responseheader-setserver)
    - [func (\*ResponseHeader) SetServerBytes](#func-responseheader-setserverbytes)
    - [func (\*ResponseHeader) SetStatusCode](#func-responseheader-setstatuscode)
    - [func (\*ResponseHeader) SetStatusMessage](#func-responseheader-setstatusmessage)
    - [func (\*ResponseHeader) SetTrailer](#func-responseheader-settrailer)
    - [func (\*ResponseHeader) SetTrailerBytes](#func-responseheader-settrailerbytes)
    - [func (\*ResponseHeader) StatusCode](#func-responseheader-statuscode)
    - [func (\*ResponseHeader) StatusMessage](#func-responseheader-statusmessage)
    - [func (\*ResponseHeader) String](#func-responseheader-string)
    - [func (\*ResponseHeader) TrailerHeader](#func-responseheader-trailerheader)
    - [func (\*ResponseHeader) VisitAll](#func-responseheader-visitall)
    - [func (\*ResponseHeader) VisitAllCookie](#func-responseheader-visitallcookie)
    - [func (\*ResponseHeader) VisitAllTrailer](#func-responseheader-visitalltrailer)
    - [func (\*ResponseHeader) Write](#func-responseheader-write)
    - [func (\*ResponseHeader) WriteTo](#func-responseheader-writeto)
  - [type RetryIfErrFunc](#type-retryiferrfunc)
  - [type RetryIfFunc](#type-retryiffunc)
  - [type RoundTripper](#type-roundtripper)
  - [type ServeHandler](#type-servehandler)
  - [type Server](#type-server)
    - [func (\*Server) AppendCert](#func-server-appendcert)
    - [func (\*Server) AppendCertEmbed](#func-server-appendcertembed)
    - [func (\*Server) GetCurrentConcurrency](#func-server-getcurrentconcurrency)
    - [func (\*Server) GetOpenConnectionsCount](#func-server-getopenconnectionscount)
    - [func (\*Server) GetRejectedConnectionsCount](#func-server-getrejectedconnectionscount)
    - [func (\*Server) ListenAndServe](#func-server-listenandserve)
    - [func (\*Server) ListenAndServeTLS](#func-server-listenandservetls)
    - [func (\*Server) ListenAndServeTLSEmbed](#func-server-listenandservetlsembed)
    - [func (\*Server) ListenAndServeUNIX](#func-server-listenandserveunix)
    - [func (\*Server) NextProto](#func-server-nextproto)
    - [func (\*Server) Serve](#func-server-serve)
    - [func (\*Server) ServeConn](#func-server-serveconn)
    - [func (\*Server) ServeTLS](#func-server-servetls)
    - [func (\*Server) ServeTLSEmbed](#func-server-servetlsembed)
    - [func (\*Server) Shutdown](#func-server-shutdown)
    - [func (\*Server) ShutdownWithContext](#func-server-shutdownwithcontext)
  - [type StreamWriter](#type-streamwriter)
  - [type TCPDialer](#type-tcpdialer)
    - [func (\*TCPDialer) Dial](#func-tcpdialer-dial)
    - [func (\*TCPDialer) DialDualStack](#func-tcpdialer-dialdualstack)
    - [func (\*TCPDialer) DialDualStackTimeout](#func-tcpdialer-dialdualstacktimeout)
    - [func (\*TCPDialer) DialTimeout](#func-tcpdialer-dialtimeout)
  - [type URI](#type-uri)
    - [func AcquireURI](#func-acquireuri)
    - [func (\*URI) AppendBytes](#func-uri-appendbytes)
    - [func (\*URI) CopyTo](#func-uri-copyto)
    - [func (\*URI) FullURI](#func-uri-fulluri)
    - [func (\*URI) Hash](#func-uri-hash)
    - [func (\*URI) Host](#func-uri-host)
    - [func (\*URI) LastPathSegment](#func-uri-lastpathsegment)
    - [func (\*URI) Parse](#func-uri-parse)
    - [func (\*URI) Password](#func-uri-password)
    - [func (\*URI) Path](#func-uri-path)
    - [func (\*URI) PathOriginal](#func-uri-pathoriginal)
    - [func (\*URI) QueryArgs](#func-uri-queryargs)
    - [func (\*URI) QueryString](#func-uri-querystring)
    - [func (\*URI) RequestURI](#func-uri-requesturi)
    - [func (\*URI) Reset](#func-uri-reset)
    - [func (\*URI) Scheme](#func-uri-scheme)
    - [func (\*URI) SetHash](#func-uri-sethash)
    - [func (\*URI) SetHashBytes](#func-uri-sethashbytes)
    - [func (\*URI) SetHost](#func-uri-sethost)
    - [func (\*URI) SetHostBytes](#func-uri-sethostbytes)
    - [func (\*URI) SetPassword](#func-uri-setpassword)
    - [func (\*URI) SetPasswordBytes](#func-uri-setpasswordbytes)
    - [func (\*URI) SetPath](#func-uri-setpath)
    - [func (\*URI) SetPathBytes](#func-uri-setpathbytes)
    - [func (\*URI) SetQueryString](#func-uri-setquerystring)
    - [func (\*URI) SetQueryStringBytes](#func-uri-setquerystringbytes)
    - [func (\*URI) SetScheme](#func-uri-setscheme)
    - [func (\*URI) SetSchemeBytes](#func-uri-setschemebytes)
    - [func (\*URI) SetUsername](#func-uri-setusername)
    - [func (\*URI) SetUsernameBytes](#func-uri-setusernamebytes)
    - [func (\*URI) String](#func-uri-string)
    - [func (\*URI) Update](#func-uri-update)
    - [func (\*URI) UpdateBytes](#func-uri-updatebytes)
    - [func (\*URI) Username](#func-uri-username)
    - [func (\*URI) WriteTo](#func-uri-writeto)


## Constants

<a name="CompressBrotliNoCompression"></a>Supported compression levels.

```go
const (
    CompressBrotliNoCompression   = 0
    CompressBrotliBestSpeed       = brotli.BestSpeed
    CompressBrotliBestCompression = brotli.BestCompression

    // Choose a default brotli compression level comparable to
    // CompressDefaultCompression (gzip 6)
    // See: https://github.com/valyala/fasthttp/issues/798#issuecomment-626293806
    CompressBrotliDefaultCompression = 4
)
```

<a name="CompressNoCompression"></a>Supported compression levels.

```go
const (
    CompressNoCompression      = flate.NoCompression
    CompressBestSpeed          = flate.BestSpeed
    CompressBestCompression    = flate.BestCompression
    CompressDefaultCompression = 6  // flate.DefaultCompression
    CompressHuffmanOnly        = -2 // flate.HuffmanOnly
)
```

<a name="HeaderAuthorization"></a>Headers.

```go
const (
    // Authentication.
    HeaderAuthorization      = "Authorization"
    HeaderProxyAuthenticate  = "Proxy-Authenticate"
    HeaderProxyAuthorization = "Proxy-Authorization"
    HeaderWWWAuthenticate    = "WWW-Authenticate"

    // Caching.
    HeaderAge           = "Age"
    HeaderCacheControl  = "Cache-Control"
    HeaderClearSiteData = "Clear-Site-Data"
    HeaderExpires       = "Expires"
    HeaderPragma        = "Pragma"
    HeaderWarning       = "Warning"

    // Client hints.
    HeaderAcceptCH         = "Accept-CH"
    HeaderAcceptCHLifetime = "Accept-CH-Lifetime"
    HeaderContentDPR       = "Content-DPR"
    HeaderDPR              = "DPR"
    HeaderEarlyData        = "Early-Data"
    HeaderSaveData         = "Save-Data"
    HeaderViewportWidth    = "Viewport-Width"
    HeaderWidth            = "Width"

    // Conditionals.
    HeaderETag              = "ETag"
    HeaderIfMatch           = "If-Match"
    HeaderIfModifiedSince   = "If-Modified-Since"
    HeaderIfNoneMatch       = "If-None-Match"
    HeaderIfUnmodifiedSince = "If-Unmodified-Since"
    HeaderLastModified      = "Last-Modified"
    HeaderVary              = "Vary"

    // Connection management.
    HeaderConnection      = "Connection"
    HeaderKeepAlive       = "Keep-Alive"
    HeaderProxyConnection = "Proxy-Connection"

    // Content negotiation.
    HeaderAccept         = "Accept"
    HeaderAcceptCharset  = "Accept-Charset"
    HeaderAcceptEncoding = "Accept-Encoding"
    HeaderAcceptLanguage = "Accept-Language"

    // Controls.
    HeaderCookie      = "Cookie"
    HeaderExpect      = "Expect"
    HeaderMaxForwards = "Max-Forwards"
    HeaderSetCookie   = "Set-Cookie"

    // CORS.
    HeaderAccessControlAllowCredentials = "Access-Control-Allow-Credentials"
    HeaderAccessControlAllowHeaders     = "Access-Control-Allow-Headers"
    HeaderAccessControlAllowMethods     = "Access-Control-Allow-Methods"
    HeaderAccessControlAllowOrigin      = "Access-Control-Allow-Origin"
    HeaderAccessControlExposeHeaders    = "Access-Control-Expose-Headers"
    HeaderAccessControlMaxAge           = "Access-Control-Max-Age"
    HeaderAccessControlRequestHeaders   = "Access-Control-Request-Headers"
    HeaderAccessControlRequestMethod    = "Access-Control-Request-Method"
    HeaderOrigin                        = "Origin"
    HeaderTimingAllowOrigin             = "Timing-Allow-Origin"
    HeaderXPermittedCrossDomainPolicies = "X-Permitted-Cross-Domain-Policies"

    // Do Not Track.
    HeaderDNT = "DNT"
    HeaderTk  = "Tk"

    // Downloads.
    HeaderContentDisposition = "Content-Disposition"

    // Message body information.
    HeaderContentEncoding = "Content-Encoding"
    HeaderContentLanguage = "Content-Language"
    HeaderContentLength   = "Content-Length"
    HeaderContentLocation = "Content-Location"
    HeaderContentType     = "Content-Type"

    // Proxies.
    HeaderForwarded       = "Forwarded"
    HeaderVia             = "Via"
    HeaderXForwardedFor   = "X-Forwarded-For"
    HeaderXForwardedHost  = "X-Forwarded-Host"
    HeaderXForwardedProto = "X-Forwarded-Proto"

    // Redirects.
    HeaderLocation = "Location"

    // Request context.
    HeaderFrom           = "From"
    HeaderHost           = "Host"
    HeaderReferer        = "Referer"
    HeaderReferrerPolicy = "Referrer-Policy"
    HeaderUserAgent      = "User-Agent"

    // Response context.
    HeaderAllow  = "Allow"
    HeaderServer = "Server"

    // Range requests.
    HeaderAcceptRanges = "Accept-Ranges"
    HeaderContentRange = "Content-Range"
    HeaderIfRange      = "If-Range"
    HeaderRange        = "Range"

    // Security.
    HeaderContentSecurityPolicy           = "Content-Security-Policy"
    HeaderContentSecurityPolicyReportOnly = "Content-Security-Policy-Report-Only"
    HeaderCrossOriginResourcePolicy       = "Cross-Origin-Resource-Policy"
    HeaderExpectCT                        = "Expect-CT"
    HeaderFeaturePolicy                   = "Feature-Policy"
    HeaderPublicKeyPins                   = "Public-Key-Pins"
    HeaderPublicKeyPinsReportOnly         = "Public-Key-Pins-Report-Only"
    HeaderStrictTransportSecurity         = "Strict-Transport-Security"
    HeaderUpgradeInsecureRequests         = "Upgrade-Insecure-Requests"
    HeaderXContentTypeOptions             = "X-Content-Type-Options"
    HeaderXDownloadOptions                = "X-Download-Options"
    HeaderXFrameOptions                   = "X-Frame-Options"
    HeaderXPoweredBy                      = "X-Powered-By"
    HeaderXXSSProtection                  = "X-XSS-Protection"

    // Server-sent event.
    HeaderLastEventID = "Last-Event-ID"
    HeaderNEL         = "NEL"
    HeaderPingFrom    = "Ping-From"
    HeaderPingTo      = "Ping-To"
    HeaderReportTo    = "Report-To"

    // Transfer coding.
    HeaderTE               = "TE"
    HeaderTrailer          = "Trailer"
    HeaderTransferEncoding = "Transfer-Encoding"

    // WebSockets.
    HeaderSecWebSocketAccept     = "Sec-WebSocket-Accept"
    HeaderSecWebSocketExtensions = "Sec-WebSocket-Extensions" // #nosec G101
    HeaderSecWebSocketKey        = "Sec-WebSocket-Key"
    HeaderSecWebSocketProtocol   = "Sec-WebSocket-Protocol"
    HeaderSecWebSocketVersion    = "Sec-WebSocket-Version"

    // Other.
    HeaderAcceptPatch         = "Accept-Patch"
    HeaderAcceptPushPolicy    = "Accept-Push-Policy"
    HeaderAcceptSignature     = "Accept-Signature"
    HeaderAltSvc              = "Alt-Svc"
    HeaderDate                = "Date"
    HeaderIndex               = "Index"
    HeaderLargeAllocation     = "Large-Allocation"
    HeaderLink                = "Link"
    HeaderPushPolicy          = "Push-Policy"
    HeaderRetryAfter          = "Retry-After"
    HeaderServerTiming        = "Server-Timing"
    HeaderSignature           = "Signature"
    HeaderSignedHeaders       = "Signed-Headers"
    HeaderSourceMap           = "SourceMap"
    HeaderUpgrade             = "Upgrade"
    HeaderXDNSPrefetchControl = "X-DNS-Prefetch-Control"
    HeaderXPingback           = "X-Pingback"
    HeaderXRequestedWith      = "X-Requested-With"
    HeaderXRobotsTag          = "X-Robots-Tag"
    HeaderXUACompatible       = "X-UA-Compatible"
)
```

<a name="MethodGet"></a>HTTP methods were copied from net/http.

```go
const (
    MethodGet     = "GET"     // RFC 7231, 4.3.1
    MethodHead    = "HEAD"    // RFC 7231, 4.3.2
    MethodPost    = "POST"    // RFC 7231, 4.3.3
    MethodPut     = "PUT"     // RFC 7231, 4.3.4
    MethodPatch   = "PATCH"   // RFC 5789
    MethodDelete  = "DELETE"  // RFC 7231, 4.3.5
    MethodConnect = "CONNECT" // RFC 7231, 4.3.6
    MethodOptions = "OPTIONS" // RFC 7231, 4.3.7
    MethodTrace   = "TRACE"   // RFC 7231, 4.3.8
)
```

<a name="StatusContinue"></a>HTTP status codes were stolen from net/http.

```go
const (
    StatusContinue           = 100 // RFC 7231, 6.2.1
    StatusSwitchingProtocols = 101 // RFC 7231, 6.2.2
    StatusProcessing         = 102 // RFC 2518, 10.1
    StatusEarlyHints         = 103 // RFC 8297

    StatusOK                   = 200 // RFC 7231, 6.3.1
    StatusCreated              = 201 // RFC 7231, 6.3.2
    StatusAccepted             = 202 // RFC 7231, 6.3.3
    StatusNonAuthoritativeInfo = 203 // RFC 7231, 6.3.4
    StatusNoContent            = 204 // RFC 7231, 6.3.5
    StatusResetContent         = 205 // RFC 7231, 6.3.6
    StatusPartialContent       = 206 // RFC 7233, 4.1
    StatusMultiStatus          = 207 // RFC 4918, 11.1
    StatusAlreadyReported      = 208 // RFC 5842, 7.1
    StatusIMUsed               = 226 // RFC 3229, 10.4.1

    StatusMultipleChoices  = 300 // RFC 7231, 6.4.1
    StatusMovedPermanently = 301 // RFC 7231, 6.4.2
    StatusFound            = 302 // RFC 7231, 6.4.3
    StatusSeeOther         = 303 // RFC 7231, 6.4.4
    StatusNotModified      = 304 // RFC 7232, 4.1
    StatusUseProxy         = 305 // RFC 7231, 6.4.5

    StatusTemporaryRedirect = 307 // RFC 7231, 6.4.7
    StatusPermanentRedirect = 308 // RFC 7538, 3

    StatusBadRequest                   = 400 // RFC 7231, 6.5.1
    StatusUnauthorized                 = 401 // RFC 7235, 3.1
    StatusPaymentRequired              = 402 // RFC 7231, 6.5.2
    StatusForbidden                    = 403 // RFC 7231, 6.5.3
    StatusNotFound                     = 404 // RFC 7231, 6.5.4
    StatusMethodNotAllowed             = 405 // RFC 7231, 6.5.5
    StatusNotAcceptable                = 406 // RFC 7231, 6.5.6
    StatusProxyAuthRequired            = 407 // RFC 7235, 3.2
    StatusRequestTimeout               = 408 // RFC 7231, 6.5.7
    StatusConflict                     = 409 // RFC 7231, 6.5.8
    StatusGone                         = 410 // RFC 7231, 6.5.9
    StatusLengthRequired               = 411 // RFC 7231, 6.5.10
    StatusPreconditionFailed           = 412 // RFC 7232, 4.2
    StatusRequestEntityTooLarge        = 413 // RFC 7231, 6.5.11
    StatusRequestURITooLong            = 414 // RFC 7231, 6.5.12
    StatusUnsupportedMediaType         = 415 // RFC 7231, 6.5.13
    StatusRequestedRangeNotSatisfiable = 416 // RFC 7233, 4.4
    StatusExpectationFailed            = 417 // RFC 7231, 6.5.14
    StatusTeapot                       = 418 // RFC 7168, 2.3.3
    StatusMisdirectedRequest           = 421 // RFC 7540, 9.1.2
    StatusUnprocessableEntity          = 422 // RFC 4918, 11.2
    StatusLocked                       = 423 // RFC 4918, 11.3
    StatusFailedDependency             = 424 // RFC 4918, 11.4
    StatusUpgradeRequired              = 426 // RFC 7231, 6.5.15
    StatusPreconditionRequired         = 428 // RFC 6585, 3
    StatusTooManyRequests              = 429 // RFC 6585, 4
    StatusRequestHeaderFieldsTooLarge  = 431 // RFC 6585, 5
    StatusUnavailableForLegalReasons   = 451 // RFC 7725, 3

    StatusInternalServerError           = 500 // RFC 7231, 6.6.1
    StatusNotImplemented                = 501 // RFC 7231, 6.6.2
    StatusBadGateway                    = 502 // RFC 7231, 6.6.3
    StatusServiceUnavailable            = 503 // RFC 7231, 6.6.4
    StatusGatewayTimeout                = 504 // RFC 7231, 6.6.5
    StatusHTTPVersionNotSupported       = 505 // RFC 7231, 6.6.6
    StatusVariantAlsoNegotiates         = 506 // RFC 2295, 8.1
    StatusInsufficientStorage           = 507 // RFC 4918, 11.5
    StatusLoopDetected                  = 508 // RFC 5842, 7.2
    StatusNotExtended                   = 510 // RFC 2774, 7
    StatusNetworkAuthenticationRequired = 511 // RFC 6585, 6
)
```

<a name="CompressZstdSpeedNotSet"></a>

```go
const (
    CompressZstdSpeedNotSet = iota
    CompressZstdBestSpeed
    CompressZstdDefault
    CompressZstdSpeedBetter
    CompressZstdBestCompression
)
```

<a name="DefaultConcurrency"></a>DefaultConcurrency is the maximum number of concurrent connections the Server may serve by default \(i.e. if Server.Concurrency isn't set\).

```go
const DefaultConcurrency = 256 * 1024
```

<a name="DefaultDNSCacheDuration"></a>DefaultDNSCacheDuration is the duration for caching resolved TCP addresses by Dial\* functions.

```go
const DefaultDNSCacheDuration = time.Minute
```

<a name="DefaultDialTimeout"></a>DefaultDialTimeout is timeout used by Dial and DialDualStack for establishing TCP connections.

```go
const DefaultDialTimeout = 3 * time.Second
```

<a name="DefaultLBClientTimeout"></a>DefaultLBClientTimeout is the default request timeout used by LBClient when calling LBClient.Do.

The timeout may be overridden via LBClient.Timeout.

```go
const DefaultLBClientTimeout = time.Second
```

<a name="DefaultMaxConnsPerHost"></a>DefaultMaxConnsPerHost is the maximum number of concurrent connections http client may establish per host by default \(i.e. if Client.MaxConnsPerHost isn't set\).

```go
const DefaultMaxConnsPerHost = 512
```

<a name="DefaultMaxIdemponentCallAttempts"></a>DefaultMaxIdemponentCallAttempts is the default idempotent calls attempts count.

```go
const DefaultMaxIdemponentCallAttempts = 5
```

<a name="DefaultMaxIdleConnDuration"></a>DefaultMaxIdleConnDuration is the default duration before idle keep\-alive connection is closed.

```go
const DefaultMaxIdleConnDuration = 10 * time.Second
```

<a name="DefaultMaxPendingRequests"></a>DefaultMaxPendingRequests is the default value for PipelineClient.MaxPendingRequests.

```go
const DefaultMaxPendingRequests = 1024
```

<a name="DefaultMaxRequestBodySize"></a>DefaultMaxRequestBodySize is the maximum request body size the server reads by default.

See Server.MaxRequestBodySize for details.

```go
const DefaultMaxRequestBodySize = 4 * 1024 * 1024
```

<a name="FSCompressedFileSuffix"></a>FSCompressedFileSuffix is the suffix FS adds to the original file names when trying to store compressed file under the new file name. See FS.Compress for details.

```go
const FSCompressedFileSuffix = ".fasthttp.gz"
```

<a name="FSHandlerCacheDuration"></a>FSHandlerCacheDuration is the default expiration duration for inactive file handlers opened by FS.

```go
const FSHandlerCacheDuration = 10 * time.Second
```

## Variables

<a name="ErrMissingLocation"></a>

```go
var (
    // ErrMissingLocation is returned by clients when the Location header is missing on
    // an HTTP response with a redirect status code.
    ErrMissingLocation = errors.New("missing Location header for http redirect")
    // ErrTooManyRedirects is returned by clients when the number of redirects followed
    // exceed the max count.
    ErrTooManyRedirects = errors.New("too many redirects detected when doing the request")

    // HostClients are only able to follow redirects to the same protocol.
    ErrHostClientRedirectToDifferentScheme = errors.New("HostClient can't follow redirects to a different protocol," +
        " please use Client instead")
)
```

<a name="ErrNoFreeConns"></a>

```go
var (
    // ErrNoFreeConns is returned when no free connections available
    // to the given host.
    //
    // Increase the allowed number of connections per host if you
    // see this error.
    ErrNoFreeConns = errors.New("no free connections available to host")

    // ErrConnectionClosed may be returned from client methods if the server
    // closes connection before returning the first response byte.
    //
    // If you see this error, then either fix the server by returning
    // 'Connection: close' response header before closing the connection
    // or add 'Connection: close' request header before sending requests
    // to broken server.
    ErrConnectionClosed = errors.New("the server closed connection before returning the first response byte. " +
        "Make sure the server returns 'Connection: close' response header before closing the connection")

    // ErrConnPoolStrategyNotImpl is returned when HostClient.ConnPoolStrategy is not implement yet.
    // If you see this error, then you need to check your HostClient configuration.
    ErrConnPoolStrategyNotImpl = errors.New("connection pool strategy is not implement")
)
```

<a name="CookieExpireDelete"></a>

```go
var (
    // CookieExpireDelete may be set on Cookie.Expire for expiring the given cookie.
    CookieExpireDelete = time.Date(2009, time.November, 10, 23, 0, 0, 0, time.UTC)

    // CookieExpireUnlimited indicates that the cookie doesn't expire.
    CookieExpireUnlimited = zeroTime
)
```

<a name="ErrPerIPConnLimit"></a>

```go
var (
    // ErrPerIPConnLimit may be returned from ServeConn if the number of connections
    // per ip exceeds Server.MaxConnsPerIP.
    ErrPerIPConnLimit = errors.New("too many connections per ip")

    // ErrConcurrencyLimit may be returned from ServeConn if the number
    // of concurrently served connections exceeds Server.Concurrency.
    ErrConcurrencyLimit = errors.New("cannot serve the connection because Server.Concurrency concurrent connections are served")
)
```

<a name="ErrAlreadyServing"></a>ErrAlreadyServing is deprecated. Deprecated: ErrAlreadyServing is never returned from Serve. See issue \#633.

```go
var ErrAlreadyServing = errors.New("Server is already serving connections")
```

<a name="ErrBadTrailer"></a>

```go
var ErrBadTrailer = errors.New("contain forbidden trailer")
```

<a name="ErrBodyTooLarge"></a>ErrBodyTooLarge is returned if either request or response body exceeds the given limit.

```go
var ErrBodyTooLarge = errors.New("body size exceeds the given limit")
```

<a name="ErrContentEncodingUnsupported"></a>

```go
var ErrContentEncodingUnsupported = errors.New("unsupported Content-Encoding")
```

<a name="ErrDialTimeout"></a>ErrDialTimeout is returned when TCP dialing is timed out.

```go
var ErrDialTimeout = errors.New("dialing to the given TCP address timed out")
```

<a name="ErrGetOnly"></a>ErrGetOnly is returned when server expects only GET requests, but some other type of request came \(Server.GetOnly option is true\).

```go
var ErrGetOnly = errors.New("non-GET request received")
```

<a name="ErrMissingFile"></a>ErrMissingFile may be returned from FormFile when the is no uploaded file associated with the given multipart form key.

```go
var ErrMissingFile = errors.New("there is no uploaded file associated with the given key")
```

<a name="ErrNoArgValue"></a>ErrNoArgValue is returned when Args value with the given key is missing.

```go
var ErrNoArgValue = errors.New("no Args value for the given key")
```

<a name="ErrNoMultipartForm"></a>ErrNoMultipartForm means that the request's Content\-Type isn't 'multipart/form\-data'.

```go
var ErrNoMultipartForm = errors.New("request Content-Type has bad boundary or is not multipart/form-data")
```

<a name="ErrPipelineOverflow"></a>ErrPipelineOverflow may be returned from PipelineClient.Do\* if the requests' queue is overflowed.

```go
var ErrPipelineOverflow = errors.New("pipelined requests' queue has been overflowed. Increase MaxConns and/or MaxPendingRequests")
```

<a name="ErrTLSHandshakeTimeout"></a>ErrTLSHandshakeTimeout indicates there is a timeout from tls handshake.

```go
var ErrTLSHandshakeTimeout = errors.New("tls handshake timed out")
```

<a name="ErrTimeout"></a>ErrTimeout is returned from timed out calls.

```go
var ErrTimeout = &timeoutError{}
```

<a name="ErrorInvalidURI"></a>

```go
var ErrorInvalidURI = errors.New("invalid uri")
```

<a name="FSCompressedFileSuffixes"></a>FSCompressedFileSuffixes is the suffixes FS adds to the original file names depending on encoding when trying to store compressed file under the new file name. See FS.Compress for details.

```go
var FSCompressedFileSuffixes = map[string]string{
    "gzip": ".fasthttp.gz",
    "br":   ".fasthttp.br",
    "zstd": ".fasthttp.zst",
}
```

<a name="NetHttpFormValueFunc"></a>

```go
var (

    // NetHttpFormValueFunc gives consistent behavior with net/http.
    // POST and PUT body parameters take precedence over URL query string values.
    //
    //nolint:stylecheck // backwards compatibility
    NetHttpFormValueFunc = func(ctx *RequestCtx, key string) []byte {
        v := ctx.PostArgs().Peek(key)
        if len(v) > 0 {
            return v
        }
        mf, err := ctx.MultipartForm()
        if err == nil && mf.Value != nil {
            vv := mf.Value[key]
            if len(vv) > 0 {
                return []byte(vv[0])
            }
        }
        v = ctx.QueryArgs().Peek(key)
        if len(v) > 0 {
            return v
        }
        return nil
    }
)
```

<a name="AcquireTimer"></a>
## func [AcquireTimer](<https://github.com/valyala/fasthttp/blob/master/timer.go#L35>)

```go
func AcquireTimer(timeout time.Duration) *time.Timer
```

AcquireTimer returns a time.Timer from the pool and updates it to send the current time on its channel after at least timeout.

The returned Timer may be returned to the pool with ReleaseTimer when no longer needed. This allows reducing GC load.

<a name="AddMissingPort"></a>
## func [AddMissingPort](<https://github.com/valyala/fasthttp/blob/master/client.go#L2090>)

```go
func AddMissingPort(addr string, isTLS bool) string
```

AddMissingPort adds a port to a host if it is missing. A literal IPv6 address in hostport must be enclosed in square brackets, as in "\[::1\]:80", "\[::1%lo0\]:80".

<a name="AppendBrotliBytes"></a>
## func [AppendBrotliBytes](<https://github.com/valyala/fasthttp/blob/master/brotli.go#L163>)

```go
func AppendBrotliBytes(dst, src []byte) []byte
```

AppendBrotliBytes appends brotlied src to dst and returns the resulting dst.

<a name="AppendBrotliBytesLevel"></a>
## func [AppendBrotliBytesLevel](<https://github.com/valyala/fasthttp/blob/master/brotli.go#L99>)

```go
func AppendBrotliBytesLevel(dst, src []byte, level int) []byte
```

AppendBrotliBytesLevel appends brotlied src to dst using the given compression level and returns the resulting dst.

Supported compression levels are:

- CompressBrotliNoCompression
- CompressBrotliBestSpeed
- CompressBrotliBestCompression
- CompressBrotliDefaultCompression

<a name="AppendDeflateBytes"></a>
## func [AppendDeflateBytes](<https://github.com/valyala/fasthttp/blob/master/compress.go#L317>)

```go
func AppendDeflateBytes(dst, src []byte) []byte
```

AppendDeflateBytes appends deflated src to dst and returns the resulting dst.

<a name="AppendDeflateBytesLevel"></a>
## func [AppendDeflateBytesLevel](<https://github.com/valyala/fasthttp/blob/master/compress.go#L246>)

```go
func AppendDeflateBytesLevel(dst, src []byte, level int) []byte
```

AppendDeflateBytesLevel appends deflated src to dst using the given compression level and returns the resulting dst.

Supported compression levels are:

- CompressNoCompression
- CompressBestSpeed
- CompressBestCompression
- CompressDefaultCompression
- CompressHuffmanOnly

<a name="AppendGunzipBytes"></a>
## func [AppendGunzipBytes](<https://github.com/valyala/fasthttp/blob/master/compress.go#L230>)

```go
func AppendGunzipBytes(dst, src []byte) ([]byte, error)
```

AppendGunzipBytes appends gunzipped src to dst and returns the resulting dst.

<a name="AppendGzipBytes"></a>
## func [AppendGzipBytes](<https://github.com/valyala/fasthttp/blob/master/compress.go#L208>)

```go
func AppendGzipBytes(dst, src []byte) []byte
```

AppendGzipBytes appends gzipped src to dst and returns the resulting dst.

<a name="AppendGzipBytesLevel"></a>
## func [AppendGzipBytesLevel](<https://github.com/valyala/fasthttp/blob/master/compress.go#L143>)

```go
func AppendGzipBytesLevel(dst, src []byte, level int) []byte
```

AppendGzipBytesLevel appends gzipped src to dst using the given compression level and returns the resulting dst.

Supported compression levels are:

- CompressNoCompression
- CompressBestSpeed
- CompressBestCompression
- CompressDefaultCompression
- CompressHuffmanOnly

<a name="AppendHTMLEscape"></a>
## func [AppendHTMLEscape](<https://github.com/valyala/fasthttp/blob/master/bytesconv.go#L18>)

```go
func AppendHTMLEscape(dst []byte, s string) []byte
```

AppendHTMLEscape appends html\-escaped s to dst and returns the extended dst.

<a name="AppendHTMLEscapeBytes"></a>
## func [AppendHTMLEscapeBytes](<https://github.com/valyala/fasthttp/blob/master/bytesconv.go#L49>)

```go
func AppendHTMLEscapeBytes(dst, s []byte) []byte
```

AppendHTMLEscapeBytes appends html\-escaped s to dst and returns the extended dst.

<a name="AppendHTTPDate"></a>
## func [AppendHTTPDate](<https://github.com/valyala/fasthttp/blob/master/bytesconv.go#L112>)

```go
func AppendHTTPDate(dst []byte, date time.Time) []byte
```

AppendHTTPDate appends HTTP\-compliant \(RFC1123\) representation of date to dst and returns the extended dst.

<a name="AppendIPv4"></a>
## func [AppendIPv4](<https://github.com/valyala/fasthttp/blob/master/bytesconv.go#L55>)

```go
func AppendIPv4(dst []byte, ip net.IP) []byte
```

AppendIPv4 appends string representation of the given ip v4 to dst and returns the extended dst.

<a name="AppendInflateBytes"></a>
## func [AppendInflateBytes](<https://github.com/valyala/fasthttp/blob/master/compress.go#L339>)

```go
func AppendInflateBytes(dst, src []byte) ([]byte, error)
```

AppendInflateBytes appends inflated src to dst and returns the resulting dst.

<a name="AppendNormalizedHeaderKey"></a>
## func [AppendNormalizedHeaderKey](<https://github.com/valyala/fasthttp/blob/master/header.go#L3610>)

```go
func AppendNormalizedHeaderKey(dst []byte, key string) []byte
```

AppendNormalizedHeaderKey appends normalized header key \(name\) to dst and returns the resulting dst.

Normalized header key starts with uppercase letter. The first letters after dashes are also uppercased. All the other letters are lowercased. Examples:

- coNTENT\-TYPe \-\> Content\-Type
- HOST \-\> Host
- foo\-bar\-baz \-\> Foo\-Bar\-Baz

<a name="AppendNormalizedHeaderKeyBytes"></a>
## func [AppendNormalizedHeaderKeyBytes](<https://github.com/valyala/fasthttp/blob/master/header.go#L3626>)

```go
func AppendNormalizedHeaderKeyBytes(dst, key []byte) []byte
```

AppendNormalizedHeaderKeyBytes appends normalized header key \(name\) to dst and returns the resulting dst.

Normalized header key starts with uppercase letter. The first letters after dashes are also uppercased. All the other letters are lowercased. Examples:

- coNTENT\-TYPe \-\> Content\-Type
- HOST \-\> Host
- foo\-bar\-baz \-\> Foo\-Bar\-Baz

<a name="AppendQuotedArg"></a>
## func [AppendQuotedArg](<https://github.com/valyala/fasthttp/blob/master/bytesconv.go#L269>)

```go
func AppendQuotedArg(dst, src []byte) []byte
```

AppendQuotedArg appends url\-encoded src to dst and returns appended dst.

<a name="AppendUint"></a>
## func [AppendUint](<https://github.com/valyala/fasthttp/blob/master/bytesconv.go#L124>)

```go
func AppendUint(dst []byte, n int) []byte
```

AppendUint appends n to dst and returns the extended dst.

<a name="AppendUnbrotliBytes"></a>
## func [AppendUnbrotliBytes](<https://github.com/valyala/fasthttp/blob/master/brotli.go#L185>)

```go
func AppendUnbrotliBytes(dst, src []byte) ([]byte, error)
```

AppendUnbrotliBytes appends unbrotlied src to dst and returns the resulting dst.

<a name="AppendUnquotedArg"></a>
## func [AppendUnquotedArg](<https://github.com/valyala/fasthttp/blob/master/bytesconv.go#L264>)

```go
func AppendUnquotedArg(dst, src []byte) []byte
```

AppendUnquotedArg appends url\-decoded src to dst and returns appended dst.

dst may point to src. In this case src will be overwritten.

<a name="AppendUnzstdBytes"></a>
## func [AppendUnzstdBytes](<https://github.com/valyala/fasthttp/blob/master/zstd.go#L173>)

```go
func AppendUnzstdBytes(dst, src []byte) ([]byte, error)
```

AppendUnzstdBytes appends unzstd src to dst and returns the resulting dst.

<a name="AppendZstdBytes"></a>
## func [AppendZstdBytes](<https://github.com/valyala/fasthttp/blob/master/zstd.go#L151>)

```go
func AppendZstdBytes(dst, src []byte) []byte
```

AppendZstdBytes appends zstd src to dst and returns the resulting dst.

<a name="AppendZstdBytesLevel"></a>
## func [AppendZstdBytesLevel](<https://github.com/valyala/fasthttp/blob/master/zstd.go#L104>)

```go
func AppendZstdBytesLevel(dst, src []byte, level int) []byte
```



<a name="CoarseTimeNow"></a>
## func [CoarseTimeNow](<https://github.com/valyala/fasthttp/blob/master/coarsetime.go#L11>)

```go
func CoarseTimeNow() time.Time
```

CoarseTimeNow returns the current time truncated to the nearest second.

Deprecated: This is slower than calling time.Now\(\) directly. This is now time.Now\(\).Truncate\(time.Second\) shortcut.

<a name="Dial"></a>
## func [Dial](<https://github.com/valyala/fasthttp/blob/master/tcpdialer.go#L37>)

```go
func Dial(addr string) (net.Conn, error)
```

Dial dials the given TCP addr using tcp4.

This function has the following additional features comparing to net.Dial:

- It reduces load on DNS resolver by caching resolved TCP addressed for DNSCacheDuration.
- It dials all the resolved TCP addresses in round\-robin manner until connection is established. This may be useful if certain addresses are temporarily unreachable.
- It returns ErrDialTimeout if connection cannot be established during DefaultDialTimeout seconds. Use DialTimeout for customizing dial timeout.

This dialer is intended for custom code wrapping before passing to Client.Dial or HostClient.Dial.

For instance, per\-host counters and/or limits may be implemented by such wrappers.

The addr passed to the function must contain port. Example addr values:

- foobar.baz:443
- foo.bar:80
- aaa.com:8080

<a name="DialDualStack"></a>
## func [DialDualStack](<https://github.com/valyala/fasthttp/blob/master/tcpdialer.go#L90>)

```go
func DialDualStack(addr string) (net.Conn, error)
```

DialDualStack dials the given TCP addr using both tcp4 and tcp6.

This function has the following additional features comparing to net.Dial:

- It reduces load on DNS resolver by caching resolved TCP addressed for DNSCacheDuration.
- It dials all the resolved TCP addresses in round\-robin manner until connection is established. This may be useful if certain addresses are temporarily unreachable.
- It returns ErrDialTimeout if connection cannot be established during DefaultDialTimeout seconds. Use DialDualStackTimeout for custom dial timeout.

This dialer is intended for custom code wrapping before passing to Client.Dial or HostClient.Dial.

For instance, per\-host counters and/or limits may be implemented by such wrappers.

The addr passed to the function must contain port. Example addr values:

- foobar.baz:443
- foo.bar:80
- aaa.com:8080

<a name="DialDualStackTimeout"></a>
## func [DialDualStackTimeout](<https://github.com/valyala/fasthttp/blob/master/tcpdialer.go#L116>)

```go
func DialDualStackTimeout(addr string, timeout time.Duration) (net.Conn, error)
```

DialDualStackTimeout dials the given TCP addr using both tcp4 and tcp6 using the given timeout.

This function has the following additional features comparing to net.Dial:

- It reduces load on DNS resolver by caching resolved TCP addressed for DNSCacheDuration.
- It dials all the resolved TCP addresses in round\-robin manner until connection is established. This may be useful if certain addresses are temporarily unreachable.

This dialer is intended for custom code wrapping before passing to Client.DialTimeout or HostClient.DialTimeout.

For instance, per\-host counters and/or limits may be implemented by such wrappers.

The addr passed to the function must contain port. Example addr values:

- foobar.baz:443
- foo.bar:80
- aaa.com:8080

<a name="DialTimeout"></a>
## func [DialTimeout](<https://github.com/valyala/fasthttp/blob/master/tcpdialer.go#L62>)

```go
func DialTimeout(addr string, timeout time.Duration) (net.Conn, error)
```

DialTimeout dials the given TCP addr using tcp4 using the given timeout.

This function has the following additional features comparing to net.Dial:

- It reduces load on DNS resolver by caching resolved TCP addressed for DNSCacheDuration.
- It dials all the resolved TCP addresses in round\-robin manner until connection is established. This may be useful if certain addresses are temporarily unreachable.

This dialer is intended for custom code wrapping before passing to Client.DialTimeout or HostClient.DialTimeout.

For instance, per\-host counters and/or limits may be implemented by such wrappers.

The addr passed to the function must contain port. Example addr values:

- foobar.baz:443
- foo.bar:80
- aaa.com:8080

<a name="Do"></a>
## func [Do](<https://github.com/valyala/fasthttp/blob/master/client.go#L36>)

```go
func Do(req *Request, resp *Response) error
```

Do performs the given http request and fills the given http response.

Request must contain at least non\-zero RequestURI with full url \(including scheme and host\) or non\-zero Host header \+ RequestURI.

Client determines the server to be requested in the following order:

- from RequestURI if it contains full url with scheme and host;
- from Host header otherwise.

The function doesn't follow redirects. Use Get\* for following redirects.

Response is ignored if resp is nil.

ErrNoFreeConns is returned if all DefaultMaxConnsPerHost connections to the requested host are busy.

It is recommended obtaining req and resp via AcquireRequest and AcquireResponse in performance\-critical code.

<a name="DoDeadline"></a>
## func [DoDeadline](<https://github.com/valyala/fasthttp/blob/master/client.go#L90>)

```go
func DoDeadline(req *Request, resp *Response, deadline time.Time) error
```

DoDeadline performs the given request and waits for response until the given deadline.

Request must contain at least non\-zero RequestURI with full url \(including scheme and host\) or non\-zero Host header \+ RequestURI.

Client determines the server to be requested in the following order:

- from RequestURI if it contains full url with scheme and host;
- from Host header otherwise.

The function doesn't follow redirects. Use Get\* for following redirects.

Response is ignored if resp is nil.

ErrTimeout is returned if the response wasn't returned until the given deadline.

ErrNoFreeConns is returned if all DefaultMaxConnsPerHost connections to the requested host are busy.

It is recommended obtaining req and resp via AcquireRequest and AcquireResponse in performance\-critical code.

<a name="DoRedirects"></a>
## func [DoRedirects](<https://github.com/valyala/fasthttp/blob/master/client.go#L113>)

```go
func DoRedirects(req *Request, resp *Response, maxRedirectsCount int) error
```

DoRedirects performs the given http request and fills the given http response, following up to maxRedirectsCount redirects. When the redirect count exceeds maxRedirectsCount, ErrTooManyRedirects is returned.

Request must contain at least non\-zero RequestURI with full url \(including scheme and host\) or non\-zero Host header \+ RequestURI.

Client determines the server to be requested in the following order:

- from RequestURI if it contains full url with scheme and host;
- from Host header otherwise.

Response is ignored if resp is nil.

ErrNoFreeConns is returned if all DefaultMaxConnsPerHost connections to the requested host are busy.

It is recommended obtaining req and resp via AcquireRequest and AcquireResponse in performance\-critical code.

<a name="DoTimeout"></a>
## func [DoTimeout](<https://github.com/valyala/fasthttp/blob/master/client.go#L63>)

```go
func DoTimeout(req *Request, resp *Response, timeout time.Duration) error
```

DoTimeout performs the given request and waits for response during the given timeout duration.

Request must contain at least non\-zero RequestURI with full url \(including scheme and host\) or non\-zero Host header \+ RequestURI.

Client determines the server to be requested in the following order:

- from RequestURI if it contains full url with scheme and host;
- from Host header otherwise.

The function doesn't follow redirects. Use Get\* for following redirects.

Response is ignored if resp is nil.

ErrTimeout is returned if the response wasn't returned during the given timeout.

ErrNoFreeConns is returned if all DefaultMaxConnsPerHost connections to the requested host are busy.

It is recommended obtaining req and resp via AcquireRequest and AcquireResponse in performance\-critical code.

<a name="FileLastModified"></a>
## func [FileLastModified](<https://github.com/valyala/fasthttp/blob/master/fs.go#L1770>)

```go
func FileLastModified(path string) (time.Time, error)
```

FileLastModified returns last modified time for the file.

<a name="GenerateTestCertificate"></a>
## func [GenerateTestCertificate](<https://github.com/valyala/fasthttp/blob/master/tls.go#L14>)

```go
func GenerateTestCertificate(host string) ([]byte, []byte, error)
```

GenerateTestCertificate generates a test certificate and private key based on the given host.

<a name="Get"></a>
## func [Get](<https://github.com/valyala/fasthttp/blob/master/client.go#L127>)

```go
func Get(dst []byte, url string) (statusCode int, body []byte, err error)
```

Get returns the status code and body of url.

The contents of dst will be replaced by the body and returned, if the dst is too small a new slice will be allocated.

The function follows redirects. Use Do\* for manually handling redirects.

<a name="GetDeadline"></a>
## func [GetDeadline](<https://github.com/valyala/fasthttp/blob/master/client.go#L153>)

```go
func GetDeadline(dst []byte, url string, deadline time.Time) (statusCode int, body []byte, err error)
```

GetDeadline returns the status code and body of url.

The contents of dst will be replaced by the body and returned, if the dst is too small a new slice will be allocated.

The function follows redirects. Use Do\* for manually handling redirects.

ErrTimeout error is returned if url contents couldn't be fetched until the given deadline.

<a name="GetTimeout"></a>
## func [GetTimeout](<https://github.com/valyala/fasthttp/blob/master/client.go#L140>)

```go
func GetTimeout(dst []byte, url string, timeout time.Duration) (statusCode int, body []byte, err error)
```

GetTimeout returns the status code and body of url.

The contents of dst will be replaced by the body and returned, if the dst is too small a new slice will be allocated.

The function follows redirects. Use Do\* for manually handling redirects.

ErrTimeout error is returned if url contents couldn't be fetched during the given timeout.

<a name="ListenAndServe"></a>
## func [ListenAndServe](<https://github.com/valyala/fasthttp/blob/master/server.go#L86>)

```go
func ListenAndServe(addr string, handler RequestHandler) error
```

ListenAndServe serves HTTP requests from the given TCP addr using the given handler.

<details><summary>Example</summary>
<p>



```go
package main

import (
	"fmt"
	"log"

	"github.com/valyala/fasthttp"
)

func main() {
	// The server will listen for incoming requests on this address.
	listenAddr := "127.0.0.1:80"

	// This function will be called by the server for each incoming request.
	//
	// RequestCtx provides a lot of functionality related to http request
	// processing. See RequestCtx docs for details.
	requestHandler := func(ctx *fasthttp.RequestCtx) {
		fmt.Fprintf(ctx, "Hello, world! Requested path is %q", ctx.Path())
	}

	// Start the server with default settings.
	// Create Server instance for adjusting server settings.
	//
	// ListenAndServe returns only on error, so usually it blocks forever.
	if err := fasthttp.ListenAndServe(listenAddr, requestHandler); err != nil {
		log.Fatalf("error in ListenAndServe: %v", err)
	}
}
```

</p>
</details>

<a name="ListenAndServeTLS"></a>
## func [ListenAndServeTLS](<https://github.com/valyala/fasthttp/blob/master/server.go#L110>)

```go
func ListenAndServeTLS(addr, certFile, keyFile string, handler RequestHandler) error
```

ListenAndServeTLS serves HTTPS requests from the given TCP addr using the given handler.

certFile and keyFile are paths to TLS certificate and key files.

<a name="ListenAndServeTLSEmbed"></a>
## func [ListenAndServeTLSEmbed](<https://github.com/valyala/fasthttp/blob/master/server.go#L121>)

```go
func ListenAndServeTLSEmbed(addr string, certData, keyData []byte, handler RequestHandler) error
```

ListenAndServeTLSEmbed serves HTTPS requests from the given TCP addr using the given handler.

certData and keyData must contain valid TLS certificate and key data.

<a name="ListenAndServeUNIX"></a>
## func [ListenAndServeUNIX](<https://github.com/valyala/fasthttp/blob/master/server.go#L99>)

```go
func ListenAndServeUNIX(addr string, mode os.FileMode, handler RequestHandler) error
```

ListenAndServeUNIX serves HTTP requests from the given UNIX addr using the given handler.

The function deletes existing file at addr before starting serving.

The server sets the given file mode for the UNIX addr.

<a name="NewStreamReader"></a>
## func [NewStreamReader](<https://github.com/valyala/fasthttp/blob/master/stream.go#L29>)

```go
func NewStreamReader(sw StreamWriter) io.ReadCloser
```

NewStreamReader returns a reader, which replays all the data generated by sw.

The returned reader may be passed to Response.SetBodyStream.

Close must be called on the returned reader after all the required data has been read. Otherwise goroutine leak may occur.

See also Response.SetBodyStreamWriter.

<a name="ParseByteRange"></a>
## func [ParseByteRange](<https://github.com/valyala/fasthttp/blob/master/fs.go#L1201>)

```go
func ParseByteRange(byteRange []byte, contentLength int) (startPos, endPos int, err error)
```

ParseByteRange parses 'Range: bytes=...' header value.

It follows https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35 .

<a name="ParseHTTPDate"></a>
## func [ParseHTTPDate](<https://github.com/valyala/fasthttp/blob/master/bytesconv.go#L119>)

```go
func ParseHTTPDate(date []byte) (time.Time, error)
```

ParseHTTPDate parses HTTP\-compliant \(RFC1123\) date.

<a name="ParseIPv4"></a>
## func [ParseIPv4](<https://github.com/valyala/fasthttp/blob/master/bytesconv.go#L72>)

```go
func ParseIPv4(dst net.IP, ipStr []byte) (net.IP, error)
```

ParseIPv4 parses ip address from ipStr into dst and returns the extended dst.

<a name="ParseUfloat"></a>
## func [ParseUfloat](<https://github.com/valyala/fasthttp/blob/master/bytesconv.go#L175>)

```go
func ParseUfloat(buf []byte) (float64, error)
```

ParseUfloat parses unsigned float from buf.

<a name="ParseUint"></a>
## func [ParseUint](<https://github.com/valyala/fasthttp/blob/master/bytesconv.go#L134>)

```go
func ParseUint(buf []byte) (int, error)
```

ParseUint parses uint from buf.

<a name="Post"></a>
## func [Post](<https://github.com/valyala/fasthttp/blob/master/client.go#L165>)

```go
func Post(dst []byte, url string, postArgs *Args) (statusCode int, body []byte, err error)
```

Post sends POST request to the given url with the given POST arguments.

The contents of dst will be replaced by the body and returned, if the dst is too small a new slice will be allocated.

The function follows redirects. Use Do\* for manually handling redirects.

Empty POST body is sent if postArgs is nil.

<a name="ReleaseArgs"></a>
## func [ReleaseArgs](<https://github.com/valyala/fasthttp/blob/master/args.go#L27>)

```go
func ReleaseArgs(a *Args)
```

ReleaseArgs returns the object acquired via AcquireArgs to the pool.

Do not access the released Args object, otherwise data races may occur.

<a name="ReleaseCookie"></a>
## func [ReleaseCookie](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L51>)

```go
func ReleaseCookie(c *Cookie)
```

ReleaseCookie returns the Cookie object acquired with AcquireCookie back to the pool.

Do not access released Cookie object, otherwise data races may occur.

<a name="ReleaseRequest"></a>
## func [ReleaseRequest](<https://github.com/valyala/fasthttp/blob/master/client.go#L1225>)

```go
func ReleaseRequest(req *Request)
```

ReleaseRequest returns req acquired via AcquireRequest to request pool.

It is forbidden accessing req and/or its' members after returning it to request pool.

<a name="ReleaseResponse"></a>
## func [ReleaseResponse](<https://github.com/valyala/fasthttp/blob/master/client.go#L1247>)

```go
func ReleaseResponse(resp *Response)
```

ReleaseResponse return resp acquired via AcquireResponse to response pool.

It is forbidden accessing resp and/or its' members after returning it to response pool.

<a name="ReleaseTimer"></a>
## func [ReleaseTimer](<https://github.com/valyala/fasthttp/blob/master/timer.go#L50>)

```go
func ReleaseTimer(t *time.Timer)
```

ReleaseTimer returns the time.Timer acquired via AcquireTimer to the pool and prevents the Timer from firing.

Do not access the released time.Timer or read from its channel otherwise data races may occur.

<a name="ReleaseURI"></a>
## func [ReleaseURI](<https://github.com/valyala/fasthttp/blob/master/uri.go#L25>)

```go
func ReleaseURI(u *URI)
```

ReleaseURI releases the URI acquired via AcquireURI.

The released URI mustn't be used after releasing it, otherwise data races may occur.

<a name="SaveMultipartFile"></a>
## func [SaveMultipartFile](<https://github.com/valyala/fasthttp/blob/master/server.go#L1064>)

```go
func SaveMultipartFile(fh *multipart.FileHeader, path string) (err error)
```

SaveMultipartFile saves multipart file fh under the given filename path.

<a name="Serve"></a>
## func [Serve](<https://github.com/valyala/fasthttp/blob/master/server.go#L55>)

```go
func Serve(ln net.Listener, handler RequestHandler) error
```

Serve serves incoming connections from the given listener using the given handler.

Serve blocks until the given listener returns permanent error.

<details><summary>Example</summary>
<p>



```go
package main

import (
	"fmt"
	"log"

	"net"

	"github.com/valyala/fasthttp"
)

func main() {
	// Create network listener for accepting incoming requests.
	//
	// Note that you are not limited by TCP listener - arbitrary
	// net.Listener may be used by the server.
	// For example, unix socket listener or TLS listener.
	ln, err := net.Listen("tcp4", "127.0.0.1:8080")
	if err != nil {
		log.Fatalf("error in net.Listen: %v", err)
	}

	// This function will be called by the server for each incoming request.
	//
	// RequestCtx provides a lot of functionality related to http request
	// processing. See RequestCtx docs for details.
	requestHandler := func(ctx *fasthttp.RequestCtx) {
		fmt.Fprintf(ctx, "Hello, world! Requested path is %q", ctx.Path())
	}

	// Start the server with default settings.
	// Create Server instance for adjusting server settings.
	//
	// Serve returns on ln.Close() or error, so usually it blocks forever.
	if err := fasthttp.Serve(ln, requestHandler); err != nil {
		log.Fatalf("error in Serve: %v", err)
	}
}
```

</p>
</details>

<a name="ServeConn"></a>
## func [ServeConn](<https://github.com/valyala/fasthttp/blob/master/server.go#L36>)

```go
func ServeConn(c net.Conn, handler RequestHandler) error
```

ServeConn serves HTTP requests from the given connection using the given handler.

ServeConn returns nil if all requests from the c are successfully served. It returns non\-nil error otherwise.

Connection c must immediately propagate all the data passed to Write\(\) to the client. Otherwise requests' processing may hang.

ServeConn closes c before returning.

<a name="ServeFS"></a>
## func [ServeFS](<https://github.com/valyala/fasthttp/blob/master/fs.go#L152>)

```go
func ServeFS(ctx *RequestCtx, filesystem fs.FS, path string)
```

ServeFS returns HTTP response containing compressed file contents from the given fs.FS's path.

HTTP response may contain uncompressed file contents in the following cases:

- Missing 'Accept\-Encoding: gzip' request header.
- No write access to directory containing the file.

Directory contents is returned if path points to directory.

See also ServeFile.

<a name="ServeFile"></a>
## func [ServeFile](<https://github.com/valyala/fasthttp/blob/master/fs.go#L99>)

```go
func ServeFile(ctx *RequestCtx, path string)
```

ServeFile returns HTTP response containing compressed file contents from the given path.

HTTP response may contain uncompressed file contents in the following cases:

- Missing 'Accept\-Encoding: gzip' request header.
- No write access to directory containing the file.

Directory contents is returned if path points to directory.

Use ServeFileUncompressed is you don't need serving compressed file contents.

See also RequestCtx.SendFile.

WARNING: do not pass any user supplied paths to this function\! WARNING: if path is based on user input users will be able to request any file on your filesystem\! Use fasthttp.FS with a sane Root instead.

<a name="ServeFileBytes"></a>
## func [ServeFileBytes](<https://github.com/valyala/fasthttp/blob/master/fs.go#L78>)

```go
func ServeFileBytes(ctx *RequestCtx, path []byte)
```

ServeFileBytes returns HTTP response containing compressed file contents from the given path.

HTTP response may contain uncompressed file contents in the following cases:

- Missing 'Accept\-Encoding: gzip' request header.
- No write access to directory containing the file.

Directory contents is returned if path points to directory.

Use ServeFileBytesUncompressed is you don't need serving compressed file contents.

See also RequestCtx.SendFileBytes.

WARNING: do not pass any user supplied paths to this function\! WARNING: if path is based on user input users will be able to request any file on your filesystem\! Use fasthttp.FS with a sane Root instead.

<a name="ServeFileBytesUncompressed"></a>
## func [ServeFileBytesUncompressed](<https://github.com/valyala/fasthttp/blob/master/fs.go#L38>)

```go
func ServeFileBytesUncompressed(ctx *RequestCtx, path []byte)
```

ServeFileBytesUncompressed returns HTTP response containing file contents from the given path.

Directory contents is returned if path points to directory.

ServeFileBytes may be used for saving network traffic when serving files with good compression ratio.

See also RequestCtx.SendFileBytes.

WARNING: do not pass any user supplied paths to this function\! WARNING: if path is based on user input users will be able to request any file on your filesystem\! Use fasthttp.FS with a sane Root instead.

<a name="ServeFileUncompressed"></a>
## func [ServeFileUncompressed](<https://github.com/valyala/fasthttp/blob/master/fs.go#L55>)

```go
func ServeFileUncompressed(ctx *RequestCtx, path string)
```

ServeFileUncompressed returns HTTP response containing file contents from the given path.

Directory contents is returned if path points to directory.

ServeFile may be used for saving network traffic when serving files with good compression ratio.

See also RequestCtx.SendFile.

WARNING: do not pass any user supplied paths to this function\! WARNING: if path is based on user input users will be able to request any file on your filesystem\! Use fasthttp.FS with a sane Root instead.

<a name="ServeTLS"></a>
## func [ServeTLS](<https://github.com/valyala/fasthttp/blob/master/server.go#L66>)

```go
func ServeTLS(ln net.Listener, certFile, keyFile string, handler RequestHandler) error
```

ServeTLS serves HTTPS requests from the given net.Listener using the given handler.

certFile and keyFile are paths to TLS certificate and key files.

<a name="ServeTLSEmbed"></a>
## func [ServeTLSEmbed](<https://github.com/valyala/fasthttp/blob/master/server.go#L77>)

```go
func ServeTLSEmbed(ln net.Listener, certData, keyData []byte, handler RequestHandler) error
```

ServeTLSEmbed serves HTTPS requests from the given net.Listener using the given handler.

certData and keyData must contain valid TLS certificate and key data.

<a name="SetBodySizePoolLimit"></a>
## func [SetBodySizePoolLimit](<https://github.com/valyala/fasthttp/blob/master/http.go#L27>)

```go
func SetBodySizePoolLimit(reqBodyLimit, respBodyLimit int)
```

SetBodySizePoolLimit set the max body size for bodies to be returned to the pool. If the body size is larger it will be released instead of put back into the pool for reuse.

<a name="StatusCodeIsRedirect"></a>
## func [StatusCodeIsRedirect](<https://github.com/valyala/fasthttp/blob/master/client.go#L1195>)

```go
func StatusCodeIsRedirect(statusCode int) bool
```

StatusCodeIsRedirect returns true if the status code indicates a redirect.

<a name="StatusMessage"></a>
## func [StatusMessage](<https://github.com/valyala/fasthttp/blob/master/status.go#L155>)

```go
func StatusMessage(statusCode int) string
```

StatusMessage returns HTTP status message for the given status code.

<a name="VisitHeaderParams"></a>
## func [VisitHeaderParams](<https://github.com/valyala/fasthttp/blob/master/header.go#L578>)

```go
func VisitHeaderParams(b []byte, f func(key, value []byte) bool)
```

VisitHeaderParams calls f for each parameter in the given header bytes. It stops processing when f returns false or an invalid parameter is found. Parameter values may be quoted, in which case \\ is treated as an escape character, and the value is unquoted before being passed to value. See: https://www.rfc-editor.org/rfc/rfc9110#section-5.6.6

f must not retain references to key and/or value after returning. Copy key and/or value contents before returning if you need retaining them.

<a name="WriteBrotli"></a>
## func [WriteBrotli](<https://github.com/valyala/fasthttp/blob/master/brotli.go#L158>)

```go
func WriteBrotli(w io.Writer, p []byte) (int, error)
```

WriteBrotli writes brotlied p to w and returns the number of compressed bytes written to w.

<a name="WriteBrotliLevel"></a>
## func [WriteBrotliLevel](<https://github.com/valyala/fasthttp/blob/master/brotli.go#L114>)

```go
func WriteBrotliLevel(w io.Writer, p []byte, level int) (int, error)
```

WriteBrotliLevel writes brotlied p to w using the given compression level and returns the number of compressed bytes written to w.

Supported compression levels are:

- CompressBrotliNoCompression
- CompressBrotliBestSpeed
- CompressBrotliBestCompression
- CompressBrotliDefaultCompression

<a name="WriteDeflate"></a>
## func [WriteDeflate](<https://github.com/valyala/fasthttp/blob/master/compress.go#L312>)

```go
func WriteDeflate(w io.Writer, p []byte) (int, error)
```

WriteDeflate writes deflated p to w and returns the number of compressed bytes written to w.

<a name="WriteDeflateLevel"></a>
## func [WriteDeflateLevel](<https://github.com/valyala/fasthttp/blob/master/compress.go#L262>)

```go
func WriteDeflateLevel(w io.Writer, p []byte, level int) (int, error)
```

WriteDeflateLevel writes deflated p to w using the given compression level and returns the number of compressed bytes written to w.

Supported compression levels are:

- CompressNoCompression
- CompressBestSpeed
- CompressBestCompression
- CompressDefaultCompression
- CompressHuffmanOnly

<a name="WriteGunzip"></a>
## func [WriteGunzip](<https://github.com/valyala/fasthttp/blob/master/compress.go#L214>)

```go
func WriteGunzip(w io.Writer, p []byte) (int, error)
```

WriteGunzip writes ungzipped p to w and returns the number of uncompressed bytes written to w.

<a name="WriteGzip"></a>
## func [WriteGzip](<https://github.com/valyala/fasthttp/blob/master/compress.go#L203>)

```go
func WriteGzip(w io.Writer, p []byte) (int, error)
```

WriteGzip writes gzipped p to w and returns the number of compressed bytes written to w.

<a name="WriteGzipLevel"></a>
## func [WriteGzipLevel](<https://github.com/valyala/fasthttp/blob/master/compress.go#L159>)

```go
func WriteGzipLevel(w io.Writer, p []byte, level int) (int, error)
```

WriteGzipLevel writes gzipped p to w using the given compression level and returns the number of compressed bytes written to w.

Supported compression levels are:

- CompressNoCompression
- CompressBestSpeed
- CompressBestCompression
- CompressDefaultCompression
- CompressHuffmanOnly

<a name="WriteInflate"></a>
## func [WriteInflate](<https://github.com/valyala/fasthttp/blob/master/compress.go#L323>)

```go
func WriteInflate(w io.Writer, p []byte) (int, error)
```

WriteInflate writes inflated p to w and returns the number of uncompressed bytes written to w.

<a name="WriteMultipartForm"></a>
## func [WriteMultipartForm](<https://github.com/valyala/fasthttp/blob/master/http.go#L1054>)

```go
func WriteMultipartForm(w io.Writer, f *multipart.Form, boundary string) error
```

WriteMultipartForm writes the given multipart form f with the given boundary to w.

<a name="WriteUnbrotli"></a>
## func [WriteUnbrotli](<https://github.com/valyala/fasthttp/blob/master/brotli.go#L169>)

```go
func WriteUnbrotli(w io.Writer, p []byte) (int, error)
```

WriteUnbrotli writes unbrotlied p to w and returns the number of uncompressed bytes written to w.

<a name="WriteUnzstd"></a>
## func [WriteUnzstd](<https://github.com/valyala/fasthttp/blob/master/zstd.go#L157>)

```go
func WriteUnzstd(w io.Writer, p []byte) (int, error)
```

WriteUnzstd writes unzstd p to w and returns the number of uncompressed bytes written to w.

<a name="WriteZstdLevel"></a>
## func [WriteZstdLevel](<https://github.com/valyala/fasthttp/blob/master/zstd.go#L110>)

```go
func WriteZstdLevel(w io.Writer, p []byte, level int) (int, error)
```



<a name="Args"></a>
## type [Args](<https://github.com/valyala/fasthttp/blob/master/args.go#L44-L49>)

Args represents query arguments.

It is forbidden copying Args instances. Create new instances instead and use CopyTo\(\).

Args instance MUST NOT be used from concurrently running goroutines.

```go
type Args struct {
    // contains filtered or unexported fields
}
```

<a name="AcquireArgs"></a>
### func [AcquireArgs](<https://github.com/valyala/fasthttp/blob/master/args.go#L20>)

```go
func AcquireArgs() *Args
```

AcquireArgs returns an empty Args object from the pool.

The returned Args may be returned to the pool with ReleaseArgs when no longer needed. This allows reducing GC load.

<a name="Args.Add"></a>
### func \(\*Args\) [Add](<https://github.com/valyala/fasthttp/blob/master/args.go#L169>)

```go
func (a *Args) Add(key, value string)
```

Add adds 'key=value' argument.

Multiple values for the same key may be added.

<a name="Args.AddBytesK"></a>
### func \(\*Args\) [AddBytesK](<https://github.com/valyala/fasthttp/blob/master/args.go#L176>)

```go
func (a *Args) AddBytesK(key []byte, value string)
```

AddBytesK adds 'key=value' argument.

Multiple values for the same key may be added.

<a name="Args.AddBytesKNoValue"></a>
### func \(\*Args\) [AddBytesKNoValue](<https://github.com/valyala/fasthttp/blob/master/args.go#L204>)

```go
func (a *Args) AddBytesKNoValue(key []byte)
```

AddBytesKNoValue adds only 'key' as argument without the '='.

Multiple values for the same key may be added.

<a name="Args.AddBytesKV"></a>
### func \(\*Args\) [AddBytesKV](<https://github.com/valyala/fasthttp/blob/master/args.go#L190>)

```go
func (a *Args) AddBytesKV(key, value []byte)
```

AddBytesKV adds 'key=value' argument.

Multiple values for the same key may be added.

<a name="Args.AddBytesV"></a>
### func \(\*Args\) [AddBytesV](<https://github.com/valyala/fasthttp/blob/master/args.go#L183>)

```go
func (a *Args) AddBytesV(key string, value []byte)
```

AddBytesV adds 'key=value' argument.

Multiple values for the same key may be added.

<a name="Args.AddNoValue"></a>
### func \(\*Args\) [AddNoValue](<https://github.com/valyala/fasthttp/blob/master/args.go#L197>)

```go
func (a *Args) AddNoValue(key string)
```

AddNoValue adds only 'key' as argument without the '='.

Multiple values for the same key may be added.

<a name="Args.AppendBytes"></a>
### func \(\*Args\) [AppendBytes](<https://github.com/valyala/fasthttp/blob/master/args.go#L131>)

```go
func (a *Args) AppendBytes(dst []byte) []byte
```

AppendBytes appends query string to dst and returns the extended dst.

<a name="Args.CopyTo"></a>
### func \(\*Args\) [CopyTo](<https://github.com/valyala/fasthttp/blob/master/args.go#L63>)

```go
func (a *Args) CopyTo(dst *Args)
```

CopyTo copies all args to dst.

<a name="Args.Del"></a>
### func \(\*Args\) [Del](<https://github.com/valyala/fasthttp/blob/master/args.go#L157>)

```go
func (a *Args) Del(key string)
```

Del deletes argument with the given key from query args.

<a name="Args.DelBytes"></a>
### func \(\*Args\) [DelBytes](<https://github.com/valyala/fasthttp/blob/master/args.go#L162>)

```go
func (a *Args) DelBytes(key []byte)
```

DelBytes deletes argument with the given key from query args.

<a name="Args.GetBool"></a>
### func \(\*Args\) [GetBool](<https://github.com/valyala/fasthttp/blob/master/args.go#L340>)

```go
func (a *Args) GetBool(key string) bool
```

GetBool returns boolean value for the given key.

true is returned for "1", "t", "T", "true", "TRUE", "True", "y", "yes", "Y", "YES", "Yes", otherwise false is returned.

<a name="Args.GetUfloat"></a>
### func \(\*Args\) [GetUfloat](<https://github.com/valyala/fasthttp/blob/master/args.go#L317>)

```go
func (a *Args) GetUfloat(key string) (float64, error)
```

GetUfloat returns ufloat value for the given key.

<a name="Args.GetUfloatOrZero"></a>
### func \(\*Args\) [GetUfloatOrZero](<https://github.com/valyala/fasthttp/blob/master/args.go#L328>)

```go
func (a *Args) GetUfloatOrZero(key string) float64
```

GetUfloatOrZero returns ufloat value for the given key.

Zero \(0\) is returned on error.

<a name="Args.GetUint"></a>
### func \(\*Args\) [GetUint](<https://github.com/valyala/fasthttp/blob/master/args.go#L286>)

```go
func (a *Args) GetUint(key string) (int, error)
```

GetUint returns uint value for the given key.

<a name="Args.GetUintOrZero"></a>
### func \(\*Args\) [GetUintOrZero](<https://github.com/valyala/fasthttp/blob/master/args.go#L308>)

```go
func (a *Args) GetUintOrZero(key string) int
```

GetUintOrZero returns uint value for the given key.

Zero \(0\) is returned on error.

<a name="Args.Has"></a>
### func \(\*Args\) [Has](<https://github.com/valyala/fasthttp/blob/master/args.go#L273>)

```go
func (a *Args) Has(key string) bool
```

Has returns true if the given key exists in Args.

<a name="Args.HasBytes"></a>
### func \(\*Args\) [HasBytes](<https://github.com/valyala/fasthttp/blob/master/args.go#L278>)

```go
func (a *Args) HasBytes(key []byte) bool
```

HasBytes returns true if the given key exists in Args.

<a name="Args.Len"></a>
### func \(\*Args\) [Len](<https://github.com/valyala/fasthttp/blob/master/args.go#L76>)

```go
func (a *Args) Len() int
```

Len returns the number of query args.

<a name="Args.Parse"></a>
### func \(\*Args\) [Parse](<https://github.com/valyala/fasthttp/blob/master/args.go#L81>)

```go
func (a *Args) Parse(s string)
```

Parse parses the given string containing query args.

<a name="Args.ParseBytes"></a>
### func \(\*Args\) [ParseBytes](<https://github.com/valyala/fasthttp/blob/master/args.go#L87>)

```go
func (a *Args) ParseBytes(b []byte)
```

ParseBytes parses the given b containing query args.

<a name="Args.Peek"></a>
### func \(\*Args\) [Peek](<https://github.com/valyala/fasthttp/blob/master/args.go#L244>)

```go
func (a *Args) Peek(key string) []byte
```

Peek returns query arg value for the given key.

The returned value is valid until the Args is reused or released \(ReleaseArgs\). Do not store references to the returned value. Make copies instead.

<a name="Args.PeekBytes"></a>
### func \(\*Args\) [PeekBytes](<https://github.com/valyala/fasthttp/blob/master/args.go#L252>)

```go
func (a *Args) PeekBytes(key []byte) []byte
```

PeekBytes returns query arg value for the given key.

The returned value is valid until the Args is reused or released \(ReleaseArgs\). Do not store references to the returned value. Make copies instead.

<a name="Args.PeekMulti"></a>
### func \(\*Args\) [PeekMulti](<https://github.com/valyala/fasthttp/blob/master/args.go#L257>)

```go
func (a *Args) PeekMulti(key string) [][]byte
```

PeekMulti returns all the arg values for the given key.

<a name="Args.PeekMultiBytes"></a>
### func \(\*Args\) [PeekMultiBytes](<https://github.com/valyala/fasthttp/blob/master/args.go#L268>)

```go
func (a *Args) PeekMultiBytes(key []byte) [][]byte
```

PeekMultiBytes returns all the arg values for the given key.

<a name="Args.QueryString"></a>
### func \(\*Args\) [QueryString](<https://github.com/valyala/fasthttp/blob/master/args.go#L112>)

```go
func (a *Args) QueryString() []byte
```

QueryString returns query string for the args.

The returned value is valid until the Args is reused or released \(ReleaseArgs\). Do not store references to the returned value. Make copies instead.

<a name="Args.Reset"></a>
### func \(\*Args\) [Reset](<https://github.com/valyala/fasthttp/blob/master/args.go#L58>)

```go
func (a *Args) Reset()
```

Reset clears query args.

<a name="Args.Set"></a>
### func \(\*Args\) [Set](<https://github.com/valyala/fasthttp/blob/master/args.go#L209>)

```go
func (a *Args) Set(key, value string)
```

Set sets 'key=value' argument.

<a name="Args.SetBytesK"></a>
### func \(\*Args\) [SetBytesK](<https://github.com/valyala/fasthttp/blob/master/args.go#L214>)

```go
func (a *Args) SetBytesK(key []byte, value string)
```

SetBytesK sets 'key=value' argument.

<a name="Args.SetBytesKNoValue"></a>
### func \(\*Args\) [SetBytesKNoValue](<https://github.com/valyala/fasthttp/blob/master/args.go#L236>)

```go
func (a *Args) SetBytesKNoValue(key []byte)
```

SetBytesKNoValue sets 'key' argument.

<a name="Args.SetBytesKV"></a>
### func \(\*Args\) [SetBytesKV](<https://github.com/valyala/fasthttp/blob/master/args.go#L224>)

```go
func (a *Args) SetBytesKV(key, value []byte)
```

SetBytesKV sets 'key=value' argument.

<a name="Args.SetBytesV"></a>
### func \(\*Args\) [SetBytesV](<https://github.com/valyala/fasthttp/blob/master/args.go#L219>)

```go
func (a *Args) SetBytesV(key string, value []byte)
```

SetBytesV sets 'key=value' argument.

<a name="Args.SetNoValue"></a>
### func \(\*Args\) [SetNoValue](<https://github.com/valyala/fasthttp/blob/master/args.go#L231>)

```go
func (a *Args) SetNoValue(key string)
```

SetNoValue sets only 'key' as argument without the '='.

Only key in argument, like key1&key2.

<a name="Args.SetUint"></a>
### func \(\*Args\) [SetUint](<https://github.com/valyala/fasthttp/blob/master/args.go#L295>)

```go
func (a *Args) SetUint(key string, value int)
```

SetUint sets uint value for the given key.

<a name="Args.SetUintBytes"></a>
### func \(\*Args\) [SetUintBytes](<https://github.com/valyala/fasthttp/blob/master/args.go#L301>)

```go
func (a *Args) SetUintBytes(key []byte, value int)
```

SetUintBytes sets uint value for the given key.

<a name="Args.Sort"></a>
### func \(\*Args\) [Sort](<https://github.com/valyala/fasthttp/blob/master/args.go#L120>)

```go
func (a *Args) Sort(f func(x, y []byte) int)
```

Sort sorts Args by key and then value using 'f' as comparison function.

For example args.Sort\(bytes.Compare\).

<a name="Args.String"></a>
### func \(\*Args\) [String](<https://github.com/valyala/fasthttp/blob/master/args.go#L104>)

```go
func (a *Args) String() string
```

String returns string representation of query args.

<a name="Args.VisitAll"></a>
### func \(\*Args\) [VisitAll](<https://github.com/valyala/fasthttp/blob/master/args.go#L71>)

```go
func (a *Args) VisitAll(f func(key, value []byte))
```

VisitAll calls f for each existing arg.

f must not retain references to key and value after returning. Make key and/or value copies if you need storing them after returning.

<a name="Args.WriteTo"></a>
### func \(\*Args\) [WriteTo](<https://github.com/valyala/fasthttp/blob/master/args.go#L151>)

```go
func (a *Args) WriteTo(w io.Writer) (int64, error)
```

WriteTo writes query string to w.

WriteTo implements io.WriterTo interface.

<a name="BalancingClient"></a>
## type [BalancingClient](<https://github.com/valyala/fasthttp/blob/master/lbclient.go#L11-L14>)

BalancingClient is the interface for clients, which may be passed to LBClient.Clients.

```go
type BalancingClient interface {
    DoDeadline(req *Request, resp *Response, deadline time.Time) error
    PendingRequests() int
}
```

<a name="CacheKind"></a>
## type [CacheKind](<https://github.com/valyala/fasthttp/blob/master/fs.go#L809>)



```go
type CacheKind uint8
```

<a name="Client"></a>
## type [Client](<https://github.com/valyala/fasthttp/blob/master/client.go#L178-L333>)

Client implements http client.

Copying Client by value is prohibited. Create new instance instead.

It is safe calling Client methods from concurrently running goroutines.

The fields of a Client should not be changed while it is in use.

```go
type Client struct {

    // Transport defines a transport-like mechanism that wraps every request/response.
    Transport RoundTripper

    // Callback for establishing new connections to hosts.
    //
    // Default DialTimeout is used if not set.
    DialTimeout DialFuncWithTimeout

    // Callback for establishing new connections to hosts.
    //
    // Note that if Dial is set instead of DialTimeout, Dial will ignore Request timeout.
    // If you want the tcp dial process to account for request timeouts, use DialTimeout instead.
    //
    // If not set, DialTimeout is used.
    Dial DialFunc

    // TLS config for https connections.
    //
    // Default TLS config is used if not set.
    TLSConfig *tls.Config

    // RetryIf controls whether a retry should be attempted after an error.
    //
    // By default will use isIdempotent function.
    //
    // Deprecated: Use RetryIfErr instead.
    // This field is only effective when the `RetryIfErr` field is not set.
    RetryIf RetryIfFunc

    // When the client encounters an error during a request, the behavior—whether to retry
    // and whether to reset the request timeout—should be determined
    // based on the return value of this field.
    // This field is only effective within the range of MaxIdemponentCallAttempts.
    RetryIfErr RetryIfErrFunc

    // ConfigureClient configures the fasthttp.HostClient.
    ConfigureClient func(hc *HostClient) error

    // Client name. Used in User-Agent request header.
    //
    // Default client name is used if not set.
    Name string

    // Maximum number of connections per each host which may be established.
    //
    // DefaultMaxConnsPerHost is used if not set.
    MaxConnsPerHost int

    // Idle keep-alive connections are closed after this duration.
    //
    // By default idle connections are closed
    // after DefaultMaxIdleConnDuration.
    MaxIdleConnDuration time.Duration

    // Keep-alive connections are closed after this duration.
    //
    // By default connection duration is unlimited.
    MaxConnDuration time.Duration

    // Maximum number of attempts for idempotent calls.
    //
    // DefaultMaxIdemponentCallAttempts is used if not set.
    MaxIdemponentCallAttempts int

    // Per-connection buffer size for responses' reading.
    // This also limits the maximum header size.
    //
    // Default buffer size is used if 0.
    ReadBufferSize int

    // Per-connection buffer size for requests' writing.
    //
    // Default buffer size is used if 0.
    WriteBufferSize int

    // Maximum duration for full response reading (including body).
    //
    // By default response read timeout is unlimited.
    ReadTimeout time.Duration

    // Maximum duration for full request writing (including body).
    //
    // By default request write timeout is unlimited.
    WriteTimeout time.Duration

    // Maximum response body size.
    //
    // The client returns ErrBodyTooLarge if this limit is greater than 0
    // and response body is greater than the limit.
    //
    // By default response body size is unlimited.
    MaxResponseBodySize int

    // Maximum duration for waiting for a free connection.
    //
    // By default will not waiting, return ErrNoFreeConns immediately.
    MaxConnWaitTimeout time.Duration

    // Connection pool strategy. Can be either LIFO or FIFO (default).
    ConnPoolStrategy ConnPoolStrategyType

    // NoDefaultUserAgentHeader when set to true, causes the default
    // User-Agent header to be excluded from the Request.
    NoDefaultUserAgentHeader bool

    // Attempt to connect to both ipv4 and ipv6 addresses if set to true.
    //
    // This option is used only if default TCP dialer is used,
    // i.e. if Dial is blank.
    //
    // By default client connects only to ipv4 addresses,
    // since unfortunately ipv6 remains broken in many networks worldwide :)
    DialDualStack bool

    // Header names are passed as-is without normalization
    // if this option is set.
    //
    // Disabled header names' normalization may be useful only for proxying
    // responses to other clients expecting case-sensitive
    // header names. See https://github.com/valyala/fasthttp/issues/57
    // for details.
    //
    // By default request and response header names are normalized, i.e.
    // The first letter and the first letters following dashes
    // are uppercased, while all the other letters are lowercased.
    // Examples:
    //
    //     * HOST -> Host
    //     * content-type -> Content-Type
    //     * cONTENT-lenGTH -> Content-Length
    DisableHeaderNamesNormalizing bool

    // Path values are sent as-is without normalization.
    //
    // Disabled path normalization may be useful for proxying incoming requests
    // to servers that are expecting paths to be forwarded as-is.
    //
    // By default path values are normalized, i.e.
    // extra slashes are removed, special characters are encoded.
    DisablePathNormalizing bool

    // StreamResponseBody enables response body streaming.
    StreamResponseBody bool
    // contains filtered or unexported fields
}
```

<a name="Client.CloseIdleConnections"></a>
### func \(\*Client\) [CloseIdleConnections](<https://github.com/valyala/fasthttp/blob/master/client.go#L594>)

```go
func (c *Client) CloseIdleConnections()
```

CloseIdleConnections closes any connections which were previously connected from previous requests but are now sitting idle in a "keep\-alive" state. It does not interrupt any connections currently in use.

<a name="Client.Do"></a>
### func \(\*Client\) [Do](<https://github.com/valyala/fasthttp/blob/master/client.go#L493>)

```go
func (c *Client) Do(req *Request, resp *Response) error
```

Do performs the given http request and fills the given http response.

Request must contain at least non\-zero RequestURI with full url \(including scheme and host\) or non\-zero Host header \+ RequestURI.

Client determines the server to be requested in the following order:

- from RequestURI if it contains full url with scheme and host;
- from Host header otherwise.

Response is ignored if resp is nil.

The function doesn't follow redirects. Use Get\* for following redirects.

ErrNoFreeConns is returned if all Client.MaxConnsPerHost connections to the requested host are busy.

It is recommended obtaining req and resp via AcquireRequest and AcquireResponse in performance\-critical code.

<a name="Client.DoDeadline"></a>
### func \(\*Client\) [DoDeadline](<https://github.com/valyala/fasthttp/blob/master/client.go#L439>)

```go
func (c *Client) DoDeadline(req *Request, resp *Response, deadline time.Time) error
```

DoDeadline performs the given request and waits for response until the given deadline.

Request must contain at least non\-zero RequestURI with full url \(including scheme and host\) or non\-zero Host header \+ RequestURI.

Client determines the server to be requested in the following order:

- from RequestURI if it contains full url with scheme and host;
- from Host header otherwise.

The function doesn't follow redirects. Use Get\* for following redirects.

Response is ignored if resp is nil.

ErrTimeout is returned if the response wasn't returned until the given deadline. Immediately returns ErrTimeout if the deadline has already been reached.

ErrNoFreeConns is returned if all Client.MaxConnsPerHost connections to the requested host are busy.

It is recommended obtaining req and resp via AcquireRequest and AcquireResponse in performance\-critical code.

<a name="Client.DoRedirects"></a>
### func \(\*Client\) [DoRedirects](<https://github.com/valyala/fasthttp/blob/master/client.go#L466>)

```go
func (c *Client) DoRedirects(req *Request, resp *Response, maxRedirectsCount int) error
```

DoRedirects performs the given http request and fills the given http response, following up to maxRedirectsCount redirects. When the redirect count exceeds maxRedirectsCount, ErrTooManyRedirects is returned.

Request must contain at least non\-zero RequestURI with full url \(including scheme and host\) or non\-zero Host header \+ RequestURI.

Client determines the server to be requested in the following order:

- from RequestURI if it contains full url with scheme and host;
- from Host header otherwise.

Response is ignored if resp is nil.

ErrNoFreeConns is returned if all DefaultMaxConnsPerHost connections to the requested host are busy.

It is recommended obtaining req and resp via AcquireRequest and AcquireResponse in performance\-critical code.

<a name="Client.DoTimeout"></a>
### func \(\*Client\) [DoTimeout](<https://github.com/valyala/fasthttp/blob/master/client.go#L407>)

```go
func (c *Client) DoTimeout(req *Request, resp *Response, timeout time.Duration) error
```

DoTimeout performs the given request and waits for response during the given timeout duration.

Request must contain at least non\-zero RequestURI with full url \(including scheme and host\) or non\-zero Host header \+ RequestURI.

Client determines the server to be requested in the following order:

- from RequestURI if it contains full url with scheme and host;
- from Host header otherwise.

The function doesn't follow redirects. Use Get\* for following redirects.

Response is ignored if resp is nil.

ErrTimeout is returned if the response wasn't returned during the given timeout. Immediately returns ErrTimeout if timeout value is negative.

ErrNoFreeConns is returned if all Client.MaxConnsPerHost connections to the requested host are busy.

It is recommended obtaining req and resp via AcquireRequest and AcquireResponse in performance\-critical code.

<a name="Client.Get"></a>
### func \(\*Client\) [Get](<https://github.com/valyala/fasthttp/blob/master/client.go#L341>)

```go
func (c *Client) Get(dst []byte, url string) (statusCode int, body []byte, err error)
```

Get returns the status code and body of url.

The contents of dst will be replaced by the body and returned, if the dst is too small a new slice will be allocated.

The function follows redirects. Use Do\* for manually handling redirects.

<a name="Client.GetDeadline"></a>
### func \(\*Client\) [GetDeadline](<https://github.com/valyala/fasthttp/blob/master/client.go#L367>)

```go
func (c *Client) GetDeadline(dst []byte, url string, deadline time.Time) (statusCode int, body []byte, err error)
```

GetDeadline returns the status code and body of url.

The contents of dst will be replaced by the body and returned, if the dst is too small a new slice will be allocated.

The function follows redirects. Use Do\* for manually handling redirects.

ErrTimeout error is returned if url contents couldn't be fetched until the given deadline.

<a name="Client.GetTimeout"></a>
### func \(\*Client\) [GetTimeout](<https://github.com/valyala/fasthttp/blob/master/client.go#L354>)

```go
func (c *Client) GetTimeout(dst []byte, url string, timeout time.Duration) (statusCode int, body []byte, err error)
```

GetTimeout returns the status code and body of url.

The contents of dst will be replaced by the body and returned, if the dst is too small a new slice will be allocated.

The function follows redirects. Use Do\* for manually handling redirects.

ErrTimeout error is returned if url contents couldn't be fetched during the given timeout.

<a name="Client.Post"></a>
### func \(\*Client\) [Post](<https://github.com/valyala/fasthttp/blob/master/client.go#L379>)

```go
func (c *Client) Post(dst []byte, url string, postArgs *Args) (statusCode int, body []byte, err error)
```

Post sends POST request to the given url with the given POST arguments.

The contents of dst will be replaced by the body and returned, if the dst is too small a new slice will be allocated.

The function follows redirects. Use Do\* for manually handling redirects.

Empty POST body is sent if postArgs is nil.

<a name="ConnPoolStrategyType"></a>
## type [ConnPoolStrategyType](<https://github.com/valyala/fasthttp/blob/master/client.go#L705>)

ConnPoolStrategyType define strategy of connection pool enqueue/dequeue.

```go
type ConnPoolStrategyType int
```

<a name="FIFO"></a>

```go
const (
    FIFO ConnPoolStrategyType = iota
    LIFO
)
```

<a name="ConnState"></a>
## type [ConnState](<https://github.com/valyala/fasthttp/blob/master/server.go#L2937>)

A ConnState represents the state of a client connection to a server. It's used by the optional Server.ConnState hook.

```go
type ConnState int
```

<a name="StateNew"></a>

```go
const (
    // StateNew represents a new connection that is expected to
    // send a request immediately. Connections begin at this
    // state and then transition to either StateActive or
    // StateClosed.
    StateNew ConnState = iota

    // StateActive represents a connection that has read 1 or more
    // bytes of a request. The Server.ConnState hook for
    // StateActive fires before the request has entered a handler
    // and doesn't fire again until the request has been
    // handled. After the request is handled, the state
    // transitions to StateClosed, StateHijacked, or StateIdle.
    // For HTTP/2, StateActive fires on the transition from zero
    // to one active request, and only transitions away once all
    // active requests are complete. That means that ConnState
    // cannot be used to do per-request work; ConnState only notes
    // the overall state of the connection.
    StateActive

    // StateIdle represents a connection that has finished
    // handling a request and is in the keep-alive state, waiting
    // for a new request. Connections transition from StateIdle
    // to either StateActive or StateClosed.
    StateIdle

    // StateHijacked represents a hijacked connection.
    // This is a terminal state. It does not transition to StateClosed.
    StateHijacked

    // StateClosed represents a closed connection.
    // This is a terminal state. Hijacked connections do not
    // transition to StateClosed.
    StateClosed
)
```

<a name="ConnState.String"></a>
### func \(ConnState\) [String](<https://github.com/valyala/fasthttp/blob/master/server.go#L2983>)

```go
func (c ConnState) String() string
```



<a name="Cookie"></a>
## type [Cookie](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L67-L89>)

Cookie represents HTTP response cookie.

Do not copy Cookie objects. Create new object and use CopyTo instead.

Cookie instance MUST NOT be used from concurrently running goroutines.

```go
type Cookie struct {
    // contains filtered or unexported fields
}
```

<a name="AcquireCookie"></a>
### func [AcquireCookie](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L43>)

```go
func AcquireCookie() *Cookie
```

AcquireCookie returns an empty Cookie object from the pool.

The returned object may be returned back to the pool with ReleaseCookie. This allows reducing GC load.

<a name="Cookie.AppendBytes"></a>
### func \(\*Cookie\) [AppendBytes](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L280>)

```go
func (c *Cookie) AppendBytes(dst []byte) []byte
```

AppendBytes appends cookie representation to dst and returns the extended dst.

<a name="Cookie.Cookie"></a>
### func \(\*Cookie\) [Cookie](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L349>)

```go
func (c *Cookie) Cookie() []byte
```

Cookie returns cookie representation.

The returned value is valid until the Cookie reused or released \(ReleaseCookie\). Do not store references to the returned value. Make copies instead.

<a name="Cookie.CopyTo"></a>
### func \(\*Cookie\) [CopyTo](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L92>)

```go
func (c *Cookie) CopyTo(src *Cookie)
```

CopyTo copies src cookie to c.

<a name="Cookie.Domain"></a>
### func \(\*Cookie\) [Domain](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L176>)

```go
func (c *Cookie) Domain() []byte
```

Domain returns cookie domain.

The returned value is valid until the Cookie reused or released \(ReleaseCookie\). Do not store references to the returned value. Make copies instead.

<a name="Cookie.Expire"></a>
### func \(\*Cookie\) [Expire](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L210>)

```go
func (c *Cookie) Expire() time.Time
```

Expire returns cookie expiration time.

CookieExpireUnlimited is returned if cookie doesn't expire.

<a name="Cookie.HTTPOnly"></a>
### func \(\*Cookie\) [HTTPOnly](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L107>)

```go
func (c *Cookie) HTTPOnly() bool
```

HTTPOnly returns true if the cookie is http only.

<a name="Cookie.Key"></a>
### func \(\*Cookie\) [Key](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L250>)

```go
func (c *Cookie) Key() []byte
```

Key returns cookie name.

The returned value is valid until the Cookie reused or released \(ReleaseCookie\). Do not store references to the returned value. Make copies instead.

<a name="Cookie.MaxAge"></a>
### func \(\*Cookie\) [MaxAge](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L192>)

```go
func (c *Cookie) MaxAge() int
```

MaxAge returns the seconds until the cookie is meant to expire or 0 if no max age.

<a name="Cookie.Parse"></a>
### func \(\*Cookie\) [Parse](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L370>)

```go
func (c *Cookie) Parse(src string) error
```

Parse parses Set\-Cookie header.

<a name="Cookie.ParseBytes"></a>
### func \(\*Cookie\) [ParseBytes](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L376>)

```go
func (c *Cookie) ParseBytes(src []byte) error
```

ParseBytes parses Set\-Cookie header.

<a name="Cookie.Partitioned"></a>
### func \(\*Cookie\) [Partitioned](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L141>)

```go
func (c *Cookie) Partitioned() bool
```

Partitioned returns true if the cookie is partitioned.

<a name="Cookie.Path"></a>
### func \(\*Cookie\) [Path](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L156>)

```go
func (c *Cookie) Path() []byte
```

Path returns cookie path.

<a name="Cookie.Reset"></a>
### func \(\*Cookie\) [Reset](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L265>)

```go
func (c *Cookie) Reset()
```

Reset clears the cookie.

<a name="Cookie.SameSite"></a>
### func \(\*Cookie\) [SameSite](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L127>)

```go
func (c *Cookie) SameSite() CookieSameSite
```

SameSite returns the SameSite mode.

<a name="Cookie.Secure"></a>
### func \(\*Cookie\) [Secure](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L117>)

```go
func (c *Cookie) Secure() bool
```

Secure returns true if the cookie is secure.

<a name="Cookie.SetDomain"></a>
### func \(\*Cookie\) [SetDomain](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L181>)

```go
func (c *Cookie) SetDomain(domain string)
```

SetDomain sets cookie domain.

<a name="Cookie.SetDomainBytes"></a>
### func \(\*Cookie\) [SetDomainBytes](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L186>)

```go
func (c *Cookie) SetDomainBytes(domain []byte)
```

SetDomainBytes sets cookie domain.

<a name="Cookie.SetExpire"></a>
### func \(\*Cookie\) [SetExpire](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L224>)

```go
func (c *Cookie) SetExpire(expire time.Time)
```

SetExpire sets cookie expiration time.

Set expiration time to CookieExpireDelete for expiring \(deleting\) the cookie on the client.

By default cookie lifetime is limited by browser session.

<a name="Cookie.SetHTTPOnly"></a>
### func \(\*Cookie\) [SetHTTPOnly](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L112>)

```go
func (c *Cookie) SetHTTPOnly(httpOnly bool)
```

SetHTTPOnly sets cookie's httpOnly flag to the given value.

<a name="Cookie.SetKey"></a>
### func \(\*Cookie\) [SetKey](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L255>)

```go
func (c *Cookie) SetKey(key string)
```

SetKey sets cookie name.

<a name="Cookie.SetKeyBytes"></a>
### func \(\*Cookie\) [SetKeyBytes](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L260>)

```go
func (c *Cookie) SetKeyBytes(key []byte)
```

SetKeyBytes sets cookie name.

<a name="Cookie.SetMaxAge"></a>
### func \(\*Cookie\) [SetMaxAge](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L203>)

```go
func (c *Cookie) SetMaxAge(seconds int)
```

SetMaxAge sets cookie expiration time based on seconds. This takes precedence over any absolute expiry set on the cookie.

'max\-age' is set when the maxAge is non\-zero. That is, if maxAge = 0, the 'max\-age' is unset. If maxAge \< 0, it indicates that the cookie should be deleted immediately, equivalent to 'max\-age=0'. This behavior is consistent with the Go standard library's net/http package.

<a name="Cookie.SetPartitioned"></a>
### func \(\*Cookie\) [SetPartitioned](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L147>)

```go
func (c *Cookie) SetPartitioned(partitioned bool)
```

SetPartitioned sets the cookie's Partitioned flag to the given value. Set value Partitioned to true will set Secure to true and Path to / also to avoid browser rejection.

<a name="Cookie.SetPath"></a>
### func \(\*Cookie\) [SetPath](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L161>)

```go
func (c *Cookie) SetPath(path string)
```

SetPath sets cookie path.

<a name="Cookie.SetPathBytes"></a>
### func \(\*Cookie\) [SetPathBytes](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L167>)

```go
func (c *Cookie) SetPathBytes(path []byte)
```

SetPathBytes sets cookie path.

<a name="Cookie.SetSameSite"></a>
### func \(\*Cookie\) [SetSameSite](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L133>)

```go
func (c *Cookie) SetSameSite(mode CookieSameSite)
```

SetSameSite sets the cookie's SameSite flag to the given value. Set value CookieSameSiteNoneMode will set Secure to true also to avoid browser rejection.

<a name="Cookie.SetSecure"></a>
### func \(\*Cookie\) [SetSecure](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L122>)

```go
func (c *Cookie) SetSecure(secure bool)
```

SetSecure sets cookie's secure flag to the given value.

<a name="Cookie.SetValue"></a>
### func \(\*Cookie\) [SetValue](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L237>)

```go
func (c *Cookie) SetValue(value string)
```

SetValue sets cookie value.

<a name="Cookie.SetValueBytes"></a>
### func \(\*Cookie\) [SetValueBytes](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L242>)

```go
func (c *Cookie) SetValueBytes(value []byte)
```

SetValueBytes sets cookie value.

<a name="Cookie.String"></a>
### func \(\*Cookie\) [String](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L355>)

```go
func (c *Cookie) String() string
```

String returns cookie representation.

<a name="Cookie.Value"></a>
### func \(\*Cookie\) [Value](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L232>)

```go
func (c *Cookie) Value() []byte
```

Value returns cookie value.

The returned value is valid until the Cookie reused or released \(ReleaseCookie\). Do not store references to the returned value. Make copies instead.

<a name="Cookie.WriteTo"></a>
### func \(\*Cookie\) [WriteTo](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L362>)

```go
func (c *Cookie) WriteTo(w io.Writer) (int64, error)
```

WriteTo writes cookie representation to w.

WriteTo implements io.WriterTo interface.

<a name="CookieSameSite"></a>
## type [CookieSameSite](<https://github.com/valyala/fasthttp/blob/master/cookie.go#L23>)

CookieSameSite is an enum for the mode in which the SameSite flag should be set for the given cookie. See https://tools.ietf.org/html/draft-ietf-httpbis-cookie-same-site-00 for details.

```go
type CookieSameSite int
```

<a name="CookieSameSiteDisabled"></a>

```go
const (
    // CookieSameSiteDisabled removes the SameSite flag.
    CookieSameSiteDisabled CookieSameSite = iota
    // CookieSameSiteDefaultMode sets the SameSite flag.
    CookieSameSiteDefaultMode
    // CookieSameSiteLaxMode sets the SameSite flag with the "Lax" parameter.
    CookieSameSiteLaxMode
    // CookieSameSiteStrictMode sets the SameSite flag with the "Strict" parameter.
    CookieSameSiteStrictMode
    // CookieSameSiteNoneMode sets the SameSite flag with the "None" parameter.
    // See https://tools.ietf.org/html/draft-west-cookie-incrementalism-00
    CookieSameSiteNoneMode // third-party cookies are phasing out, use Partitioned cookies instead
)
```

<a name="DialFunc"></a>
## type [DialFunc](<https://github.com/valyala/fasthttp/blob/master/client.go#L660>)

DialFunc must establish connection to addr.

There is no need in establishing TLS \(SSL\) connection for https. The client automatically converts connection to TLS if HostClient.IsTLS is set.

TCP address passed to DialFunc always contains host and port. Example TCP addr values:

- foobar.com:80
- foobar.com:443
- foobar.com:8080

```go
type DialFunc func(addr string) (net.Conn, error)
```

<a name="DialFuncWithTimeout"></a>
## type [DialFuncWithTimeout](<https://github.com/valyala/fasthttp/blob/master/client.go#L675>)

DialFuncWithTimeout must establish connection to addr. Unlike DialFunc, it also accepts a timeout.

There is no need in establishing TLS \(SSL\) connection for https. The client automatically converts connection to TLS if HostClient.IsTLS is set.

TCP address passed to DialFuncWithTimeout always contains host and port. Example TCP addr values:

- foobar.com:80
- foobar.com:443
- foobar.com:8080

```go
type DialFuncWithTimeout func(addr string, timeout time.Duration) (net.Conn, error)
```

<a name="ErrBodyStreamWritePanic"></a>
## type [ErrBodyStreamWritePanic](<https://github.com/valyala/fasthttp/blob/master/http.go#L2032-L2034>)

ErrBodyStreamWritePanic is returned when panic happens during writing body stream.

```go
type ErrBodyStreamWritePanic struct {
    // contains filtered or unexported fields
}
```

<a name="ErrBrokenChunk"></a>
## type [ErrBrokenChunk](<https://github.com/valyala/fasthttp/blob/master/http.go#L2463-L2465>)

ErrBrokenChunk is returned when server receives a broken chunked body \(Transfer\-Encoding: chunked\).

```go
type ErrBrokenChunk struct {
    // contains filtered or unexported fields
}
```

<a name="ErrDialWithUpstream"></a>
## type [ErrDialWithUpstream](<https://github.com/valyala/fasthttp/blob/master/tcpdialer.go#L374-L377>)

ErrDialWithUpstream wraps dial error with upstream info.

Should use errors.As to get upstream information from error:

```
hc := fasthttp.HostClient{Addr: "foo.com,bar.com"}
err := hc.Do(req, res)

var dialErr *fasthttp.ErrDialWithUpstream
if errors.As(err, &dialErr) {
	upstream = dialErr.Upstream // 34.206.39.153:80
}
```

```go
type ErrDialWithUpstream struct {
    Upstream string
    // contains filtered or unexported fields
}
```

<a name="ErrDialWithUpstream.Error"></a>
### func \(\*ErrDialWithUpstream\) [Error](<https://github.com/valyala/fasthttp/blob/master/tcpdialer.go#L379>)

```go
func (e *ErrDialWithUpstream) Error() string
```



<a name="ErrDialWithUpstream.Unwrap"></a>
### func \(\*ErrDialWithUpstream\) [Unwrap](<https://github.com/valyala/fasthttp/blob/master/tcpdialer.go#L383>)

```go
func (e *ErrDialWithUpstream) Unwrap() error
```



<a name="ErrNothingRead"></a>
## type [ErrNothingRead](<https://github.com/valyala/fasthttp/blob/master/header.go#L3662-L3664>)

ErrNothingRead is returned when a keep\-alive connection is closed, either because the remote closed it or because of a read timeout.

```go
type ErrNothingRead struct {
    // contains filtered or unexported fields
}
```

<a name="ErrSmallBuffer"></a>
## type [ErrSmallBuffer](<https://github.com/valyala/fasthttp/blob/master/header.go#L3671-L3673>)

ErrSmallBuffer is returned when the provided buffer size is too small for reading request and/or response headers.

ReadBufferSize value from Server or clients should reduce the number of such errors.

```go
type ErrSmallBuffer struct {
    // contains filtered or unexported fields
}
```

<a name="EscapeError"></a>
## type [EscapeError](<https://github.com/valyala/fasthttp/blob/master/uri.go#L421>)



```go
type EscapeError string
```

<a name="EscapeError.Error"></a>
### func \(EscapeError\) [Error](<https://github.com/valyala/fasthttp/blob/master/uri.go#L423>)

```go
func (e EscapeError) Error() string
```



<a name="FS"></a>
## type [FS](<https://github.com/valyala/fasthttp/blob/master/fs.go#L255-L371>)

FS represents settings for request handler serving static files from the local filesystem.

It is prohibited copying FS values. Create new values instead.

```go
type FS struct {

    // FS is filesystem to serve files from. eg: embed.FS os.DirFS
    FS  fs.FS

    // Path rewriting function.
    //
    // By default request path is not modified.
    PathRewrite PathRewriteFunc

    // PathNotFound fires when file is not found in filesystem
    // this functions tries to replace "Cannot open requested path"
    // server response giving to the programmer the control of server flow.
    //
    // By default PathNotFound returns
    // "Cannot open requested path"
    PathNotFound RequestHandler

    // Suffixes list to add to compressedFileSuffix depending on encoding
    //
    // This value has sense only if Compress is set.
    //
    // FSCompressedFileSuffixes is used by default.
    CompressedFileSuffixes map[string]string

    // If CleanStop is set, the channel can be closed to stop the cleanup handlers
    // for the FS RequestHandlers created with NewRequestHandler.
    // NEVER close this channel while the handler is still being used!
    CleanStop chan struct{}

    // Path to the root directory to serve files from.
    Root string

    // Path to the compressed root directory to serve files from. If this value
    // is empty, Root is used.
    CompressRoot string

    // Suffix to add to the name of cached compressed file.
    //
    // This value has sense only if Compress is set.
    //
    // FSCompressedFileSuffix is used by default.
    CompressedFileSuffix string

    // List of index file names to try opening during directory access.
    //
    // For example:
    //
    //     * index.html
    //     * index.htm
    //     * my-super-index.xml
    //
    // By default the list is empty.
    IndexNames []string

    // Expiration duration for inactive file handlers.
    //
    // FSHandlerCacheDuration is used by default.
    CacheDuration time.Duration

    // AllowEmptyRoot controls what happens when Root is empty. When false (default) it will default to the
    // current working directory. An empty root is mostly useful when you want to use absolute paths
    // on windows that are on different filesystems. On linux setting your Root to "/" already allows you to use
    // absolute paths on any filesystem.
    AllowEmptyRoot bool

    // Uses brotli encoding and fallbacks to zstd or gzip in responses if set to true, uses zstd or gzip if set to false.
    //
    // This value has sense only if Compress is set.
    //
    // Brotli encoding is disabled by default.
    CompressBrotli bool

    // Uses zstd encoding and fallbacks to gzip in responses if set to true, uses gzip if set to false.
    //
    // This value has sense only if Compress is set.
    //
    // zstd encoding is disabled by default.
    CompressZstd bool

    // Index pages for directories without files matching IndexNames
    // are automatically generated if set.
    //
    // Directory index generation may be quite slow for directories
    // with many files (more than 1K), so it is discouraged enabling
    // index pages' generation for such directories.
    //
    // By default index pages aren't generated.
    GenerateIndexPages bool

    // Transparently compresses responses if set to true.
    //
    // The server tries minimizing CPU usage by caching compressed files.
    // It adds CompressedFileSuffix suffix to the original file name and
    // tries saving the resulting compressed file under the new file name.
    // So it is advisable to give the server write access to Root
    // and to all inner folders in order to minimize CPU usage when serving
    // compressed responses.
    //
    // Transparent compression is disabled by default.
    Compress bool

    // Enables byte range requests if set to true.
    //
    // Byte range requests are disabled by default.
    AcceptByteRange bool

    // SkipCache if true, will cache no file handler.
    //
    // By default is false.
    SkipCache bool
    // contains filtered or unexported fields
}
```

<details><summary>Example</summary>
<p>



```go
package main

import (
	"log"

	"github.com/valyala/fasthttp"
)

func main() {
	fs := &fasthttp.FS{
		// Path to directory to serve.
		Root: "/var/www/static-site",

		// Generate index pages if client requests directory contents.
		GenerateIndexPages: true,

		// Enable transparent compression to save network traffic.
		Compress: true,
	}

	// Create request handler for serving static files.
	h := fs.NewRequestHandler()

	// Start the server.
	if err := fasthttp.ListenAndServe(":8080", h); err != nil {
		log.Fatalf("error in ListenAndServe: %v", err)
	}
}
```

</p>
</details>

<a name="FS.NewRequestHandler"></a>
### func \(\*FS\) [NewRequestHandler](<https://github.com/valyala/fasthttp/blob/master/fs.go#L435>)

```go
func (fs *FS) NewRequestHandler() RequestHandler
```

NewRequestHandler returns new request handler with the given FS settings.

The returned handler caches requested file handles for FS.CacheDuration. Make sure your program has enough 'max open files' limit aka 'ulimit \-n' if FS.Root folder contains many files.

Do not create multiple request handlers from a single FS instance \- just reuse a single request handler.

<a name="FormValueFunc"></a>
## type [FormValueFunc](<https://github.com/valyala/fasthttp/blob/master/server.go#L1135>)



```go
type FormValueFunc func(*RequestCtx, string) []byte
```

<a name="HijackHandler"></a>
## type [HijackHandler](<https://github.com/valyala/fasthttp/blob/master/server.go#L635>)

HijackHandler must process the hijacked connection c.

If KeepHijackedConns is disabled, which is by default, the connection c is automatically closed after returning from HijackHandler.

The connection c must not be used after returning from the handler, if KeepHijackedConns is disabled.

When KeepHijackedConns enabled, fasthttp will not Close\(\) the connection, you must do it when you need it. You must not use c in any way after calling Close\(\).

```go
type HijackHandler func(c net.Conn)
```

<a name="HostClient"></a>
## type [HostClient](<https://github.com/valyala/fasthttp/blob/master/client.go#L722-L921>)

HostClient balances http requests among hosts listed in Addr.

HostClient may be used for balancing load among multiple upstream hosts. While multiple addresses passed to HostClient.Addr may be used for balancing load among them, it would be better using LBClient instead, since HostClient may unevenly balance load among upstream hosts.

It is forbidden copying HostClient instances. Create new instances instead.

It is safe calling HostClient methods from concurrently running goroutines.

```go
type HostClient struct {

    // Transport defines a transport-like mechanism that wraps every request/response.
    Transport RoundTripper

    // Callback for establishing new connections to hosts.
    //
    // Default DialTimeout is used if not set.
    DialTimeout DialFuncWithTimeout

    // Callback for establishing new connections to hosts.
    //
    // Note that if Dial is set instead of DialTimeout, Dial will ignore Request timeout.
    // If you want the tcp dial process to account for request timeouts, use DialTimeout instead.
    //
    // If not set, DialTimeout is used.
    Dial DialFunc

    // Optional TLS config.
    TLSConfig *tls.Config

    // RetryIf controls whether a retry should be attempted after an error.
    // By default, it uses the isIdempotent function.
    //
    // Deprecated: Use RetryIfErr instead.
    // This field is only effective when the `RetryIfErr` field is not set.
    RetryIf RetryIfFunc

    // When the client encounters an error during a request, the behavior—whether to retry
    // and whether to reset the request timeout—should be determined
    // based on the return value of this field.
    // This field is only effective within the range of MaxIdemponentCallAttempts.
    RetryIfErr RetryIfErrFunc

    // Comma-separated list of upstream HTTP server host addresses,
    // which are passed to Dial or DialTimeout in a round-robin manner.
    //
    // Each address may contain port if default dialer is used.
    // For example,
    //
    //    - foobar.com:80
    //    - foobar.com:443
    //    - foobar.com:8080
    Addr string

    // Client name. Used in User-Agent request header.
    Name string

    // Maximum number of connections which may be established to all hosts
    // listed in Addr.
    //
    // You can change this value while the HostClient is being used
    // with HostClient.SetMaxConns(value)
    //
    // DefaultMaxConnsPerHost is used if not set.
    MaxConns int

    // Keep-alive connections are closed after this duration.
    //
    // By default connection duration is unlimited.
    MaxConnDuration time.Duration

    // Idle keep-alive connections are closed after this duration.
    //
    // By default idle connections are closed
    // after DefaultMaxIdleConnDuration.
    MaxIdleConnDuration time.Duration

    // Maximum number of attempts for idempotent calls.
    //
    // A value of 0 or a negative value represents using DefaultMaxIdemponentCallAttempts.
    // For example, a value of 1 means the request will be executed only once,
    // while 2 means the request will be executed at most twice.
    // The RetryIfErr and RetryIf fields can invalidate remaining attempts.
    MaxIdemponentCallAttempts int

    // Per-connection buffer size for responses' reading.
    // This also limits the maximum header size.
    //
    // Default buffer size is used if 0.
    ReadBufferSize int

    // Per-connection buffer size for requests' writing.
    //
    // Default buffer size is used if 0.
    WriteBufferSize int

    // Maximum duration for full response reading (including body).
    //
    // By default response read timeout is unlimited.
    ReadTimeout time.Duration

    // Maximum duration for full request writing (including body).
    //
    // By default request write timeout is unlimited.
    WriteTimeout time.Duration

    // Maximum response body size.
    //
    // The client returns ErrBodyTooLarge if this limit is greater than 0
    // and response body is greater than the limit.
    //
    // By default response body size is unlimited.
    MaxResponseBodySize int

    // Maximum duration for waiting for a free connection.
    //
    // By default will not waiting, return ErrNoFreeConns immediately
    MaxConnWaitTimeout time.Duration

    // Connection pool strategy. Can be either LIFO or FIFO (default).
    ConnPoolStrategy ConnPoolStrategyType

    // NoDefaultUserAgentHeader when set to true, causes the default
    // User-Agent header to be excluded from the Request.
    NoDefaultUserAgentHeader bool

    // Attempt to connect to both ipv4 and ipv6 host addresses
    // if set to true.
    //
    // This option is used only if default TCP dialer is used,
    // i.e. if Dial and DialTimeout are blank.
    //
    // By default client connects only to ipv4 addresses,
    // since unfortunately ipv6 remains broken in many networks worldwide :)
    DialDualStack bool

    // Whether to use TLS (aka SSL or HTTPS) for host connections.
    IsTLS bool

    // Header names are passed as-is without normalization
    // if this option is set.
    //
    // Disabled header names' normalization may be useful only for proxying
    // responses to other clients expecting case-sensitive
    // header names. See https://github.com/valyala/fasthttp/issues/57
    // for details.
    //
    // By default request and response header names are normalized, i.e.
    // The first letter and the first letters following dashes
    // are uppercased, while all the other letters are lowercased.
    // Examples:
    //
    //     * HOST -> Host
    //     * content-type -> Content-Type
    //     * cONTENT-lenGTH -> Content-Length
    DisableHeaderNamesNormalizing bool

    // Path values are sent as-is without normalization.
    //
    // Disabled path normalization may be useful for proxying incoming requests
    // to servers that are expecting paths to be forwarded as-is.
    //
    // By default path values are normalized, i.e.
    // extra slashes are removed, special characters are encoded.
    DisablePathNormalizing bool

    // Will not log potentially sensitive content in error logs.
    //
    // This option is useful for servers that handle sensitive data
    // in the request/response.
    //
    // Client logs full errors by default.
    SecureErrorLogMessage bool

    // StreamResponseBody enables response body streaming.
    StreamResponseBody bool
    // contains filtered or unexported fields
}
```

<details><summary>Example</summary>
<p>



```go
package main

import (
	"log"

	"github.com/valyala/fasthttp"
)

func main() {
	// Prepare a client, which fetches webpages via HTTP proxy listening
	// on the localhost:8080.
	c := &fasthttp.HostClient{
		Addr: "localhost:8080",
	}

	// Fetch google page via local proxy.
	statusCode, body, err := c.Get(nil, "http://google.com/foo/bar")
	if err != nil {
		log.Fatalf("Error when loading google page through local proxy: %v", err)
	}
	if statusCode != fasthttp.StatusOK {
		log.Fatalf("Unexpected status code: %d. Expecting %d", statusCode, fasthttp.StatusOK)
	}
	useResponseBody(body)

	// Fetch foobar page via local proxy. Reuse body buffer.
	statusCode, body, err = c.Get(body, "http://foobar.com/google/com")
	if err != nil {
		log.Fatalf("Error when loading foobar page through local proxy: %v", err)
	}
	if statusCode != fasthttp.StatusOK {
		log.Fatalf("Unexpected status code: %d. Expecting %d", statusCode, fasthttp.StatusOK)
	}
	useResponseBody(body)
}

func useResponseBody(body []byte) {
	// Do something with body :)
}
```

</p>
</details>

<a name="HostClient.AcquireConn"></a>
### func \(\*HostClient\) [AcquireConn](<https://github.com/valyala/fasthttp/blob/master/client.go#L1546>)

```go
func (c *HostClient) AcquireConn(reqTimeout time.Duration, connectionClose bool) (cc *clientConn, err error)
```



<a name="HostClient.AcquireReader"></a>
### func \(\*HostClient\) [AcquireReader](<https://github.com/valyala/fasthttp/blob/master/client.go#L1880>)

```go
func (c *HostClient) AcquireReader(conn net.Conn) *bufio.Reader
```



<a name="HostClient.AcquireWriter"></a>
### func \(\*HostClient\) [AcquireWriter](<https://github.com/valyala/fasthttp/blob/master/client.go#L1845>)

```go
func (c *HostClient) AcquireWriter(conn net.Conn) *bufio.Writer
```



<a name="HostClient.CloseConn"></a>
### func \(\*HostClient\) [CloseConn](<https://github.com/valyala/fasthttp/blob/master/client.go#L1747>)

```go
func (c *HostClient) CloseConn(cc *clientConn)
```



<a name="HostClient.CloseIdleConnections"></a>
### func \(\*HostClient\) [CloseIdleConnections](<https://github.com/valyala/fasthttp/blob/master/client.go#L1677>)

```go
func (c *HostClient) CloseIdleConnections()
```

CloseIdleConnections closes any connections which were previously connected from previous requests but are now sitting idle in a "keep\-alive" state. It does not interrupt any connections currently in use.

<a name="HostClient.ConnsCount"></a>
### func \(\*HostClient\) [ConnsCount](<https://github.com/valyala/fasthttp/blob/master/client.go#L1781>)

```go
func (c *HostClient) ConnsCount() int
```

ConnsCount returns connection count of HostClient.

<a name="HostClient.Do"></a>
### func \(\*HostClient\) [Do](<https://github.com/valyala/fasthttp/blob/master/client.go#L1347>)

```go
func (c *HostClient) Do(req *Request, resp *Response) error
```

Do performs the given http request and sets the corresponding response.

Request must contain at least non\-zero RequestURI with full url \(including scheme and host\) or non\-zero Host header \+ RequestURI.

The function doesn't follow redirects. Use Get\* for following redirects.

Response is ignored if resp is nil.

ErrNoFreeConns is returned if all HostClient.MaxConns connections to the host are busy.

It is recommended obtaining req and resp via AcquireRequest and AcquireResponse in performance\-critical code.

<a name="HostClient.DoDeadline"></a>
### func \(\*HostClient\) [DoDeadline](<https://github.com/valyala/fasthttp/blob/master/client.go#L1298>)

```go
func (c *HostClient) DoDeadline(req *Request, resp *Response, deadline time.Time) error
```

DoDeadline performs the given request and waits for response until the given deadline.

Request must contain at least non\-zero RequestURI with full url \(including scheme and host\) or non\-zero Host header \+ RequestURI.

The function doesn't follow redirects. Use Get\* for following redirects.

Response is ignored if resp is nil.

ErrTimeout is returned if the response wasn't returned until the given deadline. Immediately returns ErrTimeout if the deadline has already been reached.

ErrNoFreeConns is returned if all HostClient.MaxConns connections to the host are busy.

It is recommended obtaining req and resp via AcquireRequest and AcquireResponse in performance\-critical code.

<a name="HostClient.DoRedirects"></a>
### func \(\*HostClient\) [DoRedirects](<https://github.com/valyala/fasthttp/blob/master/client.go#L1325>)

```go
func (c *HostClient) DoRedirects(req *Request, resp *Response, maxRedirectsCount int) error
```

DoRedirects performs the given http request and fills the given http response, following up to maxRedirectsCount redirects. When the redirect count exceeds maxRedirectsCount, ErrTooManyRedirects is returned.

Request must contain at least non\-zero RequestURI with full url \(including scheme and host\) or non\-zero Host header \+ RequestURI.

Client determines the server to be requested in the following order:

- from RequestURI if it contains full url with scheme and host;
- from Host header otherwise.

Response is ignored if resp is nil.

ErrNoFreeConns is returned if all DefaultMaxConnsPerHost connections to the requested host are busy.

It is recommended obtaining req and resp via AcquireRequest and AcquireResponse in performance\-critical code.

<a name="HostClient.DoTimeout"></a>
### func \(\*HostClient\) [DoTimeout](<https://github.com/valyala/fasthttp/blob/master/client.go#L1271>)

```go
func (c *HostClient) DoTimeout(req *Request, resp *Response, timeout time.Duration) error
```

DoTimeout performs the given request and waits for response during the given timeout duration.

Request must contain at least non\-zero RequestURI with full url \(including scheme and host\) or non\-zero Host header \+ RequestURI.

The function doesn't follow redirects. Use Get\* for following redirects.

Response is ignored if resp is nil.

ErrTimeout is returned if the response wasn't returned during the given timeout. Immediately returns ErrTimeout if timeout value is negative.

ErrNoFreeConns is returned if all HostClient.MaxConns connections to the host are busy.

It is recommended obtaining req and resp via AcquireRequest and AcquireResponse in performance\-critical code.

<a name="HostClient.Get"></a>
### func \(\*HostClient\) [Get](<https://github.com/valyala/fasthttp/blob/master/client.go#L959>)

```go
func (c *HostClient) Get(dst []byte, url string) (statusCode int, body []byte, err error)
```

Get returns the status code and body of url.

The contents of dst will be replaced by the body and returned, if the dst is too small a new slice will be allocated.

The function follows redirects. Use Do\* for manually handling redirects.

<a name="HostClient.GetDeadline"></a>
### func \(\*HostClient\) [GetDeadline](<https://github.com/valyala/fasthttp/blob/master/client.go#L985>)

```go
func (c *HostClient) GetDeadline(dst []byte, url string, deadline time.Time) (statusCode int, body []byte, err error)
```

GetDeadline returns the status code and body of url.

The contents of dst will be replaced by the body and returned, if the dst is too small a new slice will be allocated.

The function follows redirects. Use Do\* for manually handling redirects.

ErrTimeout error is returned if url contents couldn't be fetched until the given deadline.

<a name="HostClient.GetTimeout"></a>
### func \(\*HostClient\) [GetTimeout](<https://github.com/valyala/fasthttp/blob/master/client.go#L972>)

```go
func (c *HostClient) GetTimeout(dst []byte, url string, timeout time.Duration) (statusCode int, body []byte, err error)
```

GetTimeout returns the status code and body of url.

The contents of dst will be replaced by the body and returned, if the dst is too small a new slice will be allocated.

The function follows redirects. Use Do\* for manually handling redirects.

ErrTimeout error is returned if url contents couldn't be fetched during the given timeout.

<a name="HostClient.LastUseTime"></a>
### func \(\*HostClient\) [LastUseTime](<https://github.com/valyala/fasthttp/blob/master/client.go#L948>)

```go
func (c *HostClient) LastUseTime() time.Time
```

LastUseTime returns time the client was last used.

<a name="HostClient.PendingRequests"></a>
### func \(\*HostClient\) [PendingRequests](<https://github.com/valyala/fasthttp/blob/master/client.go#L1427>)

```go
func (c *HostClient) PendingRequests() int
```

PendingRequests returns the current number of requests the client is executing.

This function may be used for balancing load among multiple HostClient instances.

<a name="HostClient.Post"></a>
### func \(\*HostClient\) [Post](<https://github.com/valyala/fasthttp/blob/master/client.go#L997>)

```go
func (c *HostClient) Post(dst []byte, url string, postArgs *Args) (statusCode int, body []byte, err error)
```

Post sends POST request to the given url with the given POST arguments.

The contents of dst will be replaced by the body and returned, if the dst is too small a new slice will be allocated.

The function follows redirects. Use Do\* for manually handling redirects.

Empty POST body is sent if postArgs is nil.

<a name="HostClient.ReleaseConn"></a>
### func \(\*HostClient\) [ReleaseConn](<https://github.com/valyala/fasthttp/blob/master/client.go#L1807>)

```go
func (c *HostClient) ReleaseConn(cc *clientConn)
```



<a name="HostClient.ReleaseReader"></a>
### func \(\*HostClient\) [ReleaseReader](<https://github.com/valyala/fasthttp/blob/master/client.go#L1907>)

```go
func (c *HostClient) ReleaseReader(br *bufio.Reader)
```



<a name="HostClient.ReleaseWriter"></a>
### func \(\*HostClient\) [ReleaseWriter](<https://github.com/valyala/fasthttp/blob/master/client.go#L1872>)

```go
func (c *HostClient) ReleaseWriter(bw *bufio.Writer)
```



<a name="HostClient.SetMaxConns"></a>
### func \(\*HostClient\) [SetMaxConns](<https://github.com/valyala/fasthttp/blob/master/client.go#L1540>)

```go
func (c *HostClient) SetMaxConns(newMaxConns int)
```

SetMaxConns sets up the maximum number of connections which may be established to all hosts listed in Addr.

<a name="InvalidHostError"></a>
## type [InvalidHostError](<https://github.com/valyala/fasthttp/blob/master/uri.go#L427>)



```go
type InvalidHostError string
```

<a name="InvalidHostError.Error"></a>
### func \(InvalidHostError\) [Error](<https://github.com/valyala/fasthttp/blob/master/uri.go#L429>)

```go
func (e InvalidHostError) Error() string
```



<a name="LBClient"></a>
## type [LBClient](<https://github.com/valyala/fasthttp/blob/master/lbclient.go#L27-L55>)

LBClient balances requests among available LBClient.Clients.

It has the following features:

- Balances load among available clients using 'least loaded' \+ 'least total' hybrid technique.
- Dynamically decreases load on unhealthy clients.

It is forbidden copying LBClient instances. Create new instances instead.

It is safe calling LBClient methods from concurrently running goroutines.

```go
type LBClient struct {

    // HealthCheck is a callback called after each request.
    //
    // The request, response and the error returned by the client
    // is passed to HealthCheck, so the callback may determine whether
    // the client is healthy.
    //
    // Load on the current client is decreased if HealthCheck returns false.
    //
    // By default HealthCheck returns false if err != nil.
    HealthCheck func(req *Request, resp *Response, err error) bool

    // Clients must contain non-zero clients list.
    // Incoming requests are balanced among these clients.
    Clients []BalancingClient

    // Timeout is the request timeout used when calling LBClient.Do.
    //
    // DefaultLBClientTimeout is used by default.
    Timeout time.Duration
    // contains filtered or unexported fields
}
```

<details><summary>Example</summary>
<p>



```go
// Requests will be spread among these servers.
servers := []string{
	"google.com:80",
	"foobar.com:8080",
	"127.0.0.1:123",
}

// Prepare clients for each server
var lbc fasthttp.LBClient
for _, addr := range servers {
	c := &fasthttp.HostClient{
		Addr: addr,
	}
	lbc.Clients = append(lbc.Clients, c)
}

// Send requests to load-balanced servers
var req fasthttp.Request
var resp fasthttp.Response
for i := 0; i < 10; i++ {
	url := fmt.Sprintf("http://abcedfg/foo/bar/%d", i)
	req.SetRequestURI(url)
	if err := lbc.Do(&req, &resp); err != nil {
		log.Fatalf("Error when sending request: %v", err)
	}
	if resp.StatusCode() != fasthttp.StatusOK {
		log.Fatalf("unexpected status code: %d. Expecting %d", resp.StatusCode(), fasthttp.StatusOK)
	}

	useResponseBody(resp.Body())
}
```

</p>
</details>

<a name="LBClient.AddClient"></a>
### func \(\*LBClient\) [AddClient](<https://github.com/valyala/fasthttp/blob/master/lbclient.go#L101>)

```go
func (cc *LBClient) AddClient(c BalancingClient) int
```

AddClient adds a new client to the balanced clients and returns the new total number of clients.

<a name="LBClient.Do"></a>
### func \(\*LBClient\) [Do](<https://github.com/valyala/fasthttp/blob/master/lbclient.go#L76>)

```go
func (cc *LBClient) Do(req *Request, resp *Response) error
```

Do calculates timeout using LBClient.Timeout and calls DoTimeout on the least loaded client.

<a name="LBClient.DoDeadline"></a>
### func \(\*LBClient\) [DoDeadline](<https://github.com/valyala/fasthttp/blob/master/lbclient.go#L64>)

```go
func (cc *LBClient) DoDeadline(req *Request, resp *Response, deadline time.Time) error
```

DoDeadline calls DoDeadline on the least loaded client.

<a name="LBClient.DoTimeout"></a>
### func \(\*LBClient\) [DoTimeout](<https://github.com/valyala/fasthttp/blob/master/lbclient.go#L69>)

```go
func (cc *LBClient) DoTimeout(req *Request, resp *Response, timeout time.Duration) error
```

DoTimeout calculates deadline and calls DoDeadline on the least loaded client.

<a name="LBClient.RemoveClients"></a>
### func \(\*LBClient\) [RemoveClients](<https://github.com/valyala/fasthttp/blob/master/lbclient.go#L114>)

```go
func (cc *LBClient) RemoveClients(rc func(BalancingClient) bool) int
```

RemoveClients removes clients using the provided callback. If rc returns true, the passed client will be removed. Returns the new total number of clients.

<a name="Logger"></a>
## type [Logger](<https://github.com/valyala/fasthttp/blob/master/server.go#L868-L871>)

Logger is used for logging formatted messages.

```go
type Logger interface {
    // Printf must have the same semantics as log.Printf.
    Printf(format string, args ...any)
}
```

<a name="PathRewriteFunc"></a>
## type [PathRewriteFunc](<https://github.com/valyala/fasthttp/blob/master/fs.go#L179>)

PathRewriteFunc must return new request path based on arbitrary ctx info such as ctx.Path\(\).

Path rewriter is used in FS for translating the current request to the local filesystem path relative to FS.Root.

The returned path must not contain '/../' substrings due to security reasons, since such paths may refer files outside FS.Root.

The returned path may refer to ctx members. For example, ctx.Path\(\).

```go
type PathRewriteFunc func(ctx *RequestCtx) []byte
```

<a name="NewPathPrefixStripper"></a>
### func [NewPathPrefixStripper](<https://github.com/valyala/fasthttp/blob/master/fs.go#L241>)

```go
func NewPathPrefixStripper(prefixSize int) PathRewriteFunc
```

NewPathPrefixStripper returns path rewriter, which removes prefixSize bytes from the path prefix.

Examples:

- prefixSize = 0, original path: "/foo/bar", result: "/foo/bar"
- prefixSize = 3, original path: "/foo/bar", result: "o/bar"
- prefixSize = 7, original path: "/foo/bar", result: "r"

The returned path rewriter may be used as FS.PathRewrite .

<a name="NewPathSlashesStripper"></a>
### func [NewPathSlashesStripper](<https://github.com/valyala/fasthttp/blob/master/fs.go#L225>)

```go
func NewPathSlashesStripper(slashesCount int) PathRewriteFunc
```

NewPathSlashesStripper returns path rewriter, which strips slashesCount leading slashes from the path.

Examples:

- slashesCount = 0, original path: "/foo/bar", result: "/foo/bar"
- slashesCount = 1, original path: "/foo/bar", result: "/bar"
- slashesCount = 2, original path: "/foo/bar", result: ""

The returned path rewriter may be used as FS.PathRewrite .

<a name="NewVHostPathRewriter"></a>
### func [NewVHostPathRewriter](<https://github.com/valyala/fasthttp/blob/master/fs.go#L192>)

```go
func NewVHostPathRewriter(slashesCount int) PathRewriteFunc
```

NewVHostPathRewriter returns path rewriter, which strips slashesCount leading slashes from the path and prepends the path with request's host, thus simplifying virtual hosting for static files.

Examples:

- host=foobar.com, slashesCount=0, original path="/foo/bar". Resulting path: "/foobar.com/foo/bar"

- host=img.aaa.com, slashesCount=1, original path="/images/123/456.jpg" Resulting path: "/img.aaa.com/123/456.jpg"

<a name="PipelineClient"></a>
## type [PipelineClient](<https://github.com/valyala/fasthttp/blob/master/client.go#L2264-L2377>)

PipelineClient pipelines requests over a limited set of concurrent connections to the given Addr.

This client may be used in highly loaded HTTP\-based RPC systems for reducing context switches and network level overhead. See https://en.wikipedia.org/wiki/HTTP_pipelining for details.

It is forbidden copying PipelineClient instances. Create new instances instead.

It is safe calling PipelineClient methods from concurrently running goroutines.

```go
type PipelineClient struct {

    // Logger for logging client errors.
    //
    // By default standard logger from log package is used.
    Logger Logger

    // Callback for connection establishing to the host.
    //
    // Default Dial is used if not set.
    Dial DialFunc

    // Optional TLS config.
    TLSConfig *tls.Config

    // Address of the host to connect to.
    Addr string

    // PipelineClient name. Used in User-Agent request header.
    Name string

    // The maximum number of concurrent connections to the Addr.
    //
    // A single connection is used by default.
    MaxConns int

    // The maximum number of pending pipelined requests over
    // a single connection to Addr.
    //
    // DefaultMaxPendingRequests is used by default.
    MaxPendingRequests int

    // The maximum delay before sending pipelined requests as a batch
    // to the server.
    //
    // By default requests are sent immediately to the server.
    MaxBatchDelay time.Duration

    // Idle connection to the host is closed after this duration.
    //
    // By default idle connection is closed after
    // DefaultMaxIdleConnDuration.
    MaxIdleConnDuration time.Duration

    // Buffer size for responses' reading.
    // This also limits the maximum header size.
    //
    // Default buffer size is used if 0.
    ReadBufferSize int

    // Buffer size for requests' writing.
    //
    // Default buffer size is used if 0.
    WriteBufferSize int

    // Maximum duration for full response reading (including body).
    //
    // By default response read timeout is unlimited.
    ReadTimeout time.Duration

    // Maximum duration for full request writing (including body).
    //
    // By default request write timeout is unlimited.
    WriteTimeout time.Duration

    // NoDefaultUserAgentHeader when set to true, causes the default
    // User-Agent header to be excluded from the Request.
    NoDefaultUserAgentHeader bool

    // Attempt to connect to both ipv4 and ipv6 host addresses
    // if set to true.
    //
    // This option is used only if default TCP dialer is used,
    // i.e. if Dial is blank.
    //
    // By default client connects only to ipv4 addresses,
    // since unfortunately ipv6 remains broken in many networks worldwide :)
    DialDualStack bool

    // Response header names are passed as-is without normalization
    // if this option is set.
    //
    // Disabled header names' normalization may be useful only for proxying
    // responses to other clients expecting case-sensitive
    // header names. See https://github.com/valyala/fasthttp/issues/57
    // for details.
    //
    // By default request and response header names are normalized, i.e.
    // The first letter and the first letters following dashes
    // are uppercased, while all the other letters are lowercased.
    // Examples:
    //
    //     * HOST -> Host
    //     * content-type -> Content-Type
    //     * cONTENT-lenGTH -> Content-Length
    DisableHeaderNamesNormalizing bool

    // Path values are sent as-is without normalization
    //
    // Disabled path normalization may be useful for proxying incoming requests
    // to servers that are expecting paths to be forwarded as-is.
    //
    // By default path values are normalized, i.e.
    // extra slashes are removed, special characters are encoded.
    DisablePathNormalizing bool

    // Whether to use TLS (aka SSL or HTTPS) for host connections.
    IsTLS bool
    // contains filtered or unexported fields
}
```

<a name="PipelineClient.Do"></a>
### func \(\*PipelineClient\) [Do](<https://github.com/valyala/fasthttp/blob/master/client.go#L2570>)

```go
func (c *PipelineClient) Do(req *Request, resp *Response) error
```

Do performs the given http request and sets the corresponding response.

Request must contain at least non\-zero RequestURI with full url \(including scheme and host\) or non\-zero Host header \+ RequestURI.

The function doesn't follow redirects. Use Get\* for following redirects.

Response is ignored if resp is nil.

It is recommended obtaining req and resp via AcquireRequest and AcquireResponse in performance\-critical code.

<a name="PipelineClient.DoDeadline"></a>
### func \(\*PipelineClient\) [DoDeadline](<https://github.com/valyala/fasthttp/blob/master/client.go#L2458>)

```go
func (c *PipelineClient) DoDeadline(req *Request, resp *Response, deadline time.Time) error
```

DoDeadline performs the given request and waits for response until the given deadline.

Request must contain at least non\-zero RequestURI with full url \(including scheme and host\) or non\-zero Host header \+ RequestURI.

The function doesn't follow redirects.

Response is ignored if resp is nil.

ErrTimeout is returned if the response wasn't returned until the given deadline.

It is recommended obtaining req and resp via AcquireRequest and AcquireResponse in performance\-critical code.

<a name="PipelineClient.DoTimeout"></a>
### func \(\*PipelineClient\) [DoTimeout](<https://github.com/valyala/fasthttp/blob/master/client.go#L2439>)

```go
func (c *PipelineClient) DoTimeout(req *Request, resp *Response, timeout time.Duration) error
```

DoTimeout performs the given request and waits for response during the given timeout duration.

Request must contain at least non\-zero RequestURI with full url \(including scheme and host\) or non\-zero Host header \+ RequestURI.

The function doesn't follow redirects.

Response is ignored if resp is nil.

ErrTimeout is returned if the response wasn't returned during the given timeout.

It is recommended obtaining req and resp via AcquireRequest and AcquireResponse in performance\-critical code.

<a name="PipelineClient.PendingRequests"></a>
### func \(\*PipelineClient\) [PendingRequests](<https://github.com/valyala/fasthttp/blob/master/client.go#L2966>)

```go
func (c *PipelineClient) PendingRequests() int
```

PendingRequests returns the current number of pending requests pipelined to the server.

This number may exceed MaxPendingRequests\*MaxConns by up to two times, since each connection to the server may keep up to MaxPendingRequests requests in the queue before sending them to the server.

This function may be used for balancing load among multiple PipelineClient instances.

<a name="ReadCloserWithError"></a>
## type [ReadCloserWithError](<https://github.com/valyala/fasthttp/blob/master/http.go#L341-L344>)



```go
type ReadCloserWithError interface {
    io.Reader
    CloseWithError(err error) error
}
```

<a name="Request"></a>
## type [Request](<https://github.com/valyala/fasthttp/blob/master/http.go#L38-L83>)

Request represents HTTP request.

It is forbidden copying Request instances. Create new instances and use CopyTo instead.

Request instance MUST NOT be used from concurrently running goroutines.

```go
type Request struct {

    // Request header.
    //
    // Copying Header by value is forbidden. Use pointer to Header instead.
    Header RequestHeader

    // Use Host header (request.Header.SetHost) instead of the host from SetRequestURI, SetHost, or URI().SetHost
    UseHostHeader bool

    // DisableRedirectPathNormalizing disables redirect path normalization when used with DoRedirects.
    //
    // By default redirect path values are normalized, i.e.
    // extra slashes are removed, special characters are encoded.
    DisableRedirectPathNormalizing bool
    // contains filtered or unexported fields
}
```

<a name="AcquireRequest"></a>
### func [AcquireRequest](<https://github.com/valyala/fasthttp/blob/master/client.go#L1213>)

```go
func AcquireRequest() *Request
```

AcquireRequest returns an empty Request instance from request pool.

The returned Request instance may be passed to ReleaseRequest when it is no longer needed. This allows Request recycling, reduces GC pressure and usually improves performance.

<a name="Request.AppendBody"></a>
### func \(\*Request\) [AppendBody](<https://github.com/valyala/fasthttp/blob/master/http.go#L816>)

```go
func (req *Request) AppendBody(p []byte)
```

AppendBody appends p to request body.

It is safe re\-using p after the function returns.

<a name="Request.AppendBodyString"></a>
### func \(\*Request\) [AppendBodyString](<https://github.com/valyala/fasthttp/blob/master/http.go#L823>)

```go
func (req *Request) AppendBodyString(s string)
```

AppendBodyString appends s to request body.

<a name="Request.Body"></a>
### func \(\*Request\) [Body](<https://github.com/valyala/fasthttp/blob/master/http.go#L800>)

```go
func (req *Request) Body() []byte
```

Body returns request body.

The returned value is valid until the request is released, either though ReleaseRequest or your request handler returning. Do not store references to returned value. Make copies instead.

<a name="Request.BodyGunzip"></a>
### func \(\*Request\) [BodyGunzip](<https://github.com/valyala/fasthttp/blob/master/http.go#L479>)

```go
func (req *Request) BodyGunzip() ([]byte, error)
```

BodyGunzip returns un\-gzipped body data.

This method may be used if the request header contains 'Content\-Encoding: gzip' for reading un\-gzipped body. Use Body for reading gzipped request body.

<a name="Request.BodyInflate"></a>
### func \(\*Request\) [BodyInflate](<https://github.com/valyala/fasthttp/blob/master/http.go#L533>)

```go
func (req *Request) BodyInflate() ([]byte, error)
```

BodyInflate returns inflated body data.

This method may be used if the response header contains 'Content\-Encoding: deflate' for reading inflated request body. Use Body for reading deflated request body.

<a name="Request.BodyStream"></a>
### func \(\*Request\) [BodyStream](<https://github.com/valyala/fasthttp/blob/master/http.go#L322>)

```go
func (req *Request) BodyStream() io.Reader
```

BodyStream returns io.Reader.

You must CloseBodyStream or ReleaseRequest after you use it.

<a name="Request.BodyUnbrotli"></a>
### func \(\*Request\) [BodyUnbrotli](<https://github.com/valyala/fasthttp/blob/master/http.go#L506>)

```go
func (req *Request) BodyUnbrotli() ([]byte, error)
```

BodyUnbrotli returns un\-brotlied body data.

This method may be used if the request header contains 'Content\-Encoding: br' for reading un\-brotlied body. Use Body for reading brotlied request body.

<a name="Request.BodyUncompressed"></a>
### func \(\*Request\) [BodyUncompressed](<https://github.com/valyala/fasthttp/blob/master/http.go#L583>)

```go
func (req *Request) BodyUncompressed() ([]byte, error)
```

BodyUncompressed returns body data and if needed decompress it from gzip, deflate or Brotli.

This method may be used if the response header contains 'Content\-Encoding' for reading uncompressed request body. Use Body for reading the raw request body.

<a name="Request.BodyUnzstd"></a>
### func \(\*Request\) [BodyUnzstd](<https://github.com/valyala/fasthttp/blob/master/http.go#L550>)

```go
func (req *Request) BodyUnzstd() ([]byte, error)
```



<a name="Request.BodyWriteTo"></a>
### func \(\*Request\) [BodyWriteTo](<https://github.com/valyala/fasthttp/blob/master/http.go#L623>)

```go
func (req *Request) BodyWriteTo(w io.Writer) error
```

BodyWriteTo writes request body to w.

<a name="Request.BodyWriter"></a>
### func \(\*Request\) [BodyWriter](<https://github.com/valyala/fasthttp/blob/master/http.go#L366>)

```go
func (req *Request) BodyWriter() io.Writer
```

BodyWriter returns writer for populating request body.

<a name="Request.CloseBodyStream"></a>
### func \(\*Request\) [CloseBodyStream](<https://github.com/valyala/fasthttp/blob/master/http.go#L326>)

```go
func (req *Request) CloseBodyStream() error
```



<a name="Request.ConnectionClose"></a>
### func \(\*Request\) [ConnectionClose](<https://github.com/valyala/fasthttp/blob/master/http.go#L186>)

```go
func (req *Request) ConnectionClose() bool
```

ConnectionClose returns true if 'Connection: close' header is set.

<a name="Request.ContinueReadBody"></a>
### func \(\*Request\) [ContinueReadBody](<https://github.com/valyala/fasthttp/blob/master/http.go#L1280>)

```go
func (req *Request) ContinueReadBody(r *bufio.Reader, maxBodySize int, preParseMultipartForm ...bool) error
```

ContinueReadBody reads request body if request header contains 'Expect: 100\-continue'.

The caller must send StatusContinue response before calling this method.

If maxBodySize \> 0 and the body size exceeds maxBodySize, then ErrBodyTooLarge is returned.

<a name="Request.ContinueReadBodyStream"></a>
### func \(\*Request\) [ContinueReadBodyStream](<https://github.com/valyala/fasthttp/blob/master/http.go#L1363>)

```go
func (req *Request) ContinueReadBodyStream(r *bufio.Reader, maxBodySize int, preParseMultipartForm ...bool) error
```

ContinueReadBodyStream reads request body if request header contains 'Expect: 100\-continue'.

The caller must send StatusContinue response before calling this method.

If maxBodySize \> 0 and the body size exceeds maxBodySize, then ErrBodyTooLarge is returned.

<a name="Request.CopyTo"></a>
### func \(\*Request\) [CopyTo](<https://github.com/valyala/fasthttp/blob/master/http.go#L861>)

```go
func (req *Request) CopyTo(dst *Request)
```

CopyTo copies req contents to dst except of body stream.

<a name="Request.GetTimeOut"></a>
### func \(\*Request\) [GetTimeOut](<https://github.com/valyala/fasthttp/blob/master/http.go#L201>)

```go
func (req *Request) GetTimeOut() time.Duration
```

GetTimeOut retrieves the timeout duration set for the Request.

This method returns a time.Duration that determines how long the request can wait before it times out. In the default use case, the timeout applies to the entire request lifecycle, including both receiving the response headers and the response body.

<a name="Request.Host"></a>
### func \(\*Request\) [Host](<https://github.com/valyala/fasthttp/blob/master/http.go#L140>)

```go
func (req *Request) Host() []byte
```

Host returns the host for the given request.

<a name="Request.IsBodyStream"></a>
### func \(\*Request\) [IsBodyStream](<https://github.com/valyala/fasthttp/blob/master/http.go#L268>)

```go
func (req *Request) IsBodyStream() bool
```

IsBodyStream returns true if body is set via SetBodyStream\*.

<a name="Request.MayContinue"></a>
### func \(\*Request\) [MayContinue](<https://github.com/valyala/fasthttp/blob/master/http.go#L1269>)

```go
func (req *Request) MayContinue() bool
```

MayContinue returns true if the request contains 'Expect: 100\-continue' header.

The caller must do one of the following actions if MayContinue returns true:

- Either send StatusExpectationFailed response if request headers don't satisfy the caller.
- Or send StatusContinue response before reading request body with ContinueReadBody.
- Or close the connection.

<a name="Request.MultipartForm"></a>
### func \(\*Request\) [MultipartForm](<https://github.com/valyala/fasthttp/blob/master/http.go#L995>)

```go
func (req *Request) MultipartForm() (*multipart.Form, error)
```

MultipartForm returns request's multipart form.

Returns ErrNoMultipartForm if request's Content\-Type isn't 'multipart/form\-data'.

RemoveMultipartFormFiles must be called after returned multipart form is processed.

<a name="Request.PostArgs"></a>
### func \(\*Request\) [PostArgs](<https://github.com/valyala/fasthttp/blob/master/http.go#L967>)

```go
func (req *Request) PostArgs() *Args
```

PostArgs returns POST arguments.

<a name="Request.Read"></a>
### func \(\*Request\) [Read](<https://github.com/valyala/fasthttp/blob/master/http.go#L1186>)

```go
func (req *Request) Read(r *bufio.Reader) error
```

Read reads request \(including body\) from the given r.

RemoveMultipartFormFiles or Reset must be called after reading multipart/form\-data request in order to delete temporarily uploaded files.

If MayContinue returns true, the caller must:

- Either send StatusExpectationFailed response if request headers don't satisfy the caller.
- Or send StatusContinue response before reading request body with ContinueReadBody.
- Or close the connection.

io.EOF is returned if r is closed before reading the first header byte.

<a name="Request.ReadBody"></a>
### func \(\*Request\) [ReadBody](<https://github.com/valyala/fasthttp/blob/master/http.go#L1332>)

```go
func (req *Request) ReadBody(r *bufio.Reader, contentLength, maxBodySize int) (err error)
```

ReadBody reads request body from the given r, limiting the body size.

If maxBodySize \> 0 and the body size exceeds maxBodySize, then ErrBodyTooLarge is returned.

<a name="Request.ReadLimitBody"></a>
### func \(\*Request\) [ReadLimitBody](<https://github.com/valyala/fasthttp/blob/master/http.go#L1214>)

```go
func (req *Request) ReadLimitBody(r *bufio.Reader, maxBodySize int) error
```

ReadLimitBody reads request from the given r, limiting the body size.

If maxBodySize \> 0 and the body size exceeds maxBodySize, then ErrBodyTooLarge is returned.

RemoveMultipartFormFiles or Reset must be called after reading multipart/form\-data request in order to delete temporarily uploaded files.

If MayContinue returns true, the caller must:

- Either send StatusExpectationFailed response if request headers don't satisfy the caller.
- Or send StatusContinue response before reading request body with ContinueReadBody.
- Or close the connection.

io.EOF is returned if r is closed before reading the first header byte.

<a name="Request.ReleaseBody"></a>
### func \(\*Request\) [ReleaseBody](<https://github.com/valyala/fasthttp/blob/master/http.go#L734>)

```go
func (req *Request) ReleaseBody(size int)
```

ReleaseBody retires the request body if it is greater than "size" bytes.

This permits GC to reclaim the large buffer. If used, must be before ReleaseRequest.

Use this method only if you really understand how it works. The majority of workloads don't need this method.

<a name="Request.RemoveMultipartFormFiles"></a>
### func \(\*Request\) [RemoveMultipartFormFiles](<https://github.com/valyala/fasthttp/blob/master/http.go#L1143>)

```go
func (req *Request) RemoveMultipartFormFiles()
```

RemoveMultipartFormFiles removes multipart/form\-data temporary files associated with the request.

<a name="Request.RequestURI"></a>
### func \(\*Request\) [RequestURI](<https://github.com/valyala/fasthttp/blob/master/http.go#L157>)

```go
func (req *Request) RequestURI() []byte
```

RequestURI returns request's URI.

<a name="Request.Reset"></a>
### func \(\*Request\) [Reset](<https://github.com/valyala/fasthttp/blob/master/http.go#L1121>)

```go
func (req *Request) Reset()
```

Reset clears request contents.

<a name="Request.ResetBody"></a>
### func \(\*Request\) [ResetBody](<https://github.com/valyala/fasthttp/blob/master/http.go#L846>)

```go
func (req *Request) ResetBody()
```

ResetBody resets request body.

<a name="Request.SetBody"></a>
### func \(\*Request\) [SetBody](<https://github.com/valyala/fasthttp/blob/master/http.go#L832>)

```go
func (req *Request) SetBody(body []byte)
```

SetBody sets request body.

It is safe re\-using body argument after the function returns.

<a name="Request.SetBodyRaw"></a>
### func \(\*Request\) [SetBodyRaw](<https://github.com/valyala/fasthttp/blob/master/http.go#L704>)

```go
func (req *Request) SetBodyRaw(body []byte)
```

SetBodyRaw sets response body, but without copying it.

From this point onward the body argument must not be changed.

<a name="Request.SetBodyStream"></a>
### func \(\*Request\) [SetBodyStream](<https://github.com/valyala/fasthttp/blob/master/http.go#L244>)

```go
func (req *Request) SetBodyStream(bodyStream io.Reader, bodySize int)
```

SetBodyStream sets request body stream and, optionally body size.

If bodySize is \>= 0, then the bodyStream must provide exactly bodySize bytes before returning io.EOF.

If bodySize \< 0, then bodyStream is read until io.EOF.

bodyStream.Close\(\) is called after finishing reading all body data if it implements io.Closer.

Note that GET and HEAD requests cannot have body.

See also SetBodyStreamWriter.

<a name="Request.SetBodyStreamWriter"></a>
### func \(\*Request\) [SetBodyStreamWriter](<https://github.com/valyala/fasthttp/blob/master/http.go#L289>)

```go
func (req *Request) SetBodyStreamWriter(sw StreamWriter)
```

SetBodyStreamWriter registers the given sw for populating request body.

This function may be used in the following cases:

- if request body is too big \(more than 10MB\).
- if request body is streamed from slow external sources.
- if request body must be streamed to the server in chunks \(aka \`http client push\` or \`chunked transfer\-encoding\`\).

Note that GET and HEAD requests cannot have body.

See also SetBodyStream.

<a name="Request.SetBodyString"></a>
### func \(\*Request\) [SetBodyString](<https://github.com/valyala/fasthttp/blob/master/http.go#L839>)

```go
func (req *Request) SetBodyString(body string)
```

SetBodyString sets request body.

<a name="Request.SetConnectionClose"></a>
### func \(\*Request\) [SetConnectionClose](<https://github.com/valyala/fasthttp/blob/master/http.go#L191>)

```go
func (req *Request) SetConnectionClose()
```

SetConnectionClose sets 'Connection: close' header.

<a name="Request.SetHost"></a>
### func \(\*Request\) [SetHost](<https://github.com/valyala/fasthttp/blob/master/http.go#L130>)

```go
func (req *Request) SetHost(host string)
```

SetHost sets host for the request.

<a name="Request.SetHostBytes"></a>
### func \(\*Request\) [SetHostBytes](<https://github.com/valyala/fasthttp/blob/master/http.go#L135>)

```go
func (req *Request) SetHostBytes(host []byte)
```

SetHostBytes sets host for the request.

<a name="Request.SetRequestURI"></a>
### func \(\*Request\) [SetRequestURI](<https://github.com/valyala/fasthttp/blob/master/http.go#L145>)

```go
func (req *Request) SetRequestURI(requestURI string)
```

SetRequestURI sets RequestURI.

<a name="Request.SetRequestURIBytes"></a>
### func \(\*Request\) [SetRequestURIBytes](<https://github.com/valyala/fasthttp/blob/master/http.go#L151>)

```go
func (req *Request) SetRequestURIBytes(requestURI []byte)
```

SetRequestURIBytes sets RequestURI.

<a name="Request.SetTimeout"></a>
### func \(\*Request\) [SetTimeout](<https://github.com/valyala/fasthttp/blob/master/http.go#L2564>)

```go
func (req *Request) SetTimeout(t time.Duration)
```

SetTimeout sets timeout for the request.

The following code:

```
req.SetTimeout(t)
c.Do(&req, &resp)
```

is equivalent to

```
c.DoTimeout(&req, &resp, t)
```

<a name="Request.SetURI"></a>
### func \(\*Request\) [SetURI](<https://github.com/valyala/fasthttp/blob/master/http.go#L947>)

```go
func (req *Request) SetURI(newURI *URI)
```

SetURI initializes request URI. Use this method if a single URI may be reused across multiple requests. Otherwise, you can just use SetRequestURI\(\) and it will be parsed as new URI. The URI is copied and can be safely modified later.

<a name="Request.String"></a>
### func \(\*Request\) [String](<https://github.com/valyala/fasthttp/blob/master/http.go#L2126>)

```go
func (req *Request) String() string
```

String returns request representation.

Returns error message instead of request representation on error.

Use Write instead of String for performance\-critical code.

<a name="Request.SwapBody"></a>
### func \(\*Request\) [SwapBody](<https://github.com/valyala/fasthttp/blob/master/http.go#L775>)

```go
func (req *Request) SwapBody(body []byte) []byte
```

SwapBody swaps request body with the given body and returns the previous request body.

It is forbidden to use the body passed to SwapBody after the function returns.

<a name="Request.URI"></a>
### func \(\*Request\) [URI](<https://github.com/valyala/fasthttp/blob/master/http.go#L938>)

```go
func (req *Request) URI() *URI
```

URI returns request URI.

<a name="Request.Write"></a>
### func \(\*Request\) [Write](<https://github.com/valyala/fasthttp/blob/master/http.go#L1586>)

```go
func (req *Request) Write(w *bufio.Writer) error
```

Write writes request to w.

Write doesn't flush request to w for performance reasons.

See also WriteTo.

<a name="Request.WriteTo"></a>
### func \(\*Request\) [WriteTo](<https://github.com/valyala/fasthttp/blob/master/http.go#L1505>)

```go
func (req *Request) WriteTo(w io.Writer) (int64, error)
```

WriteTo writes request to w. It implements io.WriterTo.

<a name="RequestConfig"></a>
## type [RequestConfig](<https://github.com/valyala/fasthttp/blob/master/server.go#L494-L506>)

RequestConfig configure the per request deadline and body limits.

```go
type RequestConfig struct {
    // ReadTimeout is the maximum duration for reading the entire
    // request body.
    // A zero value means that default values will be honored.
    ReadTimeout time.Duration
    // WriteTimeout is the maximum duration before timing out
    // writes of the response.
    // A zero value means that default values will be honored.
    WriteTimeout time.Duration
    // Maximum request body size.
    // A zero value means that default values will be honored.
    MaxRequestBodySize int
}
```

<a name="RequestCtx"></a>
## type [RequestCtx](<https://github.com/valyala/fasthttp/blob/master/server.go#L588-L624>)

RequestCtx contains incoming request and manages outgoing response.

It is forbidden copying RequestCtx instances.

RequestHandler should avoid holding references to incoming RequestCtx and/or its members after the return. If holding RequestCtx references after the return is unavoidable \(for instance, ctx is passed to a separate goroutine and ctx lifetime cannot be controlled\), then the RequestHandler MUST call ctx.TimeoutError\(\) before return.

It is unsafe modifying/reading RequestCtx instance from concurrently running goroutines. The only exception is TimeoutError\*, which may be called while other goroutines accessing RequestCtx.

```go
type RequestCtx struct {

    // Outgoing response.
    //
    // Copying Response by value is forbidden. Use pointer to Response instead.
    Response Response

    // Incoming request.
    //
    // Copying Request by value is forbidden. Use pointer to Request instead.
    Request Request
    // contains filtered or unexported fields
}
```

<a name="RequestCtx.Conn"></a>
### func \(\*RequestCtx\) [Conn](<https://github.com/valyala/fasthttp/blob/master/server.go#L805>)

```go
func (ctx *RequestCtx) Conn() net.Conn
```

Conn returns a reference to the underlying net.Conn.

WARNING: Only use this method if you know what you are doing\!

Reading from or writing to the returned connection will end badly\!

<a name="RequestCtx.ConnID"></a>
### func \(\*RequestCtx\) [ConnID](<https://github.com/valyala/fasthttp/blob/master/server.go#L908>)

```go
func (ctx *RequestCtx) ConnID() uint64
```

ConnID returns unique connection ID.

This ID may be used to match distinct requests to the same incoming connection.

<a name="RequestCtx.ConnRequestNum"></a>
### func \(\*RequestCtx\) [ConnRequestNum](<https://github.com/valyala/fasthttp/blob/master/server.go#L927>)

```go
func (ctx *RequestCtx) ConnRequestNum() uint64
```

ConnRequestNum returns request sequence number for the current connection.

Sequence starts with 1.

<a name="RequestCtx.ConnTime"></a>
### func \(\*RequestCtx\) [ConnTime](<https://github.com/valyala/fasthttp/blob/master/server.go#L919>)

```go
func (ctx *RequestCtx) ConnTime() time.Time
```

ConnTime returns the time the server started serving the connection the current request came from.

<a name="RequestCtx.Deadline"></a>
### func \(\*RequestCtx\) [Deadline](<https://github.com/valyala/fasthttp/blob/master/server.go#L2736>)

```go
func (ctx *RequestCtx) Deadline() (deadline time.Time, ok bool)
```

Deadline returns the time when work done on behalf of this context should be canceled. Deadline returns ok==false when no deadline is set. Successive calls to Deadline return the same results.

This method always returns 0, false and is only present to make RequestCtx implement the context interface.

<a name="RequestCtx.Done"></a>
### func \(\*RequestCtx\) [Done](<https://github.com/valyala/fasthttp/blob/master/server.go#L2746>)

```go
func (ctx *RequestCtx) Done() <-chan struct{}
```

Done returns a channel that's closed when work done on behalf of this context should be canceled. Done may return nil if this context can never be canceled. Successive calls to Done return the same value.

Note: Because creating a new channel for every request is just too expensive, so RequestCtx.s.done is only closed when the server is shutting down.

<a name="RequestCtx.Err"></a>
### func \(\*RequestCtx\) [Err](<https://github.com/valyala/fasthttp/blob/master/server.go#L2759>)

```go
func (ctx *RequestCtx) Err() error
```

Err returns a non\-nil error value after Done is closed, successive calls to Err return the same error. If Done is not yet closed, Err returns nil. If Done is closed, Err returns a non\-nil error explaining why: Canceled if the context was canceled \(via server Shutdown\) or DeadlineExceeded if the context's deadline passed.

Note: Because creating a new channel for every request is just too expensive, so RequestCtx.s.done is only closed when the server is shutting down.

<a name="RequestCtx.Error"></a>
### func \(\*RequestCtx\) [Error](<https://github.com/valyala/fasthttp/blob/master/server.go#L1298>)

```go
func (ctx *RequestCtx) Error(msg string, statusCode int)
```

Error sets response status code to the given value and sets response body to the given message.

Warning: this will reset the response headers and body already set\!

<a name="RequestCtx.FormFile"></a>
### func \(\*RequestCtx\) [FormFile](<https://github.com/valyala/fasthttp/blob/master/server.go#L1044>)

```go
func (ctx *RequestCtx) FormFile(key string) (*multipart.FileHeader, error)
```

FormFile returns uploaded file associated with the given multipart form key.

The file is automatically deleted after returning from RequestHandler, so either move or copy uploaded file into new place if you want retaining it.

Use SaveMultipartFile function for permanently saving uploaded file.

The returned file header is valid until your request handler returns.

<a name="RequestCtx.FormValue"></a>
### func \(\*RequestCtx\) [FormValue](<https://github.com/valyala/fasthttp/blob/master/server.go#L1128>)

```go
func (ctx *RequestCtx) FormValue(key string) []byte
```

FormValue returns form value associated with the given key.

The value is searched in the following places:

- Query string.
- POST or PUT body.

There are more fine\-grained methods for obtaining form values:

- QueryArgs for obtaining values from query string.
- PostArgs for obtaining values from POST or PUT body.
- MultipartForm for obtaining values from multipart form.
- FormFile for obtaining uploaded files.

The returned value is valid until your request handler returns.

<a name="RequestCtx.Hijack"></a>
### func \(\*RequestCtx\) [Hijack](<https://github.com/valyala/fasthttp/blob/master/server.go#L661>)

```go
func (ctx *RequestCtx) Hijack(handler HijackHandler)
```

Hijack registers the given handler for connection hijacking.

The handler is called after returning from RequestHandler and sending http response. The current connection is passed to the handler. The connection is automatically closed after returning from the handler.

The server skips calling the handler in the following cases:

- 'Connection: close' header exists in either request or response.
- Unexpected error during response writing to the connection.

The server stops processing requests from hijacked connections.

Server limits such as Concurrency, ReadTimeout, WriteTimeout, etc. aren't applied to hijacked connections.

The handler must not retain references to ctx members.

Arbitrary 'Connection: Upgrade' protocols may be implemented with HijackHandler. For instance,

- WebSocket \( https://en.wikipedia.org/wiki/WebSocket \)
- HTTP/2.0 \( https://en.wikipedia.org/wiki/HTTP/2 \)

<details><summary>Example</summary>
<p>



```go
package main

import (
	"fmt"
	"log"

	"net"

	"github.com/valyala/fasthttp"
)

func main() {
	// hijackHandler is called on hijacked connection.
	hijackHandler := func(c net.Conn) {
		fmt.Fprintf(c, "This message is sent over a hijacked connection to the client %s\n", c.RemoteAddr())
		fmt.Fprintf(c, "Send me something and I'll echo it to you\n")
		var buf [1]byte
		for {
			if _, err := c.Read(buf[:]); err != nil {
				log.Printf("error when reading from hijacked connection: %v", err)
				return
			}
			fmt.Fprintf(c, "You sent me %q. Waiting for new data\n", buf[:])
		}
	}

	// requestHandler is called for each incoming request.
	requestHandler := func(ctx *fasthttp.RequestCtx) {
		path := ctx.Path()
		switch {
		case string(path) == "/hijack":
			// Note that the connection is hijacked only after
			// returning from requestHandler and sending http response.
			ctx.Hijack(hijackHandler)

			// The connection will be hijacked after sending this response.
			fmt.Fprintf(ctx, "Hijacked the connection!")
		case string(path) == "/":
			fmt.Fprintf(ctx, "Root directory requested")
		default:
			fmt.Fprintf(ctx, "Requested path is %q", path)
		}
	}

	if err := fasthttp.ListenAndServe(":80", requestHandler); err != nil {
		log.Fatalf("error in ListenAndServe: %v", err)
	}
}
```

</p>
</details>

<a name="RequestCtx.HijackSetNoResponse"></a>
### func \(\*RequestCtx\) [HijackSetNoResponse](<https://github.com/valyala/fasthttp/blob/master/server.go#L670>)

```go
func (ctx *RequestCtx) HijackSetNoResponse(noResponse bool)
```

HijackSetNoResponse changes the behavior of hijacking a request. If HijackSetNoResponse is called with false fasthttp will send a response to the client before calling the HijackHandler \(default\). If HijackSetNoResponse is called with true no response is send back before calling the HijackHandler supplied in the Hijack function.

<a name="RequestCtx.Hijacked"></a>
### func \(\*RequestCtx\) [Hijacked](<https://github.com/valyala/fasthttp/blob/master/server.go#L675>)

```go
func (ctx *RequestCtx) Hijacked() bool
```

Hijacked returns true after Hijack is called.

<a name="RequestCtx.Host"></a>
### func \(\*RequestCtx\) [Host](<https://github.com/valyala/fasthttp/blob/master/server.go#L992>)

```go
func (ctx *RequestCtx) Host() []byte
```

Host returns requested host.

The returned bytes are valid until your request handler returns.

<a name="RequestCtx.ID"></a>
### func \(\*RequestCtx\) [ID](<https://github.com/valyala/fasthttp/blob/master/server.go#L900>)

```go
func (ctx *RequestCtx) ID() uint64
```

ID returns unique ID of the request.

<a name="RequestCtx.IfModifiedSince"></a>
### func \(\*RequestCtx\) [IfModifiedSince](<https://github.com/valyala/fasthttp/blob/master/server.go#L1435>)

```go
func (ctx *RequestCtx) IfModifiedSince(lastModified time.Time) bool
```

IfModifiedSince returns true if lastModified exceeds 'If\-Modified\-Since' value from the request header.

The function returns true also 'If\-Modified\-Since' request header is missing.

<a name="RequestCtx.Init"></a>
### func \(\*RequestCtx\) [Init](<https://github.com/valyala/fasthttp/blob/master/server.go#L2715>)

```go
func (ctx *RequestCtx) Init(req *Request, remoteAddr net.Addr, logger Logger)
```

Init prepares ctx for passing to RequestHandler.

remoteAddr and logger are optional. They are used by RequestCtx.Logger\(\).

This function is intended for custom Server implementations.

<a name="RequestCtx.Init2"></a>
### func \(\*RequestCtx\) [Init2](<https://github.com/valyala/fasthttp/blob/master/server.go#L2696>)

```go
func (ctx *RequestCtx) Init2(conn net.Conn, logger Logger, reduceMemoryUsage bool)
```

Init2 prepares ctx for passing to RequestHandler.

conn is used only for determining local and remote addresses.

This function is intended for custom Server implementations. See https://github.com/valyala/httpteleport for details.

<a name="RequestCtx.IsBodyStream"></a>
### func \(\*RequestCtx\) [IsBodyStream](<https://github.com/valyala/fasthttp/blob/master/server.go#L1511>)

```go
func (ctx *RequestCtx) IsBodyStream() bool
```

IsBodyStream returns true if response body is set via SetBodyStream\*.

<a name="RequestCtx.IsConnect"></a>
### func \(\*RequestCtx\) [IsConnect](<https://github.com/valyala/fasthttp/blob/master/server.go#L1202>)

```go
func (ctx *RequestCtx) IsConnect() bool
```

IsConnect returns true if request method is CONNECT.

<a name="RequestCtx.IsDelete"></a>
### func \(\*RequestCtx\) [IsDelete](<https://github.com/valyala/fasthttp/blob/master/server.go#L1197>)

```go
func (ctx *RequestCtx) IsDelete() bool
```

IsDelete returns true if request method is DELETE.

<a name="RequestCtx.IsGet"></a>
### func \(\*RequestCtx\) [IsGet](<https://github.com/valyala/fasthttp/blob/master/server.go#L1182>)

```go
func (ctx *RequestCtx) IsGet() bool
```

IsGet returns true if request method is GET.

<a name="RequestCtx.IsHead"></a>
### func \(\*RequestCtx\) [IsHead](<https://github.com/valyala/fasthttp/blob/master/server.go#L1229>)

```go
func (ctx *RequestCtx) IsHead() bool
```

IsHead returns true if request method is HEAD.

<a name="RequestCtx.IsOptions"></a>
### func \(\*RequestCtx\) [IsOptions](<https://github.com/valyala/fasthttp/blob/master/server.go#L1207>)

```go
func (ctx *RequestCtx) IsOptions() bool
```

IsOptions returns true if request method is OPTIONS.

<a name="RequestCtx.IsPatch"></a>
### func \(\*RequestCtx\) [IsPatch](<https://github.com/valyala/fasthttp/blob/master/server.go#L1217>)

```go
func (ctx *RequestCtx) IsPatch() bool
```

IsPatch returns true if request method is PATCH.

<a name="RequestCtx.IsPost"></a>
### func \(\*RequestCtx\) [IsPost](<https://github.com/valyala/fasthttp/blob/master/server.go#L1187>)

```go
func (ctx *RequestCtx) IsPost() bool
```

IsPost returns true if request method is POST.

<a name="RequestCtx.IsPut"></a>
### func \(\*RequestCtx\) [IsPut](<https://github.com/valyala/fasthttp/blob/master/server.go#L1192>)

```go
func (ctx *RequestCtx) IsPut() bool
```

IsPut returns true if request method is PUT.

<a name="RequestCtx.IsTLS"></a>
### func \(\*RequestCtx\) [IsTLS](<https://github.com/valyala/fasthttp/blob/master/server.go#L765>)

```go
func (ctx *RequestCtx) IsTLS() bool
```

IsTLS returns true if the underlying connection is tls.Conn.

tls.Conn is an encrypted connection \(aka SSL, HTTPS\).

<a name="RequestCtx.IsTrace"></a>
### func \(\*RequestCtx\) [IsTrace](<https://github.com/valyala/fasthttp/blob/master/server.go#L1212>)

```go
func (ctx *RequestCtx) IsTrace() bool
```

IsTrace returns true if request method is TRACE.

<a name="RequestCtx.LastTimeoutErrorResponse"></a>
### func \(\*RequestCtx\) [LastTimeoutErrorResponse](<https://github.com/valyala/fasthttp/blob/master/server.go#L2582>)

```go
func (ctx *RequestCtx) LastTimeoutErrorResponse() *Response
```

LastTimeoutErrorResponse returns the last timeout response set via TimeoutError\* call.

This function is intended for custom server implementations.

<a name="RequestCtx.LocalAddr"></a>
### func \(\*RequestCtx\) [LocalAddr](<https://github.com/valyala/fasthttp/blob/master/server.go#L1261>)

```go
func (ctx *RequestCtx) LocalAddr() net.Addr
```

LocalAddr returns server address for the given request.

Always returns non\-nil result.

<a name="RequestCtx.LocalIP"></a>
### func \(\*RequestCtx\) [LocalIP](<https://github.com/valyala/fasthttp/blob/master/server.go#L1282>)

```go
func (ctx *RequestCtx) LocalIP() net.IP
```

LocalIP returns the server ip the request came to.

Always returns non\-nil result.

<a name="RequestCtx.Logger"></a>
### func \(\*RequestCtx\) [Logger](<https://github.com/valyala/fasthttp/blob/master/server.go#L1526>)

```go
func (ctx *RequestCtx) Logger() Logger
```

Logger returns logger, which may be used for logging arbitrary request\-specific messages inside RequestHandler.

Each message logged via returned logger contains request\-specific information such as request id, request duration, local address, remote address, request method and request url.

It is safe re\-using returned logger for logging multiple messages for the current request.

The returned logger is valid until your request handler returns.

<details><summary>Example</summary>
<p>



```go
package main

import (
	"fmt"
	"log"

	"github.com/valyala/fasthttp"
)

func main() {
	requestHandler := func(ctx *fasthttp.RequestCtx) {
		if string(ctx.Path()) == "/top-secret" {
			ctx.Logger().Printf("Alarm! Alien intrusion detected!")
			ctx.Error("Access denied!", fasthttp.StatusForbidden)
			return
		}

		// Logger may be cached in local variables.
		logger := ctx.Logger()

		logger.Printf("Good request from User-Agent %q", ctx.Request.Header.UserAgent())
		fmt.Fprintf(ctx, "Good request to %q", ctx.Path())
		logger.Printf("Multiple log messages may be written during a single request")
	}

	if err := fasthttp.ListenAndServe(":80", requestHandler); err != nil {
		log.Fatalf("error in ListenAndServe: %v", err)
	}
}
```

</p>
</details>

<a name="RequestCtx.Method"></a>
### func \(\*RequestCtx\) [Method](<https://github.com/valyala/fasthttp/blob/master/server.go#L1224>)

```go
func (ctx *RequestCtx) Method() []byte
```

Method return request method.

Returned value is valid until your request handler returns.

<a name="RequestCtx.MultipartForm"></a>
### func \(\*RequestCtx\) [MultipartForm](<https://github.com/valyala/fasthttp/blob/master/server.go#L1032>)

```go
func (ctx *RequestCtx) MultipartForm() (*multipart.Form, error)
```

MultipartForm returns request's multipart form.

Returns ErrNoMultipartForm if request's content\-type isn't 'multipart/form\-data'.

All uploaded temporary files are automatically deleted after returning from RequestHandler. Either move or copy uploaded files into new place if you want retaining them.

Use SaveMultipartFile function for permanently saving uploaded file.

The returned form is valid until your request handler returns.

See also FormFile and FormValue.

<a name="RequestCtx.NotFound"></a>
### func \(\*RequestCtx\) [NotFound](<https://github.com/valyala/fasthttp/blob/master/server.go#L1455>)

```go
func (ctx *RequestCtx) NotFound()
```

NotFound resets response and sets '404 Not Found' response status code.

<a name="RequestCtx.NotModified"></a>
### func \(\*RequestCtx\) [NotModified](<https://github.com/valyala/fasthttp/blob/master/server.go#L1449>)

```go
func (ctx *RequestCtx) NotModified()
```

NotModified resets response and sets '304 Not Modified' response status code.

<a name="RequestCtx.Path"></a>
### func \(\*RequestCtx\) [Path](<https://github.com/valyala/fasthttp/blob/master/server.go#L985>)

```go
func (ctx *RequestCtx) Path() []byte
```

Path returns requested path.

The returned bytes are valid until your request handler returns.

<a name="RequestCtx.PostArgs"></a>
### func \(\*RequestCtx\) [PostArgs](<https://github.com/valyala/fasthttp/blob/master/server.go#L1014>)

```go
func (ctx *RequestCtx) PostArgs() *Args
```

PostArgs returns POST arguments.

It doesn't return query arguments from RequestURI \- use QueryArgs for this.

See also QueryArgs, FormValue and FormFile.

These args are valid until your request handler returns.

<a name="RequestCtx.PostBody"></a>
### func \(\*RequestCtx\) [PostBody](<https://github.com/valyala/fasthttp/blob/master/server.go#L1476>)

```go
func (ctx *RequestCtx) PostBody() []byte
```

PostBody returns POST request body.

The returned bytes are valid until your request handler returns.

<a name="RequestCtx.QueryArgs"></a>
### func \(\*RequestCtx\) [QueryArgs](<https://github.com/valyala/fasthttp/blob/master/server.go#L1003>)

```go
func (ctx *RequestCtx) QueryArgs() *Args
```

QueryArgs returns query arguments from RequestURI.

It doesn't return POST'ed arguments \- use PostArgs\(\) for this.

See also PostArgs, FormValue and FormFile.

These args are valid until your request handler returns.

<a name="RequestCtx.Redirect"></a>
### func \(\*RequestCtx\) [Redirect](<https://github.com/valyala/fasthttp/blob/master/server.go#L1336>)

```go
func (ctx *RequestCtx) Redirect(uri string, statusCode int)
```

Redirect sets 'Location: uri' response header and sets the given statusCode.

statusCode must have one of the following values:

- StatusMovedPermanently \(301\)
- StatusFound \(302\)
- StatusSeeOther \(303\)
- StatusTemporaryRedirect \(307\)
- StatusPermanentRedirect \(308\)

All other statusCode values are replaced by StatusFound \(302\).

The redirect uri may be either absolute or relative to the current request uri. Fasthttp will always send an absolute uri back to the client. To send a relative uri you can use the following code:

```
strLocation = []byte("Location") // Put this with your top level var () declarations.
ctx.Response.Header.SetCanonical(strLocation, "/relative?uri")
ctx.Response.SetStatusCode(fasthttp.StatusMovedPermanently)
```

<a name="RequestCtx.RedirectBytes"></a>
### func \(\*RequestCtx\) [RedirectBytes](<https://github.com/valyala/fasthttp/blob/master/server.go#L1364>)

```go
func (ctx *RequestCtx) RedirectBytes(uri []byte, statusCode int)
```

RedirectBytes sets 'Location: uri' response header and sets the given statusCode.

statusCode must have one of the following values:

- StatusMovedPermanently \(301\)
- StatusFound \(302\)
- StatusSeeOther \(303\)
- StatusTemporaryRedirect \(307\)
- StatusPermanentRedirect \(308\)

All other statusCode values are replaced by StatusFound \(302\).

The redirect uri may be either absolute or relative to the current request uri. Fasthttp will always send an absolute uri back to the client. To send a relative uri you can use the following code:

```
strLocation = []byte("Location") // Put this with your top level var () declarations.
ctx.Response.Header.SetCanonical(strLocation, "/relative?uri")
ctx.Response.SetStatusCode(fasthttp.StatusMovedPermanently)
```

<a name="RequestCtx.Referer"></a>
### func \(\*RequestCtx\) [Referer](<https://github.com/valyala/fasthttp/blob/master/server.go#L971>)

```go
func (ctx *RequestCtx) Referer() []byte
```

Referer returns request referer.

The returned bytes are valid until your request handler returns.

<a name="RequestCtx.RemoteAddr"></a>
### func \(\*RequestCtx\) [RemoteAddr](<https://github.com/valyala/fasthttp/blob/master/server.go#L1236>)

```go
func (ctx *RequestCtx) RemoteAddr() net.Addr
```

RemoteAddr returns client address for the given request.

Always returns non\-nil result.

<a name="RequestCtx.RemoteIP"></a>
### func \(\*RequestCtx\) [RemoteIP](<https://github.com/valyala/fasthttp/blob/master/server.go#L1275>)

```go
func (ctx *RequestCtx) RemoteIP() net.IP
```

RemoteIP returns the client ip the request came from.

Always returns non\-nil result.

<a name="RequestCtx.RemoveUserValue"></a>
### func \(\*RequestCtx\) [RemoveUserValue](<https://github.com/valyala/fasthttp/blob/master/server.go#L748>)

```go
func (ctx *RequestCtx) RemoveUserValue(key any)
```

RemoveUserValue removes the given key and the value under it in ctx.

<a name="RequestCtx.RemoveUserValueBytes"></a>
### func \(\*RequestCtx\) [RemoveUserValueBytes](<https://github.com/valyala/fasthttp/blob/master/server.go#L753>)

```go
func (ctx *RequestCtx) RemoveUserValueBytes(key []byte)
```

RemoveUserValueBytes removes the given key and the value under it in ctx.

<a name="RequestCtx.RequestBodyStream"></a>
### func \(\*RequestCtx\) [RequestBodyStream](<https://github.com/valyala/fasthttp/blob/master/http.go#L546>)

```go
func (ctx *RequestCtx) RequestBodyStream() io.Reader
```



<a name="RequestCtx.RequestURI"></a>
### func \(\*RequestCtx\) [RequestURI](<https://github.com/valyala/fasthttp/blob/master/server.go#L957>)

```go
func (ctx *RequestCtx) RequestURI() []byte
```

RequestURI returns RequestURI.

The returned bytes are valid until your request handler returns.

<a name="RequestCtx.ResetBody"></a>
### func \(\*RequestCtx\) [ResetBody](<https://github.com/valyala/fasthttp/blob/master/server.go#L1397>)

```go
func (ctx *RequestCtx) ResetBody()
```

ResetBody resets response body contents.

<a name="RequestCtx.ResetUserValues"></a>
### func \(\*RequestCtx\) [ResetUserValues](<https://github.com/valyala/fasthttp/blob/master/server.go#L743>)

```go
func (ctx *RequestCtx) ResetUserValues()
```

ResetUserValues allows to reset user values from Request Context.

<a name="RequestCtx.SendFile"></a>
### func \(\*RequestCtx\) [SendFile](<https://github.com/valyala/fasthttp/blob/master/server.go#L1412>)

```go
func (ctx *RequestCtx) SendFile(path string)
```

SendFile sends local file contents from the given path as response body.

This is a shortcut to ServeFile\(ctx, path\).

SendFile logs all the errors via ctx.Logger.

See also ServeFile, FSHandler and FS.

WARNING: do not pass any user supplied paths to this function\! WARNING: if path is based on user input users will be able to request any file on your filesystem\! Use fasthttp.FS with a sane Root instead.

<a name="RequestCtx.SendFileBytes"></a>
### func \(\*RequestCtx\) [SendFileBytes](<https://github.com/valyala/fasthttp/blob/master/server.go#L1427>)

```go
func (ctx *RequestCtx) SendFileBytes(path []byte)
```

SendFileBytes sends local file contents from the given path as response body.

This is a shortcut to ServeFileBytes\(ctx, path\).

SendFileBytes logs all the errors via ctx.Logger.

See also ServeFileBytes, FSHandler and FS.

WARNING: do not pass any user supplied paths to this function\! WARNING: if path is based on user input users will be able to request any file on your filesystem\! Use fasthttp.FS with a sane Root instead.

<a name="RequestCtx.SetBody"></a>
### func \(\*RequestCtx\) [SetBody](<https://github.com/valyala/fasthttp/blob/master/server.go#L1387>)

```go
func (ctx *RequestCtx) SetBody(body []byte)
```

SetBody sets response body to the given value.

It is safe re\-using body argument after the function returns.

<a name="RequestCtx.SetBodyStream"></a>
### func \(\*RequestCtx\) [SetBodyStream](<https://github.com/valyala/fasthttp/blob/master/server.go#L1491>)

```go
func (ctx *RequestCtx) SetBodyStream(bodyStream io.Reader, bodySize int)
```

SetBodyStream sets response body stream and, optionally body size.

bodyStream.Close\(\) is called after finishing reading all body data if it implements io.Closer.

If bodySize is \>= 0, then bodySize bytes must be provided by bodyStream before returning io.EOF.

If bodySize \< 0, then bodyStream is read until io.EOF.

See also SetBodyStreamWriter.

<a name="RequestCtx.SetBodyStreamWriter"></a>
### func \(\*RequestCtx\) [SetBodyStreamWriter](<https://github.com/valyala/fasthttp/blob/master/server.go#L1506>)

```go
func (ctx *RequestCtx) SetBodyStreamWriter(sw StreamWriter)
```

SetBodyStreamWriter registers the given stream writer for populating response body.

Access to RequestCtx and/or its members is forbidden from sw.

This function may be used in the following cases:

- if response body is too big \(more than 10MB\).
- if response body is streamed from slow external sources.
- if response body must be streamed to the client in chunks. \(aka \`http server push\`\).

<details><summary>Example</summary>
<p>



```go
package main

import (
	"bufio"
	"fmt"
	"log"
	"time"

	"github.com/valyala/fasthttp"
)

func main() {
	// Start fasthttp server for streaming responses.
	if err := fasthttp.ListenAndServe(":8080", responseStreamHandler); err != nil {
		log.Fatalf("unexpected error in server: %v", err)
	}
}

func responseStreamHandler(ctx *fasthttp.RequestCtx) {
	// Send the response in chunks and wait for a second between each chunk.
	ctx.SetBodyStreamWriter(func(w *bufio.Writer) {
		for i := 0; i < 10; i++ {
			fmt.Fprintf(w, "this is a message number %d", i)

			// Do not forget flushing streamed data to the client.
			if err := w.Flush(); err != nil {
				return
			}
			time.Sleep(time.Second)
		}
	})
}
```

</p>
</details>

<a name="RequestCtx.SetBodyString"></a>
### func \(\*RequestCtx\) [SetBodyString](<https://github.com/valyala/fasthttp/blob/master/server.go#L1392>)

```go
func (ctx *RequestCtx) SetBodyString(body string)
```

SetBodyString sets response body to the given value.

<a name="RequestCtx.SetConnectionClose"></a>
### func \(\*RequestCtx\) [SetConnectionClose](<https://github.com/valyala/fasthttp/blob/master/server.go#L933>)

```go
func (ctx *RequestCtx) SetConnectionClose()
```

SetConnectionClose sets 'Connection: close' response header and closes connection after the RequestHandler returns.

<a name="RequestCtx.SetContentType"></a>
### func \(\*RequestCtx\) [SetContentType](<https://github.com/valyala/fasthttp/blob/master/server.go#L943>)

```go
func (ctx *RequestCtx) SetContentType(contentType string)
```

SetContentType sets response Content\-Type.

<a name="RequestCtx.SetContentTypeBytes"></a>
### func \(\*RequestCtx\) [SetContentTypeBytes](<https://github.com/valyala/fasthttp/blob/master/server.go#L950>)

```go
func (ctx *RequestCtx) SetContentTypeBytes(contentType []byte)
```

SetContentTypeBytes sets response Content\-Type.

It is safe modifying contentType buffer after function return.

<a name="RequestCtx.SetRemoteAddr"></a>
### func \(\*RequestCtx\) [SetRemoteAddr](<https://github.com/valyala/fasthttp/blob/master/server.go#L1254>)

```go
func (ctx *RequestCtx) SetRemoteAddr(remoteAddr net.Addr)
```

SetRemoteAddr sets remote address to the given value.

Set nil value to restore default behaviour for using connection remote address.

<a name="RequestCtx.SetStatusCode"></a>
### func \(\*RequestCtx\) [SetStatusCode](<https://github.com/valyala/fasthttp/blob/master/server.go#L938>)

```go
func (ctx *RequestCtx) SetStatusCode(statusCode int)
```

SetStatusCode sets response status code.

<a name="RequestCtx.SetUserValue"></a>
### func \(\*RequestCtx\) [SetUserValue](<https://github.com/valyala/fasthttp/blob/master/server.go#L690>)

```go
func (ctx *RequestCtx) SetUserValue(key, value any)
```

SetUserValue stores the given value \(arbitrary object\) under the given key in ctx.

The value stored in ctx may be obtained by UserValue\*.

This functionality may be useful for passing arbitrary values between functions involved in request processing.

All the values are removed from ctx after returning from the top RequestHandler. Additionally, Close method is called on each value implementing io.Closer before removing the value from ctx.

<a name="RequestCtx.SetUserValueBytes"></a>
### func \(\*RequestCtx\) [SetUserValueBytes](<https://github.com/valyala/fasthttp/blob/master/server.go#L703>)

```go
func (ctx *RequestCtx) SetUserValueBytes(key []byte, value any)
```

SetUserValueBytes stores the given value \(arbitrary object\) under the given key in ctx.

The value stored in ctx may be obtained by UserValue\*.

This functionality may be useful for passing arbitrary values between functions involved in request processing.

All the values stored in ctx are deleted after returning from RequestHandler.

<a name="RequestCtx.String"></a>
### func \(\*RequestCtx\) [String](<https://github.com/valyala/fasthttp/blob/master/server.go#L894>)

```go
func (ctx *RequestCtx) String() string
```

String returns unique string representation of the ctx.

The returned value may be useful for logging.

<a name="RequestCtx.Success"></a>
### func \(\*RequestCtx\) [Success](<https://github.com/valyala/fasthttp/blob/master/server.go#L1306>)

```go
func (ctx *RequestCtx) Success(contentType string, body []byte)
```

Success sets response Content\-Type and body to the given values.

<a name="RequestCtx.SuccessString"></a>
### func \(\*RequestCtx\) [SuccessString](<https://github.com/valyala/fasthttp/blob/master/server.go#L1312>)

```go
func (ctx *RequestCtx) SuccessString(contentType, body string)
```

SuccessString sets response Content\-Type and body to the given values.

<a name="RequestCtx.TLSConnectionState"></a>
### func \(\*RequestCtx\) [TLSConnectionState](<https://github.com/valyala/fasthttp/blob/master/server.go#L791>)

```go
func (ctx *RequestCtx) TLSConnectionState() *tls.ConnectionState
```

TLSConnectionState returns TLS connection state.

The function returns nil if the underlying connection isn't tls.Conn.

The returned state may be used for verifying TLS version, client certificates, etc.

<a name="RequestCtx.Time"></a>
### func \(\*RequestCtx\) [Time](<https://github.com/valyala/fasthttp/blob/master/server.go#L913>)

```go
func (ctx *RequestCtx) Time() time.Time
```

Time returns RequestHandler call time.

<a name="RequestCtx.TimeoutError"></a>
### func \(\*RequestCtx\) [TimeoutError](<https://github.com/valyala/fasthttp/blob/master/server.go#L1546>)

```go
func (ctx *RequestCtx) TimeoutError(msg string)
```

TimeoutError sets response status code to StatusRequestTimeout and sets body to the given msg.

All response modifications after TimeoutError call are ignored.

TimeoutError MUST be called before returning from RequestHandler if there are references to ctx and/or its members in other goroutines remain.

Usage of this function is discouraged. Prefer eliminating ctx references from pending goroutines instead of using this function.

<details><summary>Example</summary>
<p>



```go
package main

import (
	"fmt"
	"log"
	"math/rand"

	"time"

	"github.com/valyala/fasthttp"
)

func main() {
	requestHandler := func(ctx *fasthttp.RequestCtx) {
		// Emulate long-running task, which touches ctx.
		doneCh := make(chan struct{})
		go func() {
			workDuration := time.Millisecond * time.Duration(rand.Intn(2000))
			time.Sleep(workDuration)

			fmt.Fprintf(ctx, "ctx has been accessed by long-running task\n")
			fmt.Fprintf(ctx, "The requestHandler may be finished by this time.\n")

			close(doneCh)
		}()

		select {
		case <-doneCh:
			fmt.Fprintf(ctx, "The task has been finished in less than a second")
		case <-time.After(time.Second):
			// Since the long-running task is still running and may access ctx,
			// we must call TimeoutError before returning from requestHandler.
			//
			// Otherwise the program will suffer from data races.
			ctx.TimeoutError("Timeout!")
		}
	}

	if err := fasthttp.ListenAndServe(":80", requestHandler); err != nil {
		log.Fatalf("error in ListenAndServe: %v", err)
	}
}
```

</p>
</details>

<a name="RequestCtx.TimeoutErrorWithCode"></a>
### func \(\*RequestCtx\) [TimeoutErrorWithCode](<https://github.com/valyala/fasthttp/blob/master/server.go#L1560>)

```go
func (ctx *RequestCtx) TimeoutErrorWithCode(msg string, statusCode int)
```

TimeoutErrorWithCode sets response body to msg and response status code to statusCode.

All response modifications after TimeoutErrorWithCode call are ignored.

TimeoutErrorWithCode MUST be called before returning from RequestHandler if there are references to ctx and/or its members in other goroutines remain.

Usage of this function is discouraged. Prefer eliminating ctx references from pending goroutines instead of using this function.

<a name="RequestCtx.TimeoutErrorWithResponse"></a>
### func \(\*RequestCtx\) [TimeoutErrorWithResponse](<https://github.com/valyala/fasthttp/blob/master/server.go#L1577>)

```go
func (ctx *RequestCtx) TimeoutErrorWithResponse(resp *Response)
```

TimeoutErrorWithResponse marks the ctx as timed out and sends the given response to the client.

All ctx modifications after TimeoutErrorWithResponse call are ignored.

TimeoutErrorWithResponse MUST be called before returning from RequestHandler if there are references to ctx and/or its members in other goroutines remain.

Usage of this function is discouraged. Prefer eliminating ctx references from pending goroutines instead of using this function.

<a name="RequestCtx.URI"></a>
### func \(\*RequestCtx\) [URI](<https://github.com/valyala/fasthttp/blob/master/server.go#L964>)

```go
func (ctx *RequestCtx) URI() *URI
```

URI returns requested uri.

This uri is valid until your request handler returns.

<a name="RequestCtx.UserAgent"></a>
### func \(\*RequestCtx\) [UserAgent](<https://github.com/valyala/fasthttp/blob/master/server.go#L978>)

```go
func (ctx *RequestCtx) UserAgent() []byte
```

UserAgent returns User\-Agent header value from the request.

The returned bytes are valid until your request handler returns.

<a name="RequestCtx.UserValue"></a>
### func \(\*RequestCtx\) [UserValue](<https://github.com/valyala/fasthttp/blob/master/server.go#L708>)

```go
func (ctx *RequestCtx) UserValue(key any) any
```

UserValue returns the value stored via SetUserValue\* under the given key.

<a name="RequestCtx.UserValueBytes"></a>
### func \(\*RequestCtx\) [UserValueBytes](<https://github.com/valyala/fasthttp/blob/master/server.go#L714>)

```go
func (ctx *RequestCtx) UserValueBytes(key []byte) any
```

UserValueBytes returns the value stored via SetUserValue\* under the given key.

<a name="RequestCtx.Value"></a>
### func \(\*RequestCtx\) [Value](<https://github.com/valyala/fasthttp/blob/master/server.go#L2774>)

```go
func (ctx *RequestCtx) Value(key any) any
```

Value returns the value associated with this context for key, or nil if no value is associated with key. Successive calls to Value with the same key returns the same result.

This method is present to make RequestCtx implement the context interface. This method is the same as calling ctx.UserValue\(key\).

<a name="RequestCtx.VisitUserValues"></a>
### func \(\*RequestCtx\) [VisitUserValues](<https://github.com/valyala/fasthttp/blob/master/server.go#L722>)

```go
func (ctx *RequestCtx) VisitUserValues(visitor func([]byte, any))
```

VisitUserValues calls visitor for each existing userValue with a key that is a string or \[\]byte.

visitor must not retain references to key and value after returning. Make key and/or value copies if you need storing them after returning.

<a name="RequestCtx.VisitUserValuesAll"></a>
### func \(\*RequestCtx\) [VisitUserValuesAll](<https://github.com/valyala/fasthttp/blob/master/server.go#L735>)

```go
func (ctx *RequestCtx) VisitUserValuesAll(visitor func(any, any))
```

VisitUserValuesAll calls visitor for each existing userValue.

visitor must not retain references to key and value after returning. Make key and/or value copies if you need storing them after returning.

<a name="RequestCtx.Write"></a>
### func \(\*RequestCtx\) [Write](<https://github.com/valyala/fasthttp/blob/master/server.go#L1462>)

```go
func (ctx *RequestCtx) Write(p []byte) (int, error)
```

Write writes p into response body.

<a name="RequestCtx.WriteString"></a>
### func \(\*RequestCtx\) [WriteString](<https://github.com/valyala/fasthttp/blob/master/server.go#L1468>)

```go
func (ctx *RequestCtx) WriteString(s string) (int, error)
```

WriteString appends s to response body.

<a name="RequestHandler"></a>
## type [RequestHandler](<https://github.com/valyala/fasthttp/blob/master/server.go#L134>)

RequestHandler must process incoming requests.

RequestHandler must call ctx.TimeoutError\(\) before returning if it keeps references to ctx and/or its members after the return. Consider wrapping RequestHandler into TimeoutHandler if response time must be limited.

```go
type RequestHandler func(ctx *RequestCtx)
```

<a name="CompressHandler"></a>
### func [CompressHandler](<https://github.com/valyala/fasthttp/blob/master/server.go#L511>)

```go
func CompressHandler(h RequestHandler) RequestHandler
```

CompressHandler returns RequestHandler that transparently compresses response body generated by h if the request contains 'gzip' or 'deflate' 'Accept\-Encoding' header.

<a name="CompressHandlerBrotliLevel"></a>
### func [CompressHandlerBrotliLevel](<https://github.com/valyala/fasthttp/blob/master/server.go#L558>)

```go
func CompressHandlerBrotliLevel(h RequestHandler, brotliLevel, otherLevel int) RequestHandler
```

CompressHandlerBrotliLevel returns RequestHandler that transparently compresses response body generated by h if the request contains a 'br', 'gzip' or 'deflate' 'Accept\-Encoding' header.

brotliLevel is the desired compression level for brotli.

- CompressBrotliNoCompression
- CompressBrotliBestSpeed
- CompressBrotliBestCompression
- CompressBrotliDefaultCompression

otherLevel is the desired compression level for gzip and deflate.

- CompressNoCompression
- CompressBestSpeed
- CompressBestCompression
- CompressDefaultCompression
- CompressHuffmanOnly

<a name="CompressHandlerLevel"></a>
### func [CompressHandlerLevel](<https://github.com/valyala/fasthttp/blob/master/server.go#L526>)

```go
func CompressHandlerLevel(h RequestHandler, level int) RequestHandler
```

CompressHandlerLevel returns RequestHandler that transparently compresses response body generated by h if the request contains a 'gzip' or 'deflate' 'Accept\-Encoding' header.

Level is the desired compression level:

- CompressNoCompression
- CompressBestSpeed
- CompressBestCompression
- CompressDefaultCompression
- CompressHuffmanOnly

<a name="FSHandler"></a>
### func [FSHandler](<https://github.com/valyala/fasthttp/blob/master/fs.go#L413>)

```go
func FSHandler(root string, stripSlashes int) RequestHandler
```

FSHandler returns request handler serving static files from the given root folder.

stripSlashes indicates how many leading slashes must be stripped from requested path before searching requested file in the root folder. Examples:

- stripSlashes = 0, original path: "/foo/bar", result: "/foo/bar"
- stripSlashes = 1, original path: "/foo/bar", result: "/bar"
- stripSlashes = 2, original path: "/foo/bar", result: ""

The returned request handler automatically generates index pages for directories without index.html.

The returned handler caches requested file handles for FSHandlerCacheDuration. Make sure your program has enough 'max open files' limit aka 'ulimit \-n' if root folder contains many files.

Do not create multiple request handler instances for the same \(root, stripSlashes\) arguments \- just reuse a single instance. Otherwise goroutine leak will occur.

<details><summary>Example</summary>
<p>



```go
package main

import (
	"bytes"
	"log"

	"github.com/valyala/fasthttp"
)

// Setup file handlers (aka 'file server config').
var (
	// Handler for serving images from /img/ path,
	// i.e. /img/foo/bar.jpg will be served from
	// /var/www/images/foo/bar.jpb .
	imgPrefix  = []byte("/img/")
	imgHandler = fasthttp.FSHandler("/var/www/images", 1)

	// Handler for serving css from /static/css/ path,
	// i.e. /static/css/foo/bar.css will be served from
	// /home/dev/css/foo/bar.css .
	cssPrefix  = []byte("/static/css/")
	cssHandler = fasthttp.FSHandler("/home/dev/css", 2)

	// Handler for serving the rest of requests,
	// i.e. /foo/bar/baz.html will be served from
	// /var/www/files/foo/bar/baz.html .
	filesHandler = fasthttp.FSHandler("/var/www/files", 0)
)

// Main request handler.
func requestHandler(ctx *fasthttp.RequestCtx) {
	path := ctx.Path()
	switch {
	case bytes.HasPrefix(path, imgPrefix):
		imgHandler(ctx)
	case bytes.HasPrefix(path, cssPrefix):
		cssHandler(ctx)
	default:
		filesHandler(ctx)
	}
}

func main() {
	if err := fasthttp.ListenAndServe(":80", requestHandler); err != nil {
		log.Fatalf("Error in server: %v", err)
	}
}
```

</p>
</details>

<a name="TimeoutHandler"></a>
### func [TimeoutHandler](<https://github.com/valyala/fasthttp/blob/master/server.go#L448>)

```go
func TimeoutHandler(h RequestHandler, timeout time.Duration, msg string) RequestHandler
```

TimeoutHandler creates RequestHandler, which returns StatusRequestTimeout error with the given msg to the client if h didn't return during the given duration.

The returned handler may return StatusTooManyRequests error with the given msg to the client if there are more than Server.Concurrency concurrent handlers h are running at the moment.

<a name="TimeoutWithCodeHandler"></a>
### func [TimeoutWithCodeHandler](<https://github.com/valyala/fasthttp/blob/master/server.go#L459>)

```go
func TimeoutWithCodeHandler(h RequestHandler, timeout time.Duration, msg string, statusCode int) RequestHandler
```

TimeoutWithCodeHandler creates RequestHandler, which returns an error with the given msg and status code to the client if h didn't return during the given duration.

The returned handler may return StatusTooManyRequests error with the given msg to the client if there are more than Server.Concurrency concurrent handlers h are running at the moment.

<a name="RequestHeader"></a>
## type [RequestHeader](<https://github.com/valyala/fasthttp/blob/master/header.go#L63-L100>)

RequestHeader represents HTTP request header.

It is forbidden copying RequestHeader instances. Create new instances instead and use CopyTo.

RequestHeader instance MUST NOT be used from concurrently running goroutines.

```go
type RequestHeader struct {
    // contains filtered or unexported fields
}
```

<a name="RequestHeader.Add"></a>
### func \(\*RequestHeader\) [Add](<https://github.com/valyala/fasthttp/blob/master/header.go#L1768>)

```go
func (h *RequestHeader) Add(key, value string)
```

Add adds the given 'key: value' header.

Multiple headers with the same key may be added with this function. Use Set for setting a single header for the given key.

If the header is set as a Trailer \(forbidden trailers will not be set, see AddTrailer for more details\), it will be sent after the chunked request body.

<a name="RequestHeader.AddBytesK"></a>
### func \(\*RequestHeader\) [AddBytesK](<https://github.com/valyala/fasthttp/blob/master/header.go#L1779>)

```go
func (h *RequestHeader) AddBytesK(key []byte, value string)
```

AddBytesK adds the given 'key: value' header.

Multiple headers with the same key may be added with this function. Use SetBytesK for setting a single header for the given key.

If the header is set as a Trailer \(forbidden trailers will not be set, see AddTrailer for more details\), it will be sent after the chunked request body.

<a name="RequestHeader.AddBytesKV"></a>
### func \(\*RequestHeader\) [AddBytesKV](<https://github.com/valyala/fasthttp/blob/master/header.go#L1805>)

```go
func (h *RequestHeader) AddBytesKV(key, value []byte)
```

AddBytesKV adds the given 'key: value' header.

Multiple headers with the same key may be added with this function. Use SetBytesKV for setting a single header for the given key.

the Content\-Type, Content\-Length, Connection, Transfer\-Encoding, Host and User\-Agent headers can only be set once and will overwrite the previous value, while the Cookie header will not clear previous cookies.

If the header is set as a Trailer \(forbidden trailers will not be set, see AddTrailer for more details\), it will be sent after the chunked request body.

<a name="RequestHeader.AddBytesV"></a>
### func \(\*RequestHeader\) [AddBytesV](<https://github.com/valyala/fasthttp/blob/master/header.go#L1790>)

```go
func (h *RequestHeader) AddBytesV(key string, value []byte)
```

AddBytesV adds the given 'key: value' header.

Multiple headers with the same key may be added with this function. Use SetBytesV for setting a single header for the given key.

If the header is set as a Trailer \(forbidden trailers will not be set, see AddTrailer for more details\), it will be sent after the chunked request body.

<a name="RequestHeader.AddTrailer"></a>
### func \(\*RequestHeader\) [AddTrailer](<https://github.com/valyala/fasthttp/blob/master/header.go#L857>)

```go
func (h *RequestHeader) AddTrailer(trailer string) error
```

AddTrailer add Trailer header value for chunked request to indicate which headers will be sent after the body.

Use Set to set the trailer header later.

Trailers are only supported with chunked transfer. Trailers allow the sender to include additional headers at the end of chunked messages.

The following trailers are forbidden: 1. necessary for message framing \(e.g., Transfer\-Encoding and Content\-Length\), 2. routing \(e.g., Host\), 3. request modifiers \(e.g., controls and conditionals in Section 5 of \[RFC7231\]\), 4. authentication \(e.g., see \[RFC7235\] and \[RFC6265\]\), 5. response control data \(e.g., see Section 7.1 of \[RFC7231\]\), 6. determining how to process the payload \(e.g., Content\-Encoding, Content\-Type, Content\-Range, and Trailer\)

Return ErrBadTrailer if contain any forbidden trailers.

<a name="RequestHeader.AddTrailerBytes"></a>
### func \(\*RequestHeader\) [AddTrailerBytes](<https://github.com/valyala/fasthttp/blob/master/header.go#L878>)

```go
func (h *RequestHeader) AddTrailerBytes(trailer []byte) error
```

AddTrailerBytes add Trailer header value for chunked request to indicate which headers will be sent after the body.

Use Set to set the trailer header later.

Trailers are only supported with chunked transfer. Trailers allow the sender to include additional headers at the end of chunked messages.

The following trailers are forbidden: 1. necessary for message framing \(e.g., Transfer\-Encoding and Content\-Length\), 2. routing \(e.g., Host\), 3. request modifiers \(e.g., controls and conditionals in Section 5 of \[RFC7231\]\), 4. authentication \(e.g., see \[RFC7235\] and \[RFC6265\]\), 5. response control data \(e.g., see Section 7.1 of \[RFC7231\]\), 6. determining how to process the payload \(e.g., Content\-Encoding, Content\-Type, Content\-Range, and Trailer\)

Return ErrBadTrailer if contain any forbidden trailers.

<a name="RequestHeader.AppendBytes"></a>
### func \(\*RequestHeader\) [AppendBytes](<https://github.com/valyala/fasthttp/blob/master/header.go#L2644>)

```go
func (h *RequestHeader) AppendBytes(dst []byte) []byte
```

AppendBytes appends request header representation to dst and returns the extended dst.

<a name="RequestHeader.ConnectionClose"></a>
### func \(\*RequestHeader\) [ConnectionClose](<https://github.com/valyala/fasthttp/blob/master/header.go#L201>)

```go
func (h *RequestHeader) ConnectionClose() bool
```

ConnectionClose returns true if 'Connection: close' header is set.

<a name="RequestHeader.ConnectionUpgrade"></a>
### func \(\*RequestHeader\) [ConnectionUpgrade](<https://github.com/valyala/fasthttp/blob/master/header.go#L224>)

```go
func (h *RequestHeader) ConnectionUpgrade() bool
```

ConnectionUpgrade returns true if 'Connection: Upgrade' header is set.

<a name="RequestHeader.ContentEncoding"></a>
### func \(\*RequestHeader\) [ContentEncoding](<https://github.com/valyala/fasthttp/blob/master/header.go#L396>)

```go
func (h *RequestHeader) ContentEncoding() []byte
```

ContentEncoding returns Content\-Encoding header value.

<a name="RequestHeader.ContentLength"></a>
### func \(\*RequestHeader\) [ContentLength](<https://github.com/valyala/fasthttp/blob/master/header.go#L282>)

```go
func (h *RequestHeader) ContentLength() int
```

ContentLength returns Content\-Length header value.

It may be negative: \-1 means Transfer\-Encoding: chunked.

<a name="RequestHeader.ContentType"></a>
### func \(\*RequestHeader\) [ContentType](<https://github.com/valyala/fasthttp/blob/master/header.go#L378>)

```go
func (h *RequestHeader) ContentType() []byte
```

ContentType returns Content\-Type header value.

<a name="RequestHeader.Cookie"></a>
### func \(\*RequestHeader\) [Cookie](<https://github.com/valyala/fasthttp/blob/master/header.go#L2121>)

```go
func (h *RequestHeader) Cookie(key string) []byte
```

Cookie returns cookie for the given key.

<a name="RequestHeader.CookieBytes"></a>
### func \(\*RequestHeader\) [CookieBytes](<https://github.com/valyala/fasthttp/blob/master/header.go#L2127>)

```go
func (h *RequestHeader) CookieBytes(key []byte) []byte
```

CookieBytes returns cookie for the given key.

<a name="RequestHeader.CopyTo"></a>
### func \(\*RequestHeader\) [CopyTo](<https://github.com/valyala/fasthttp/blob/master/header.go#L1183>)

```go
func (h *RequestHeader) CopyTo(dst *RequestHeader)
```

CopyTo copies all the headers to dst.

<a name="RequestHeader.Del"></a>
### func \(\*RequestHeader\) [Del](<https://github.com/valyala/fasthttp/blob/master/header.go#L1367>)

```go
func (h *RequestHeader) Del(key string)
```

Del deletes header with the given key.

<a name="RequestHeader.DelAllCookies"></a>
### func \(\*RequestHeader\) [DelAllCookies](<https://github.com/valyala/fasthttp/blob/master/header.go#L1756>)

```go
func (h *RequestHeader) DelAllCookies()
```

DelAllCookies removes all the cookies from request headers.

<a name="RequestHeader.DelBytes"></a>
### func \(\*RequestHeader\) [DelBytes](<https://github.com/valyala/fasthttp/blob/master/header.go#L1373>)

```go
func (h *RequestHeader) DelBytes(key []byte)
```

DelBytes deletes header with the given key.

<a name="RequestHeader.DelCookie"></a>
### func \(\*RequestHeader\) [DelCookie](<https://github.com/valyala/fasthttp/blob/master/header.go#L1740>)

```go
func (h *RequestHeader) DelCookie(key string)
```

DelCookie removes cookie under the given key.

<a name="RequestHeader.DelCookieBytes"></a>
### func \(\*RequestHeader\) [DelCookieBytes](<https://github.com/valyala/fasthttp/blob/master/header.go#L1746>)

```go
func (h *RequestHeader) DelCookieBytes(key []byte)
```

DelCookieBytes removes cookie under the given key.

<a name="RequestHeader.DisableNormalizing"></a>
### func \(\*RequestHeader\) [DisableNormalizing](<https://github.com/valyala/fasthttp/blob/master/header.go#L1038>)

```go
func (h *RequestHeader) DisableNormalizing()
```

DisableNormalizing disables header names' normalization.

By default all the header names are normalized by uppercasing the first letter and all the first letters following dashes, while lowercasing all the other letters. Examples:

- CONNECTION \-\> Connection
- conteNT\-tYPE \-\> Content\-Type
- foo\-bar\-baz \-\> Foo\-Bar\-Baz

Disable header names' normalization only if know what are you doing.

<a name="RequestHeader.DisableSpecialHeader"></a>
### func \(\*RequestHeader\) [DisableSpecialHeader](<https://github.com/valyala/fasthttp/blob/master/header.go#L1015>)

```go
func (h *RequestHeader) DisableSpecialHeader()
```

DisableSpecialHeader disables special header processing. fasthttp will not set any special headers for you, such as Host, Content\-Type, User\-Agent, etc. You must set everything yourself. If RequestHeader.Read\(\) is called, special headers will be ignored. This can be used to control case and order of special headers. This is generally not recommended.

<a name="RequestHeader.EnableNormalizing"></a>
### func \(\*RequestHeader\) [EnableNormalizing](<https://github.com/valyala/fasthttp/blob/master/header.go#L1054>)

```go
func (h *RequestHeader) EnableNormalizing()
```

EnableNormalizing enables header names' normalization.

Header names are normalized by uppercasing the first letter and all the first letters following dashes, while lowercasing all the other letters. Examples:

- CONNECTION \-\> Connection
- conteNT\-tYPE \-\> Content\-Type
- foo\-bar\-baz \-\> Foo\-Bar\-Baz

This is enabled by default unless disabled using DisableNormalizing\(\).

<a name="RequestHeader.EnableSpecialHeader"></a>
### func \(\*RequestHeader\) [EnableSpecialHeader](<https://github.com/valyala/fasthttp/blob/master/header.go#L1022>)

```go
func (h *RequestHeader) EnableSpecialHeader()
```

EnableSpecialHeader enables special header processing. fasthttp will send Host, Content\-Type, User\-Agent, etc headers for you. This is suggested and enabled by default.

<a name="RequestHeader.HasAcceptEncoding"></a>
### func \(\*RequestHeader\) [HasAcceptEncoding](<https://github.com/valyala/fasthttp/blob/master/header.go#L970>)

```go
func (h *RequestHeader) HasAcceptEncoding(acceptEncoding string) bool
```

HasAcceptEncoding returns true if the header contains the given Accept\-Encoding value.

<a name="RequestHeader.HasAcceptEncodingBytes"></a>
### func \(\*RequestHeader\) [HasAcceptEncodingBytes](<https://github.com/valyala/fasthttp/blob/master/header.go#L977>)

```go
func (h *RequestHeader) HasAcceptEncodingBytes(acceptEncoding []byte) bool
```

HasAcceptEncodingBytes returns true if the header contains the given Accept\-Encoding value.

<a name="RequestHeader.Header"></a>
### func \(\*RequestHeader\) [Header](<https://github.com/valyala/fasthttp/blob/master/header.go#L2595>)

```go
func (h *RequestHeader) Header() []byte
```

Header returns request header representation.

Headers that set as Trailer will not represent. Use TrailerHeader for trailers.

The returned value is valid until the request is released, either though ReleaseRequest or your request handler returning. Do not store references to returned value. Make copies instead.

<a name="RequestHeader.Host"></a>
### func \(\*RequestHeader\) [Host](<https://github.com/valyala/fasthttp/blob/master/header.go#L686>)

```go
func (h *RequestHeader) Host() []byte
```

Host returns Host header value.

<a name="RequestHeader.IsConnect"></a>
### func \(\*RequestHeader\) [IsConnect](<https://github.com/valyala/fasthttp/blob/master/header.go#L939>)

```go
func (h *RequestHeader) IsConnect() bool
```

IsConnect returns true if request method is CONNECT.

<a name="RequestHeader.IsDelete"></a>
### func \(\*RequestHeader\) [IsDelete](<https://github.com/valyala/fasthttp/blob/master/header.go#L934>)

```go
func (h *RequestHeader) IsDelete() bool
```

IsDelete returns true if request method is DELETE.

<a name="RequestHeader.IsGet"></a>
### func \(\*RequestHeader\) [IsGet](<https://github.com/valyala/fasthttp/blob/master/header.go#L914>)

```go
func (h *RequestHeader) IsGet() bool
```

IsGet returns true if request method is GET.

<a name="RequestHeader.IsHTTP11"></a>
### func \(\*RequestHeader\) [IsHTTP11](<https://github.com/valyala/fasthttp/blob/master/header.go#L959>)

```go
func (h *RequestHeader) IsHTTP11() bool
```

IsHTTP11 returns true if the request is HTTP/1.1.

<a name="RequestHeader.IsHead"></a>
### func \(\*RequestHeader\) [IsHead](<https://github.com/valyala/fasthttp/blob/master/header.go#L929>)

```go
func (h *RequestHeader) IsHead() bool
```

IsHead returns true if request method is HEAD.

<a name="RequestHeader.IsOptions"></a>
### func \(\*RequestHeader\) [IsOptions](<https://github.com/valyala/fasthttp/blob/master/header.go#L944>)

```go
func (h *RequestHeader) IsOptions() bool
```

IsOptions returns true if request method is OPTIONS.

<a name="RequestHeader.IsPatch"></a>
### func \(\*RequestHeader\) [IsPatch](<https://github.com/valyala/fasthttp/blob/master/header.go#L954>)

```go
func (h *RequestHeader) IsPatch() bool
```

IsPatch returns true if request method is PATCH.

<a name="RequestHeader.IsPost"></a>
### func \(\*RequestHeader\) [IsPost](<https://github.com/valyala/fasthttp/blob/master/header.go#L919>)

```go
func (h *RequestHeader) IsPost() bool
```

IsPost returns true if request method is POST.

<a name="RequestHeader.IsPut"></a>
### func \(\*RequestHeader\) [IsPut](<https://github.com/valyala/fasthttp/blob/master/header.go#L924>)

```go
func (h *RequestHeader) IsPut() bool
```

IsPut returns true if request method is PUT.

<a name="RequestHeader.IsTrace"></a>
### func \(\*RequestHeader\) [IsTrace](<https://github.com/valyala/fasthttp/blob/master/header.go#L949>)

```go
func (h *RequestHeader) IsTrace() bool
```

IsTrace returns true if request method is TRACE.

<a name="RequestHeader.Len"></a>
### func \(\*RequestHeader\) [Len](<https://github.com/valyala/fasthttp/blob/master/header.go#L1003>)

```go
func (h *RequestHeader) Len() int
```

Len returns the number of headers set, i.e. the number of times f is called in VisitAll.

<a name="RequestHeader.Method"></a>
### func \(\*RequestHeader\) [Method](<https://github.com/valyala/fasthttp/blob/master/header.go#L737>)

```go
func (h *RequestHeader) Method() []byte
```

Method returns HTTP request method.

<a name="RequestHeader.MultipartFormBoundary"></a>
### func \(\*RequestHeader\) [MultipartFormBoundary](<https://github.com/valyala/fasthttp/blob/master/header.go#L645>)

```go
func (h *RequestHeader) MultipartFormBoundary() []byte
```

MultipartFormBoundary returns boundary part from 'multipart/form\-data; boundary=...' Content\-Type.

<a name="RequestHeader.Peek"></a>
### func \(\*RequestHeader\) [Peek](<https://github.com/valyala/fasthttp/blob/master/header.go#L1912>)

```go
func (h *RequestHeader) Peek(key string) []byte
```

Peek returns header value for the given key.

The returned value is valid until the request is released, either though ReleaseRequest or your request handler returning. Do not store references to returned value. Make copies instead.

<a name="RequestHeader.PeekAll"></a>
### func \(\*RequestHeader\) [PeekAll](<https://github.com/valyala/fasthttp/blob/master/header.go#L1985>)

```go
func (h *RequestHeader) PeekAll(key string) [][]byte
```

PeekAll returns all header value for the given key.

The returned value is valid until the request is released, either though ReleaseRequest or your request handler returning. Any future calls to the Peek\* will modify the returned value. Do not store references to returned value. Make copies instead.

<a name="RequestHeader.PeekBytes"></a>
### func \(\*RequestHeader\) [PeekBytes](<https://github.com/valyala/fasthttp/blob/master/header.go#L1922>)

```go
func (h *RequestHeader) PeekBytes(key []byte) []byte
```

PeekBytes returns header value for the given key.

The returned value is valid until the request is released, either though ReleaseRequest or your request handler returning. Do not store references to returned value. Make copies instead.

<a name="RequestHeader.PeekKeys"></a>
### func \(\*RequestHeader\) [PeekKeys](<https://github.com/valyala/fasthttp/blob/master/header.go#L2077>)

```go
func (h *RequestHeader) PeekKeys() [][]byte
```

PeekKeys return all header keys.

The returned value is valid until the request is released, either though ReleaseRequest or your request handler returning. Any future calls to the Peek\* will modify the returned value. Do not store references to returned value. Make copies instead.

<a name="RequestHeader.PeekTrailerKeys"></a>
### func \(\*RequestHeader\) [PeekTrailerKeys](<https://github.com/valyala/fasthttp/blob/master/header.go#L2089>)

```go
func (h *RequestHeader) PeekTrailerKeys() [][]byte
```

PeekTrailerKeys return all trailer keys.

The returned value is valid until the request is released, either though ReleaseRequest or your request handler returning. Any future calls to the Peek\* will modify the returned value. Do not store references to returned value. Make copies instead.

<a name="RequestHeader.Protocol"></a>
### func \(\*RequestHeader\) [Protocol](<https://github.com/valyala/fasthttp/blob/master/header.go#L755>)

```go
func (h *RequestHeader) Protocol() []byte
```

Protocol returns HTTP protocol.

<a name="RequestHeader.RawHeaders"></a>
### func \(\*RequestHeader\) [RawHeaders](<https://github.com/valyala/fasthttp/blob/master/header.go#L2633>)

```go
func (h *RequestHeader) RawHeaders() []byte
```

RawHeaders returns raw header key/value bytes.

Depending on server configuration, header keys may be normalized to capital\-case in place.

This copy is set aside during parsing, so empty slice is returned for all cases where parsing did not happen. Similarly, request line is not stored during parsing and can not be returned.

The slice is not safe to use after the handler returns.

<a name="RequestHeader.Read"></a>
### func \(\*RequestHeader\) [Read](<https://github.com/valyala/fasthttp/blob/master/header.go#L2285>)

```go
func (h *RequestHeader) Read(r *bufio.Reader) error
```

Read reads request header from r.

io.EOF is returned if r is closed before reading the first header byte.

<a name="RequestHeader.ReadTrailer"></a>
### func \(\*RequestHeader\) [ReadTrailer](<https://github.com/valyala/fasthttp/blob/master/header.go#L2310>)

```go
func (h *RequestHeader) ReadTrailer(r *bufio.Reader) error
```

ReadTrailer reads request trailer header from r.

io.EOF is returned if r is closed before reading the first byte.

<a name="RequestHeader.Referer"></a>
### func \(\*RequestHeader\) [Referer](<https://github.com/valyala/fasthttp/blob/master/header.go#L722>)

```go
func (h *RequestHeader) Referer() []byte
```

Referer returns Referer header value.

<a name="RequestHeader.RequestURI"></a>
### func \(\*RequestHeader\) [RequestURI](<https://github.com/valyala/fasthttp/blob/master/header.go#L775>)

```go
func (h *RequestHeader) RequestURI() []byte
```

RequestURI returns RequestURI from the first HTTP request line.

<a name="RequestHeader.Reset"></a>
### func \(\*RequestHeader\) [Reset](<https://github.com/valyala/fasthttp/blob/master/header.go#L1129>)

```go
func (h *RequestHeader) Reset()
```

Reset clears request header.

<a name="RequestHeader.ResetConnectionClose"></a>
### func \(\*RequestHeader\) [ResetConnectionClose](<https://github.com/valyala/fasthttp/blob/master/header.go#L211>)

```go
func (h *RequestHeader) ResetConnectionClose()
```

ResetConnectionClose clears 'Connection: close' header if it exists.

<a name="RequestHeader.Set"></a>
### func \(\*RequestHeader\) [Set](<https://github.com/valyala/fasthttp/blob/master/header.go#L1823>)

```go
func (h *RequestHeader) Set(key, value string)
```

Set sets the given 'key: value' header.

Please note that the Cookie header will not clear previous cookies, delete cookies before calling in order to reset cookies.

If the header is set as a Trailer \(forbidden trailers will not be set, see SetTrailer for more details\), it will be sent after the chunked request body.

Use Add for setting multiple header values under the same key.

<a name="RequestHeader.SetByteRange"></a>
### func \(\*RequestHeader\) [SetByteRange](<https://github.com/valyala/fasthttp/blob/master/header.go#L122>)

```go
func (h *RequestHeader) SetByteRange(startPos, endPos int)
```

SetByteRange sets 'Range: bytes=startPos\-endPos' header.

- If startPos is negative, then 'bytes=\-startPos' value is set.
- If endPos is negative, then 'bytes=startPos\-' value is set.

<a name="RequestHeader.SetBytesK"></a>
### func \(\*RequestHeader\) [SetBytesK](<https://github.com/valyala/fasthttp/blob/master/header.go#L1837>)

```go
func (h *RequestHeader) SetBytesK(key []byte, value string)
```

SetBytesK sets the given 'key: value' header.

Please note that the Cookie header will not clear previous cookies, delete cookies before calling in order to reset cookies.

If the header is set as a Trailer \(forbidden trailers will not be set, see SetTrailer for more details\), it will be sent after the chunked request body.

Use AddBytesK for setting multiple header values under the same key.

<a name="RequestHeader.SetBytesKV"></a>
### func \(\*RequestHeader\) [SetBytesKV](<https://github.com/valyala/fasthttp/blob/master/header.go#L1865>)

```go
func (h *RequestHeader) SetBytesKV(key, value []byte)
```

SetBytesKV sets the given 'key: value' header.

Please note that the Cookie header will not clear previous cookies, delete cookies before calling in order to reset cookies.

If the header is set as a Trailer \(forbidden trailers will not be set, see SetTrailer for more details\), it will be sent after the chunked request body.

Use AddBytesKV for setting multiple header values under the same key.

<a name="RequestHeader.SetBytesV"></a>
### func \(\*RequestHeader\) [SetBytesV](<https://github.com/valyala/fasthttp/blob/master/header.go#L1851>)

```go
func (h *RequestHeader) SetBytesV(key string, value []byte)
```

SetBytesV sets the given 'key: value' header.

Please note that the Cookie header will not clear previous cookies, delete cookies before calling in order to reset cookies.

If the header is set as a Trailer \(forbidden trailers will not be set, see SetTrailer for more details\), it will be sent after the chunked request body.

Use AddBytesV for setting multiple header values under the same key.

<a name="RequestHeader.SetCanonical"></a>
### func \(\*RequestHeader\) [SetCanonical](<https://github.com/valyala/fasthttp/blob/master/header.go#L1879>)

```go
func (h *RequestHeader) SetCanonical(key, value []byte)
```

SetCanonical sets the given 'key: value' header assuming that key is in canonical form.

Please note that the Cookie header will not clear previous cookies, delete cookies before calling in order to reset cookies.

If the header is set as a Trailer \(forbidden trailers will not be set, see SetTrailer for more details\), it will be sent after the chunked request body.

<a name="RequestHeader.SetConnectionClose"></a>
### func \(\*RequestHeader\) [SetConnectionClose](<https://github.com/valyala/fasthttp/blob/master/header.go#L206>)

```go
func (h *RequestHeader) SetConnectionClose()
```

SetConnectionClose sets 'Connection: close' header.

<a name="RequestHeader.SetContentEncoding"></a>
### func \(\*RequestHeader\) [SetContentEncoding](<https://github.com/valyala/fasthttp/blob/master/header.go#L401>)

```go
func (h *RequestHeader) SetContentEncoding(contentEncoding string)
```

SetContentEncoding sets Content\-Encoding header value.

<a name="RequestHeader.SetContentEncodingBytes"></a>
### func \(\*RequestHeader\) [SetContentEncodingBytes](<https://github.com/valyala/fasthttp/blob/master/header.go#L406>)

```go
func (h *RequestHeader) SetContentEncodingBytes(contentEncoding []byte)
```

SetContentEncodingBytes sets Content\-Encoding header value.

<a name="RequestHeader.SetContentLength"></a>
### func \(\*RequestHeader\) [SetContentLength](<https://github.com/valyala/fasthttp/blob/master/header.go#L295>)

```go
func (h *RequestHeader) SetContentLength(contentLength int)
```

SetContentLength sets Content\-Length header value.

Negative content\-length sets 'Transfer\-Encoding: chunked' header.

<a name="RequestHeader.SetContentType"></a>
### func \(\*RequestHeader\) [SetContentType](<https://github.com/valyala/fasthttp/blob/master/header.go#L386>)

```go
func (h *RequestHeader) SetContentType(contentType string)
```

SetContentType sets Content\-Type header value.

<a name="RequestHeader.SetContentTypeBytes"></a>
### func \(\*RequestHeader\) [SetContentTypeBytes](<https://github.com/valyala/fasthttp/blob/master/header.go#L391>)

```go
func (h *RequestHeader) SetContentTypeBytes(contentType []byte)
```

SetContentTypeBytes sets Content\-Type header value.

<a name="RequestHeader.SetCookie"></a>
### func \(\*RequestHeader\) [SetCookie](<https://github.com/valyala/fasthttp/blob/master/header.go#L1668>)

```go
func (h *RequestHeader) SetCookie(key, value string)
```

SetCookie sets 'key: value' cookies.

<a name="RequestHeader.SetCookieBytesK"></a>
### func \(\*RequestHeader\) [SetCookieBytesK](<https://github.com/valyala/fasthttp/blob/master/header.go#L1674>)

```go
func (h *RequestHeader) SetCookieBytesK(key []byte, value string)
```

SetCookieBytesK sets 'key: value' cookies.

<a name="RequestHeader.SetCookieBytesKV"></a>
### func \(\*RequestHeader\) [SetCookieBytesKV](<https://github.com/valyala/fasthttp/blob/master/header.go#L1679>)

```go
func (h *RequestHeader) SetCookieBytesKV(key, value []byte)
```

SetCookieBytesKV sets 'key: value' cookies.

<a name="RequestHeader.SetHost"></a>
### func \(\*RequestHeader\) [SetHost](<https://github.com/valyala/fasthttp/blob/master/header.go#L694>)

```go
func (h *RequestHeader) SetHost(host string)
```

SetHost sets Host header value.

<a name="RequestHeader.SetHostBytes"></a>
### func \(\*RequestHeader\) [SetHostBytes](<https://github.com/valyala/fasthttp/blob/master/header.go#L699>)

```go
func (h *RequestHeader) SetHostBytes(host []byte)
```

SetHostBytes sets Host header value.

<a name="RequestHeader.SetMethod"></a>
### func \(\*RequestHeader\) [SetMethod](<https://github.com/valyala/fasthttp/blob/master/header.go#L745>)

```go
func (h *RequestHeader) SetMethod(method string)
```

SetMethod sets HTTP request method.

<a name="RequestHeader.SetMethodBytes"></a>
### func \(\*RequestHeader\) [SetMethodBytes](<https://github.com/valyala/fasthttp/blob/master/header.go#L750>)

```go
func (h *RequestHeader) SetMethodBytes(method []byte)
```

SetMethodBytes sets HTTP request method.

<a name="RequestHeader.SetMultipartFormBoundary"></a>
### func \(\*RequestHeader\) [SetMultipartFormBoundary](<https://github.com/valyala/fasthttp/blob/master/header.go#L413>)

```go
func (h *RequestHeader) SetMultipartFormBoundary(boundary string)
```

SetMultipartFormBoundary sets the following Content\-Type: 'multipart/form\-data; boundary=...' where ... is substituted by the given boundary.

<a name="RequestHeader.SetMultipartFormBoundaryBytes"></a>
### func \(\*RequestHeader\) [SetMultipartFormBoundaryBytes](<https://github.com/valyala/fasthttp/blob/master/header.go#L428>)

```go
func (h *RequestHeader) SetMultipartFormBoundaryBytes(boundary []byte)
```

SetMultipartFormBoundaryBytes sets the following Content\-Type: 'multipart/form\-data; boundary=...' where ... is substituted by the given boundary.

<a name="RequestHeader.SetNoDefaultContentType"></a>
### func \(\*RequestHeader\) [SetNoDefaultContentType](<https://github.com/valyala/fasthttp/blob/master/header.go#L1124>)

```go
func (h *RequestHeader) SetNoDefaultContentType(noDefaultContentType bool)
```

SetNoDefaultContentType allows you to control if a default Content\-Type header will be set \(false\) or not \(true\).

<a name="RequestHeader.SetProtocol"></a>
### func \(\*RequestHeader\) [SetProtocol](<https://github.com/valyala/fasthttp/blob/master/header.go#L763>)

```go
func (h *RequestHeader) SetProtocol(method string)
```

SetProtocol sets HTTP request protocol.

<a name="RequestHeader.SetProtocolBytes"></a>
### func \(\*RequestHeader\) [SetProtocolBytes](<https://github.com/valyala/fasthttp/blob/master/header.go#L769>)

```go
func (h *RequestHeader) SetProtocolBytes(method []byte)
```

SetProtocolBytes sets HTTP request protocol.

<a name="RequestHeader.SetReferer"></a>
### func \(\*RequestHeader\) [SetReferer](<https://github.com/valyala/fasthttp/blob/master/header.go#L727>)

```go
func (h *RequestHeader) SetReferer(referer string)
```

SetReferer sets Referer header value.

<a name="RequestHeader.SetRefererBytes"></a>
### func \(\*RequestHeader\) [SetRefererBytes](<https://github.com/valyala/fasthttp/blob/master/header.go#L732>)

```go
func (h *RequestHeader) SetRefererBytes(referer []byte)
```

SetRefererBytes sets Referer header value.

<a name="RequestHeader.SetRequestURI"></a>
### func \(\*RequestHeader\) [SetRequestURI](<https://github.com/valyala/fasthttp/blob/master/header.go#L786>)

```go
func (h *RequestHeader) SetRequestURI(requestURI string)
```

SetRequestURI sets RequestURI for the first HTTP request line. RequestURI must be properly encoded. Use URI.RequestURI for constructing proper RequestURI if unsure.

<a name="RequestHeader.SetRequestURIBytes"></a>
### func \(\*RequestHeader\) [SetRequestURIBytes](<https://github.com/valyala/fasthttp/blob/master/header.go#L793>)

```go
func (h *RequestHeader) SetRequestURIBytes(requestURI []byte)
```

SetRequestURIBytes sets RequestURI for the first HTTP request line. RequestURI must be properly encoded. Use URI.RequestURI for constructing proper RequestURI if unsure.

<a name="RequestHeader.SetTrailer"></a>
### func \(\*RequestHeader\) [SetTrailer](<https://github.com/valyala/fasthttp/blob/master/header.go#L814>)

```go
func (h *RequestHeader) SetTrailer(trailer string) error
```

SetTrailer sets Trailer header value for chunked request to indicate which headers will be sent after the body.

Use Set to set the trailer header later.

Trailers are only supported with chunked transfer. Trailers allow the sender to include additional headers at the end of chunked messages.

The following trailers are forbidden: 1. necessary for message framing \(e.g., Transfer\-Encoding and Content\-Length\), 2. routing \(e.g., Host\), 3. request modifiers \(e.g., controls and conditionals in Section 5 of \[RFC7231\]\), 4. authentication \(e.g., see \[RFC7235\] and \[RFC6265\]\), 5. response control data \(e.g., see Section 7.1 of \[RFC7231\]\), 6. determining how to process the payload \(e.g., Content\-Encoding, Content\-Type, Content\-Range, and Trailer\)

Return ErrBadTrailer if contain any forbidden trailers.

<a name="RequestHeader.SetTrailerBytes"></a>
### func \(\*RequestHeader\) [SetTrailerBytes](<https://github.com/valyala/fasthttp/blob/master/header.go#L835>)

```go
func (h *RequestHeader) SetTrailerBytes(trailer []byte) error
```

SetTrailerBytes sets Trailer header value for chunked request to indicate which headers will be sent after the body.

Use Set to set the trailer header later.

Trailers are only supported with chunked transfer. Trailers allow the sender to include additional headers at the end of chunked messages.

The following trailers are forbidden: 1. necessary for message framing \(e.g., Transfer\-Encoding and Content\-Length\), 2. routing \(e.g., Host\), 3. request modifiers \(e.g., controls and conditionals in Section 5 of \[RFC7231\]\), 4. authentication \(e.g., see \[RFC7235\] and \[RFC6265\]\), 5. response control data \(e.g., see Section 7.1 of \[RFC7231\]\), 6. determining how to process the payload \(e.g., Content\-Encoding, Content\-Type, Content\-Range, and Trailer\)

Return ErrBadTrailer if contain any forbidden trailers.

<a name="RequestHeader.SetUserAgent"></a>
### func \(\*RequestHeader\) [SetUserAgent](<https://github.com/valyala/fasthttp/blob/master/header.go#L712>)

```go
func (h *RequestHeader) SetUserAgent(userAgent string)
```

SetUserAgent sets User\-Agent header value.

<a name="RequestHeader.SetUserAgentBytes"></a>
### func \(\*RequestHeader\) [SetUserAgentBytes](<https://github.com/valyala/fasthttp/blob/master/header.go#L717>)

```go
func (h *RequestHeader) SetUserAgentBytes(userAgent []byte)
```

SetUserAgentBytes sets User\-Agent header value.

<a name="RequestHeader.String"></a>
### func \(\*RequestHeader\) [String](<https://github.com/valyala/fasthttp/blob/master/header.go#L2638>)

```go
func (h *RequestHeader) String() string
```

String returns request header representation.

<a name="RequestHeader.TrailerHeader"></a>
### func \(\*RequestHeader\) [TrailerHeader](<https://github.com/valyala/fasthttp/blob/master/header.go#L2613>)

```go
func (h *RequestHeader) TrailerHeader() []byte
```

TrailerHeader returns request trailer header representation.

Trailers will only be received with chunked transfer.

The returned value is valid until the request is released, either though ReleaseRequest or your request handler returning. Do not store references to returned value. Make copies instead.

<a name="RequestHeader.UserAgent"></a>
### func \(\*RequestHeader\) [UserAgent](<https://github.com/valyala/fasthttp/blob/master/header.go#L704>)

```go
func (h *RequestHeader) UserAgent() []byte
```

UserAgent returns User\-Agent header value.

<a name="RequestHeader.VisitAll"></a>
### func \(\*RequestHeader\) [VisitAll](<https://github.com/valyala/fasthttp/blob/master/header.go#L1283>)

```go
func (h *RequestHeader) VisitAll(f func(key, value []byte))
```

VisitAll calls f for each header.

f must not retain references to key and/or value after returning. Copy key and/or value contents before returning if you need retaining them.

To get the headers in order they were received use VisitAllInOrder.

<a name="RequestHeader.VisitAllCookie"></a>
### func \(\*RequestHeader\) [VisitAllCookie](<https://github.com/valyala/fasthttp/blob/master/header.go#L1272>)

```go
func (h *RequestHeader) VisitAllCookie(f func(key, value []byte))
```

VisitAllCookie calls f for each request cookie.

f must not retain references to key and/or value after returning.

<a name="RequestHeader.VisitAllInOrder"></a>
### func \(\*RequestHeader\) [VisitAllInOrder](<https://github.com/valyala/fasthttp/blob/master/header.go#L1321>)

```go
func (h *RequestHeader) VisitAllInOrder(f func(key, value []byte))
```

VisitAllInOrder calls f for each header in the order they were received.

f must not retain references to key and/or value after returning. Copy key and/or value contents before returning if you need retaining them.

This function is slightly slower than VisitAll because it has to reparse the raw headers to get the order.

<a name="RequestHeader.VisitAllTrailer"></a>
### func \(\*RequestHeader\) [VisitAllTrailer](<https://github.com/valyala/fasthttp/blob/master/header.go#L1252>)

```go
func (h *RequestHeader) VisitAllTrailer(f func(value []byte))
```

VisitAllTrailer calls f for each request Trailer.

f must not retain references to value after returning.

<a name="RequestHeader.Write"></a>
### func \(\*RequestHeader\) [Write](<https://github.com/valyala/fasthttp/blob/master/header.go#L2575>)

```go
func (h *RequestHeader) Write(w *bufio.Writer) error
```

Write writes request header to w.

<a name="RequestHeader.WriteTo"></a>
### func \(\*RequestHeader\) [WriteTo](<https://github.com/valyala/fasthttp/blob/master/header.go#L2583>)

```go
func (h *RequestHeader) WriteTo(w io.Writer) (int64, error)
```

WriteTo writes request header to w.

WriteTo implements io.WriterTo interface.

<a name="Resolver"></a>
## type [Resolver](<https://github.com/valyala/fasthttp/blob/master/tcpdialer.go#L123-L125>)

Resolver represents interface of the tcp resolver.

```go
type Resolver interface {
    LookupIPAddr(context.Context, string) (names []net.IPAddr, err error)
}
```

<a name="Response"></a>
## type [Response](<https://github.com/valyala/fasthttp/blob/master/http.go#L91-L127>)

Response represents HTTP response.

It is forbidden copying Response instances. Create new instances and use CopyTo instead.

Response instance MUST NOT be used from concurrently running goroutines.

```go
type Response struct {

    // Response header.
    //
    // Copying Header by value is forbidden. Use pointer to Header instead.
    Header ResponseHeader

    // Flush headers as soon as possible without waiting for first body bytes.
    // Relevant for bodyStream only.
    ImmediateHeaderFlush bool

    // StreamBody enables response body streaming.
    // Use SetBodyStream to set the body stream.
    StreamBody bool

    // Response.Read() skips reading body if set to true.
    // Use it for reading HEAD responses.
    //
    // Response.Write() skips writing body if set to true.
    // Use it for writing HEAD responses.
    SkipBody bool
    // contains filtered or unexported fields
}
```

<a name="AcquireResponse"></a>
### func [AcquireResponse](<https://github.com/valyala/fasthttp/blob/master/client.go#L1235>)

```go
func AcquireResponse() *Response
```

AcquireResponse returns an empty Response instance from response pool.

The returned Response instance may be passed to ReleaseResponse when it is no longer needed. This allows Response recycling, reduces GC pressure and usually improves performance.

<a name="Response.AppendBody"></a>
### func \(\*Response\) [AppendBody](<https://github.com/valyala/fasthttp/blob/master/http.go#L650>)

```go
func (resp *Response) AppendBody(p []byte)
```

AppendBody appends p to response body.

It is safe re\-using p after the function returns.

<a name="Response.AppendBodyString"></a>
### func \(\*Response\) [AppendBodyString](<https://github.com/valyala/fasthttp/blob/master/http.go#L656>)

```go
func (resp *Response) AppendBodyString(s string)
```

AppendBodyString appends s to response body.

<a name="Response.Body"></a>
### func \(\*Response\) [Body](<https://github.com/valyala/fasthttp/blob/master/http.go#L411>)

```go
func (resp *Response) Body() []byte
```

Body returns response body.

The returned value is valid until the response is released, either though ReleaseResponse or your request handler returning. Do not store references to returned value. Make copies instead.

<a name="Response.BodyGunzip"></a>
### func \(\*Response\) [BodyGunzip](<https://github.com/valyala/fasthttp/blob/master/http.go#L488>)

```go
func (resp *Response) BodyGunzip() ([]byte, error)
```

BodyGunzip returns un\-gzipped body data.

This method may be used if the response header contains 'Content\-Encoding: gzip' for reading un\-gzipped body. Use Body for reading gzipped response body.

<a name="Response.BodyInflate"></a>
### func \(\*Response\) [BodyInflate](<https://github.com/valyala/fasthttp/blob/master/http.go#L542>)

```go
func (resp *Response) BodyInflate() ([]byte, error)
```

BodyInflate returns inflated body data.

This method may be used if the response header contains 'Content\-Encoding: deflate' for reading inflated response body. Use Body for reading deflated response body.

<a name="Response.BodyStream"></a>
### func \(\*Response\) [BodyStream](<https://github.com/valyala/fasthttp/blob/master/http.go#L333>)

```go
func (resp *Response) BodyStream() io.Reader
```

BodyStream returns io.Reader.

You must CloseBodyStream or ReleaseResponse after you use it.

<a name="Response.BodyUnbrotli"></a>
### func \(\*Response\) [BodyUnbrotli](<https://github.com/valyala/fasthttp/blob/master/http.go#L515>)

```go
func (resp *Response) BodyUnbrotli() ([]byte, error)
```

BodyUnbrotli returns un\-brotlied body data.

This method may be used if the response header contains 'Content\-Encoding: br' for reading un\-brotlied body. Use Body for reading brotlied response body.

<a name="Response.BodyUncompressed"></a>
### func \(\*Response\) [BodyUncompressed](<https://github.com/valyala/fasthttp/blob/master/http.go#L605>)

```go
func (resp *Response) BodyUncompressed() ([]byte, error)
```

BodyUncompressed returns body data and if needed decompress it from gzip, deflate or Brotli.

This method may be used if the response header contains 'Content\-Encoding' for reading uncompressed response body. Use Body for reading the raw response body.

<a name="Response.BodyUnzstd"></a>
### func \(\*Response\) [BodyUnzstd](<https://github.com/valyala/fasthttp/blob/master/http.go#L554>)

```go
func (resp *Response) BodyUnzstd() ([]byte, error)
```



<a name="Response.BodyWriteTo"></a>
### func \(\*Response\) [BodyWriteTo](<https://github.com/valyala/fasthttp/blob/master/http.go#L637>)

```go
func (resp *Response) BodyWriteTo(w io.Writer) error
```

BodyWriteTo writes response body to w.

<a name="Response.BodyWriter"></a>
### func \(\*Response\) [BodyWriter](<https://github.com/valyala/fasthttp/blob/master/http.go#L314>)

```go
func (resp *Response) BodyWriter() io.Writer
```

BodyWriter returns writer for populating response body.

If used inside RequestHandler, the returned writer must not be used after returning from RequestHandler. Use RequestCtx.Write or SetBodyStreamWriter in this case.

<a name="Response.CloseBodyStream"></a>
### func \(\*Response\) [CloseBodyStream](<https://github.com/valyala/fasthttp/blob/master/http.go#L337>)

```go
func (resp *Response) CloseBodyStream() error
```



<a name="Response.ConnectionClose"></a>
### func \(\*Response\) [ConnectionClose](<https://github.com/valyala/fasthttp/blob/master/http.go#L176>)

```go
func (resp *Response) ConnectionClose() bool
```

ConnectionClose returns true if 'Connection: close' header is set.

<a name="Response.CopyTo"></a>
### func \(\*Response\) [CopyTo](<https://github.com/valyala/fasthttp/blob/master/http.go#L894>)

```go
func (resp *Response) CopyTo(dst *Response)
```

CopyTo copies resp contents to dst except of body stream.

<a name="Response.IsBodyStream"></a>
### func \(\*Response\) [IsBodyStream](<https://github.com/valyala/fasthttp/blob/master/http.go#L273>)

```go
func (resp *Response) IsBodyStream() bool
```

IsBodyStream returns true if body is set via SetBodyStream\*.

<a name="Response.LocalAddr"></a>
### func \(\*Response\) [LocalAddr](<https://github.com/valyala/fasthttp/blob/master/http.go#L402>)

```go
func (resp *Response) LocalAddr() net.Addr
```

LocalAddr returns the local network address. The Addr returned is shared by all invocations of LocalAddr, so do not modify it.

<a name="Response.ParseNetConn"></a>
### func \(\*Response\) [ParseNetConn](<https://github.com/valyala/fasthttp/blob/master/http.go#L389>)

```go
func (resp *Response) ParseNetConn(conn net.Conn)
```



<a name="Response.Read"></a>
### func \(\*Response\) [Read](<https://github.com/valyala/fasthttp/blob/master/http.go#L1423>)

```go
func (resp *Response) Read(r *bufio.Reader) error
```

Read reads response \(including body\) from the given r.

io.EOF is returned if r is closed before reading the first header byte.

<a name="Response.ReadBody"></a>
### func \(\*Response\) [ReadBody](<https://github.com/valyala/fasthttp/blob/master/http.go#L1470>)

```go
func (resp *Response) ReadBody(r *bufio.Reader, maxBodySize int) (err error)
```

ReadBody reads response body from the given r, limiting the body size.

If maxBodySize \> 0 and the body size exceeds maxBodySize, then ErrBodyTooLarge is returned.

<a name="Response.ReadLimitBody"></a>
### func \(\*Response\) [ReadLimitBody](<https://github.com/valyala/fasthttp/blob/master/http.go#L1436>)

```go
func (resp *Response) ReadLimitBody(r *bufio.Reader, maxBodySize int) error
```

ReadLimitBody reads response headers from the given r, then reads the body using the ReadBody function and limiting the body size.

If resp.SkipBody is true then it skips reading the response body.

If maxBodySize \> 0 and the body size exceeds maxBodySize, then ErrBodyTooLarge is returned.

io.EOF is returned if r is closed before reading the first header byte.

<a name="Response.ReleaseBody"></a>
### func \(\*Response\) [ReleaseBody](<https://github.com/valyala/fasthttp/blob/master/http.go#L716>)

```go
func (resp *Response) ReleaseBody(size int)
```

ReleaseBody retires the response body if it is greater than "size" bytes.

This permits GC to reclaim the large buffer. If used, must be before ReleaseResponse.

Use this method only if you really understand how it works. The majority of workloads don't need this method.

<a name="Response.RemoteAddr"></a>
### func \(\*Response\) [RemoteAddr](<https://github.com/valyala/fasthttp/blob/master/http.go#L396>)

```go
func (resp *Response) RemoteAddr() net.Addr
```

RemoteAddr returns the remote network address. The Addr returned is shared by all invocations of RemoteAddr, so do not modify it.

<a name="Response.Reset"></a>
### func \(\*Response\) [Reset](<https://github.com/valyala/fasthttp/blob/master/http.go#L1154>)

```go
func (resp *Response) Reset()
```

Reset clears response contents.

<a name="Response.ResetBody"></a>
### func \(\*Response\) [ResetBody](<https://github.com/valyala/fasthttp/blob/master/http.go#L680>)

```go
func (resp *Response) ResetBody()
```

ResetBody resets response body.

<a name="Response.SendFile"></a>
### func \(\*Response\) [SendFile](<https://github.com/valyala/fasthttp/blob/master/http.go#L210>)

```go
func (resp *Response) SendFile(path string) error
```

SendFile registers file on the given path to be used as response body when Write is called.

Note that SendFile doesn't set Content\-Type, so set it yourself with Header.SetContentType.

<a name="Response.SetBody"></a>
### func \(\*Response\) [SetBody](<https://github.com/valyala/fasthttp/blob/master/http.go#L664>)

```go
func (resp *Response) SetBody(body []byte)
```

SetBody sets response body.

It is safe re\-using body argument after the function returns.

<a name="Response.SetBodyRaw"></a>
### func \(\*Response\) [SetBodyRaw](<https://github.com/valyala/fasthttp/blob/master/http.go#L696>)

```go
func (resp *Response) SetBodyRaw(body []byte)
```

SetBodyRaw sets response body, but without copying it.

From this point onward the body argument must not be changed.

<a name="Response.SetBodyStream"></a>
### func \(\*Response\) [SetBodyStream](<https://github.com/valyala/fasthttp/blob/master/http.go#L261>)

```go
func (resp *Response) SetBodyStream(bodyStream io.Reader, bodySize int)
```

SetBodyStream sets response body stream and, optionally body size.

If bodySize is \>= 0, then the bodyStream must provide exactly bodySize bytes before returning io.EOF.

If bodySize \< 0, then bodyStream is read until io.EOF.

bodyStream.Close\(\) is called after finishing reading all body data if it implements io.Closer.

See also SetBodyStreamWriter.

<a name="Response.SetBodyStreamWriter"></a>
### func \(\*Response\) [SetBodyStreamWriter](<https://github.com/valyala/fasthttp/blob/master/http.go#L304>)

```go
func (resp *Response) SetBodyStreamWriter(sw StreamWriter)
```

SetBodyStreamWriter registers the given sw for populating response body.

This function may be used in the following cases:

- if response body is too big \(more than 10MB\).
- if response body is streamed from slow external sources.
- if response body must be streamed to the client in chunks \(aka \`http server push\` or \`chunked transfer\-encoding\`\).

See also SetBodyStream.

<a name="Response.SetBodyString"></a>
### func \(\*Response\) [SetBodyString](<https://github.com/valyala/fasthttp/blob/master/http.go#L672>)

```go
func (resp *Response) SetBodyString(body string)
```

SetBodyString sets response body.

<a name="Response.SetConnectionClose"></a>
### func \(\*Response\) [SetConnectionClose](<https://github.com/valyala/fasthttp/blob/master/http.go#L181>)

```go
func (resp *Response) SetConnectionClose()
```

SetConnectionClose sets 'Connection: close' header.

<a name="Response.SetStatusCode"></a>
### func \(\*Response\) [SetStatusCode](<https://github.com/valyala/fasthttp/blob/master/http.go#L171>)

```go
func (resp *Response) SetStatusCode(statusCode int)
```

SetStatusCode sets response status code.

<a name="Response.StatusCode"></a>
### func \(\*Response\) [StatusCode](<https://github.com/valyala/fasthttp/blob/master/http.go#L166>)

```go
func (resp *Response) StatusCode() int
```

StatusCode returns response status code.

<a name="Response.String"></a>
### func \(\*Response\) [String](<https://github.com/valyala/fasthttp/blob/master/http.go#L2135>)

```go
func (resp *Response) String() string
```

String returns response representation.

Returns error message instead of response representation on error.

Use Write instead of String for performance\-critical code.

<a name="Response.SwapBody"></a>
### func \(\*Response\) [SwapBody](<https://github.com/valyala/fasthttp/blob/master/http.go#L750>)

```go
func (resp *Response) SwapBody(body []byte) []byte
```

SwapBody swaps response body with the given body and returns the previous response body.

It is forbidden to use the body passed to SwapBody after the function returns.

<a name="Response.Write"></a>
### func \(\*Response\) [Write](<https://github.com/valyala/fasthttp/blob/master/http.go#L1971>)

```go
func (resp *Response) Write(w *bufio.Writer) error
```

Write writes response to w.

Write doesn't flush response to w for performance reasons.

See also WriteTo.

<a name="Response.WriteDeflate"></a>
### func \(\*Response\) [WriteDeflate](<https://github.com/valyala/fasthttp/blob/master/http.go#L1691>)

```go
func (resp *Response) WriteDeflate(w *bufio.Writer) error
```

WriteDeflate writes response with deflated body to w.

The method deflates response body and sets 'Content\-Encoding: deflate' header before writing response to w.

WriteDeflate doesn't flush response to w for performance reasons.

<a name="Response.WriteDeflateLevel"></a>
### func \(\*Response\) [WriteDeflateLevel](<https://github.com/valyala/fasthttp/blob/master/http.go#L1709>)

```go
func (resp *Response) WriteDeflateLevel(w *bufio.Writer, level int) error
```

WriteDeflateLevel writes response with deflated body to w.

Level is the desired compression level:

- CompressNoCompression
- CompressBestSpeed
- CompressBestCompression
- CompressDefaultCompression
- CompressHuffmanOnly

The method deflates response body and sets 'Content\-Encoding: deflate' header before writing response to w.

WriteDeflateLevel doesn't flush response to w for performance reasons.

<a name="Response.WriteGzip"></a>
### func \(\*Response\) [WriteGzip](<https://github.com/valyala/fasthttp/blob/master/http.go#L1662>)

```go
func (resp *Response) WriteGzip(w *bufio.Writer) error
```

WriteGzip writes response with gzipped body to w.

The method gzips response body and sets 'Content\-Encoding: gzip' header before writing response to w.

WriteGzip doesn't flush response to w for performance reasons.

<a name="Response.WriteGzipLevel"></a>
### func \(\*Response\) [WriteGzipLevel](<https://github.com/valyala/fasthttp/blob/master/http.go#L1680>)

```go
func (resp *Response) WriteGzipLevel(w *bufio.Writer, level int) error
```

WriteGzipLevel writes response with gzipped body to w.

Level is the desired compression level:

- CompressNoCompression
- CompressBestSpeed
- CompressBestCompression
- CompressDefaultCompression
- CompressHuffmanOnly

The method gzips response body and sets 'Content\-Encoding: gzip' header before writing response to w.

WriteGzipLevel doesn't flush response to w for performance reasons.

<a name="Response.WriteTo"></a>
### func \(\*Response\) [WriteTo](<https://github.com/valyala/fasthttp/blob/master/http.go#L1510>)

```go
func (resp *Response) WriteTo(w io.Writer) (int64, error)
```

WriteTo writes response to w. It implements io.WriterTo.

<a name="ResponseHeader"></a>
## type [ResponseHeader](<https://github.com/valyala/fasthttp/blob/master/header.go#L26-L54>)

ResponseHeader represents HTTP response header.

It is forbidden copying ResponseHeader instances. Create new instances instead and use CopyTo.

ResponseHeader instance MUST NOT be used from concurrently running goroutines.

```go
type ResponseHeader struct {
    // contains filtered or unexported fields
}
```

<a name="ResponseHeader.Add"></a>
### func \(\*ResponseHeader\) [Add](<https://github.com/valyala/fasthttp/blob/master/header.go#L1534>)

```go
func (h *ResponseHeader) Add(key, value string)
```

Add adds the given 'key: value' header.

Multiple headers with the same key may be added with this function. Use Set for setting a single header for the given key.

the Content\-Type, Content\-Length, Connection, Server, Transfer\-Encoding and Date headers can only be set once and will overwrite the previous value, while Set\-Cookie will not clear previous cookies.

If the header is set as a Trailer \(forbidden trailers will not be set, see AddTrailer for more details\), it will be sent after the chunked response body.

<a name="ResponseHeader.AddBytesK"></a>
### func \(\*ResponseHeader\) [AddBytesK](<https://github.com/valyala/fasthttp/blob/master/header.go#L1549>)

```go
func (h *ResponseHeader) AddBytesK(key []byte, value string)
```

AddBytesK adds the given 'key: value' header.

Multiple headers with the same key may be added with this function. Use SetBytesK for setting a single header for the given key.

the Content\-Type, Content\-Length, Connection, Server, Transfer\-Encoding and Date headers can only be set once and will overwrite the previous value, while Set\-Cookie will not clear previous cookies.

If the header is set as a Trailer \(forbidden trailers will not be set, see AddTrailer for more details\), it will be sent after the chunked response body.

<a name="ResponseHeader.AddBytesKV"></a>
### func \(\*ResponseHeader\) [AddBytesKV](<https://github.com/valyala/fasthttp/blob/master/header.go#L1579>)

```go
func (h *ResponseHeader) AddBytesKV(key, value []byte)
```

AddBytesKV adds the given 'key: value' header.

Multiple headers with the same key may be added with this function. Use SetBytesKV for setting a single header for the given key.

the Content\-Type, Content\-Length, Connection, Server, Transfer\-Encoding and Date headers can only be set once and will overwrite the previous value, while the Set\-Cookie header will not clear previous cookies.

If the header is set as a Trailer \(forbidden trailers will not be set, see AddTrailer for more details\), it will be sent after the chunked response body.

<a name="ResponseHeader.AddBytesV"></a>
### func \(\*ResponseHeader\) [AddBytesV](<https://github.com/valyala/fasthttp/blob/master/header.go#L1564>)

```go
func (h *ResponseHeader) AddBytesV(key string, value []byte)
```

AddBytesV adds the given 'key: value' header.

Multiple headers with the same key may be added with this function. Use SetBytesV for setting a single header for the given key.

the Content\-Type, Content\-Length, Connection, Server, Transfer\-Encoding and Date headers can only be set once and will overwrite the previous value, while Set\-Cookie will not clear previous cookies.

If the header is set as a Trailer \(forbidden trailers will not be set, see AddTrailer for more details\), it will be sent after the chunked response body.

<a name="ResponseHeader.AddTrailer"></a>
### func \(\*ResponseHeader\) [AddTrailer](<https://github.com/valyala/fasthttp/blob/master/header.go#L500>)

```go
func (h *ResponseHeader) AddTrailer(trailer string) error
```

AddTrailer add Trailer header value for chunked response to indicate which headers will be sent after the body.

Use Set to set the trailer header later.

Trailers are only supported with chunked transfer. Trailers allow the sender to include additional headers at the end of chunked messages.

The following trailers are forbidden: 1. necessary for message framing \(e.g., Transfer\-Encoding and Content\-Length\), 2. routing \(e.g., Host\), 3. request modifiers \(e.g., controls and conditionals in Section 5 of \[RFC7231\]\), 4. authentication \(e.g., see \[RFC7235\] and \[RFC6265\]\), 5. response control data \(e.g., see Section 7.1 of \[RFC7231\]\), 6. determining how to process the payload \(e.g., Content\-Encoding, Content\-Type, Content\-Range, and Trailer\)

Return ErrBadTrailer if contain any forbidden trailers.

<a name="ResponseHeader.AddTrailerBytes"></a>
### func \(\*ResponseHeader\) [AddTrailerBytes](<https://github.com/valyala/fasthttp/blob/master/header.go#L523>)

```go
func (h *ResponseHeader) AddTrailerBytes(trailer []byte) error
```

AddTrailerBytes add Trailer header value for chunked response to indicate which headers will be sent after the body.

Use Set to set the trailer header later.

Trailers are only supported with chunked transfer. Trailers allow the sender to include additional headers at the end of chunked messages.

The following trailers are forbidden: 1. necessary for message framing \(e.g., Transfer\-Encoding and Content\-Length\), 2. routing \(e.g., Host\), 3. request modifiers \(e.g., controls and conditionals in Section 5 of \[RFC7231\]\), 4. authentication \(e.g., see \[RFC7235\] and \[RFC6265\]\), 5. response control data \(e.g., see Section 7.1 of \[RFC7231\]\), 6. determining how to process the payload \(e.g., Content\-Encoding, Content\-Type, Content\-Range, and Trailer\)

Return ErrBadTrailer if contain any forbidden trailers.

<a name="ResponseHeader.AppendBytes"></a>
### func \(\*ResponseHeader\) [AppendBytes](<https://github.com/valyala/fasthttp/blob/master/header.go#L2508>)

```go
func (h *ResponseHeader) AppendBytes(dst []byte) []byte
```

AppendBytes appends response header representation to dst and returns the extended dst.

<a name="ResponseHeader.ConnectionClose"></a>
### func \(\*ResponseHeader\) [ConnectionClose](<https://github.com/valyala/fasthttp/blob/master/header.go#L183>)

```go
func (h *ResponseHeader) ConnectionClose() bool
```

ConnectionClose returns true if 'Connection: close' header is set.

<a name="ResponseHeader.ConnectionUpgrade"></a>
### func \(\*ResponseHeader\) [ConnectionUpgrade](<https://github.com/valyala/fasthttp/blob/master/header.go#L219>)

```go
func (h *ResponseHeader) ConnectionUpgrade() bool
```

ConnectionUpgrade returns true if 'Connection: Upgrade' header is set.

<a name="ResponseHeader.ContentEncoding"></a>
### func \(\*ResponseHeader\) [ContentEncoding](<https://github.com/valyala/fasthttp/blob/master/header.go#L336>)

```go
func (h *ResponseHeader) ContentEncoding() []byte
```

ContentEncoding returns Content\-Encoding header value.

<a name="ResponseHeader.ContentLength"></a>
### func \(\*ResponseHeader\) [ContentLength](<https://github.com/valyala/fasthttp/blob/master/header.go#L238>)

```go
func (h *ResponseHeader) ContentLength() int
```

ContentLength returns Content\-Length header value.

It may be negative: \-1 means Transfer\-Encoding: chunked. \-2 means Transfer\-Encoding: identity.

<a name="ResponseHeader.ContentType"></a>
### func \(\*ResponseHeader\) [ContentType](<https://github.com/valyala/fasthttp/blob/master/header.go#L317>)

```go
func (h *ResponseHeader) ContentType() []byte
```

ContentType returns Content\-Type header value.

<a name="ResponseHeader.Cookie"></a>
### func \(\*ResponseHeader\) [Cookie](<https://github.com/valyala/fasthttp/blob/master/header.go#L2135>)

```go
func (h *ResponseHeader) Cookie(cookie *Cookie) bool
```

Cookie fills cookie for the given cookie.Key.

Returns false if cookie with the given cookie.Key is missing.

<a name="ResponseHeader.CopyTo"></a>
### func \(\*ResponseHeader\) [CopyTo](<https://github.com/valyala/fasthttp/blob/master/header.go#L1160>)

```go
func (h *ResponseHeader) CopyTo(dst *ResponseHeader)
```

CopyTo copies all the headers to dst.

<a name="ResponseHeader.Del"></a>
### func \(\*ResponseHeader\) [Del](<https://github.com/valyala/fasthttp/blob/master/header.go#L1333>)

```go
func (h *ResponseHeader) Del(key string)
```

Del deletes header with the given key.

<a name="ResponseHeader.DelAllCookies"></a>
### func \(\*ResponseHeader\) [DelAllCookies](<https://github.com/valyala/fasthttp/blob/master/header.go#L1751>)

```go
func (h *ResponseHeader) DelAllCookies()
```

DelAllCookies removes all the cookies from response headers.

<a name="ResponseHeader.DelBytes"></a>
### func \(\*ResponseHeader\) [DelBytes](<https://github.com/valyala/fasthttp/blob/master/header.go#L1339>)

```go
func (h *ResponseHeader) DelBytes(key []byte)
```

DelBytes deletes header with the given key.

<a name="ResponseHeader.DelClientCookie"></a>
### func \(\*ResponseHeader\) [DelClientCookie](<https://github.com/valyala/fasthttp/blob/master/header.go#L1696>)

```go
func (h *ResponseHeader) DelClientCookie(key string)
```

DelClientCookie instructs the client to remove the given cookie. This doesn't work for a cookie with specific domain or path, you should delete it manually like:

```
c := AcquireCookie()
c.SetKey(key)
c.SetDomain("example.com")
c.SetPath("/path")
c.SetExpire(CookieExpireDelete)
h.SetCookie(c)
ReleaseCookie(c)
```

Use DelCookie if you want just removing the cookie from response header.

<a name="ResponseHeader.DelClientCookieBytes"></a>
### func \(\*ResponseHeader\) [DelClientCookieBytes](<https://github.com/valyala/fasthttp/blob/master/header.go#L1719>)

```go
func (h *ResponseHeader) DelClientCookieBytes(key []byte)
```

DelClientCookieBytes instructs the client to remove the given cookie. This doesn't work for a cookie with specific domain or path, you should delete it manually like:

```
c := AcquireCookie()
c.SetKey(key)
c.SetDomain("example.com")
c.SetPath("/path")
c.SetExpire(CookieExpireDelete)
h.SetCookie(c)
ReleaseCookie(c)
```

Use DelCookieBytes if you want just removing the cookie from response header.

<a name="ResponseHeader.DelCookie"></a>
### func \(\*ResponseHeader\) [DelCookie](<https://github.com/valyala/fasthttp/blob/master/header.go#L1727>)

```go
func (h *ResponseHeader) DelCookie(key string)
```

DelCookie removes cookie under the given key from response header.

Note that DelCookie doesn't remove the cookie from the client. Use DelClientCookie instead.

<a name="ResponseHeader.DelCookieBytes"></a>
### func \(\*ResponseHeader\) [DelCookieBytes](<https://github.com/valyala/fasthttp/blob/master/header.go#L1735>)

```go
func (h *ResponseHeader) DelCookieBytes(key []byte)
```

DelCookieBytes removes cookie under the given key from response header.

Note that DelCookieBytes doesn't remove the cookie from the client. Use DelClientCookieBytes instead.

<a name="ResponseHeader.DisableNormalizing"></a>
### func \(\*ResponseHeader\) [DisableNormalizing](<https://github.com/valyala/fasthttp/blob/master/header.go#L1070>)

```go
func (h *ResponseHeader) DisableNormalizing()
```

DisableNormalizing disables header names' normalization.

By default all the header names are normalized by uppercasing the first letter and all the first letters following dashes, while lowercasing all the other letters. Examples:

- CONNECTION \-\> Connection
- conteNT\-tYPE \-\> Content\-Type
- foo\-bar\-baz \-\> Foo\-Bar\-Baz

Disable header names' normalization only if know what are you doing.

<a name="ResponseHeader.EnableNormalizing"></a>
### func \(\*ResponseHeader\) [EnableNormalizing](<https://github.com/valyala/fasthttp/blob/master/header.go#L1086>)

```go
func (h *ResponseHeader) EnableNormalizing()
```

EnableNormalizing enables header names' normalization.

Header names are normalized by uppercasing the first letter and all the first letters following dashes, while lowercasing all the other letters. Examples:

- CONNECTION \-\> Connection
- conteNT\-tYPE \-\> Content\-Type
- foo\-bar\-baz \-\> Foo\-Bar\-Baz

This is enabled by default unless disabled using DisableNormalizing\(\).

<a name="ResponseHeader.Header"></a>
### func \(\*ResponseHeader\) [Header](<https://github.com/valyala/fasthttp/blob/master/header.go#L2463>)

```go
func (h *ResponseHeader) Header() []byte
```

Header returns response header representation.

Headers that set as Trailer will not represent. Use TrailerHeader for trailers.

The returned value is valid until the request is released, either though ReleaseRequest or your request handler returning. Do not store references to returned value. Make copies instead.

<a name="ResponseHeader.IsHTTP11"></a>
### func \(\*ResponseHeader\) [IsHTTP11](<https://github.com/valyala/fasthttp/blob/master/header.go#L964>)

```go
func (h *ResponseHeader) IsHTTP11() bool
```

IsHTTP11 returns true if the response is HTTP/1.1.

<a name="ResponseHeader.Len"></a>
### func \(\*ResponseHeader\) [Len](<https://github.com/valyala/fasthttp/blob/master/header.go#L995>)

```go
func (h *ResponseHeader) Len() int
```

Len returns the number of headers set, i.e. the number of times f is called in VisitAll.

<a name="ResponseHeader.Peek"></a>
### func \(\*ResponseHeader\) [Peek](<https://github.com/valyala/fasthttp/blob/master/header.go#L1891>)

```go
func (h *ResponseHeader) Peek(key string) []byte
```

Peek returns header value for the given key.

The returned value is valid until the response is released, either though ReleaseResponse or your request handler returning. Do not store references to the returned value. Make copies instead.

<a name="ResponseHeader.PeekAll"></a>
### func \(\*ResponseHeader\) [PeekAll](<https://github.com/valyala/fasthttp/blob/master/header.go#L2033>)

```go
func (h *ResponseHeader) PeekAll(key string) [][]byte
```

PeekAll returns all header value for the given key.

The returned value is valid until the request is released, either though ReleaseResponse or your request handler returning. Any future calls to the Peek\* will modify the returned value. Do not store references to returned value. Make copies instead.

<a name="ResponseHeader.PeekBytes"></a>
### func \(\*ResponseHeader\) [PeekBytes](<https://github.com/valyala/fasthttp/blob/master/header.go#L1901>)

```go
func (h *ResponseHeader) PeekBytes(key []byte) []byte
```

PeekBytes returns header value for the given key.

The returned value is valid until the response is released, either though ReleaseResponse or your request handler returning. Do not store references to returned value. Make copies instead.

<a name="ResponseHeader.PeekCookie"></a>
### func \(\*ResponseHeader\) [PeekCookie](<https://github.com/valyala/fasthttp/blob/master/header.go#L229>)

```go
func (h *ResponseHeader) PeekCookie(key string) []byte
```

PeekCookie is able to returns cookie by a given key from response.

<a name="ResponseHeader.PeekKeys"></a>
### func \(\*ResponseHeader\) [PeekKeys](<https://github.com/valyala/fasthttp/blob/master/header.go#L2100>)

```go
func (h *ResponseHeader) PeekKeys() [][]byte
```

PeekKeys return all header keys.

The returned value is valid until the request is released, either though ReleaseResponse or your request handler returning. Any future calls to the Peek\* will modify the returned value. Do not store references to returned value. Make copies instead.

<a name="ResponseHeader.PeekTrailerKeys"></a>
### func \(\*ResponseHeader\) [PeekTrailerKeys](<https://github.com/valyala/fasthttp/blob/master/header.go#L2112>)

```go
func (h *ResponseHeader) PeekTrailerKeys() [][]byte
```

PeekTrailerKeys return all trailer keys.

The returned value is valid until the request is released, either though ReleaseResponse or your request handler returning. Any future calls to the Peek\* will modify the returned value. Do not store references to returned value. Make copies instead.

<a name="ResponseHeader.Protocol"></a>
### func \(\*ResponseHeader\) [Protocol](<https://github.com/valyala/fasthttp/blob/master/header.go#L164>)

```go
func (h *ResponseHeader) Protocol() []byte
```

Protocol returns response protocol bytes.

<a name="ResponseHeader.Read"></a>
### func \(\*ResponseHeader\) [Read](<https://github.com/valyala/fasthttp/blob/master/header.go#L2147>)

```go
func (h *ResponseHeader) Read(r *bufio.Reader) error
```

Read reads response header from r.

io.EOF is returned if r is closed before reading the first header byte.

<a name="ResponseHeader.ReadTrailer"></a>
### func \(\*ResponseHeader\) [ReadTrailer](<https://github.com/valyala/fasthttp/blob/master/header.go#L2201>)

```go
func (h *ResponseHeader) ReadTrailer(r *bufio.Reader) error
```

ReadTrailer reads response trailer header from r.

io.EOF is returned if r is closed before reading the first byte.

<a name="ResponseHeader.Reset"></a>
### func \(\*ResponseHeader\) [Reset](<https://github.com/valyala/fasthttp/blob/master/header.go#L1096>)

```go
func (h *ResponseHeader) Reset()
```

Reset clears response header.

<a name="ResponseHeader.ResetConnectionClose"></a>
### func \(\*ResponseHeader\) [ResetConnectionClose](<https://github.com/valyala/fasthttp/blob/master/header.go#L193>)

```go
func (h *ResponseHeader) ResetConnectionClose()
```

ResetConnectionClose clears 'Connection: close' header if it exists.

<a name="ResponseHeader.Server"></a>
### func \(\*ResponseHeader\) [Server](<https://github.com/valyala/fasthttp/blob/master/header.go#L363>)

```go
func (h *ResponseHeader) Server() []byte
```

Server returns Server header value.

<a name="ResponseHeader.Set"></a>
### func \(\*ResponseHeader\) [Set](<https://github.com/valyala/fasthttp/blob/master/header.go#L1597>)

```go
func (h *ResponseHeader) Set(key, value string)
```

Set sets the given 'key: value' header.

Please note that the Set\-Cookie header will not clear previous cookies, use SetCookie instead to reset cookies.

If the header is set as a Trailer \(forbidden trailers will not be set, see SetTrailer for more details\), it will be sent after the chunked response body.

Use Add for setting multiple header values under the same key.

<a name="ResponseHeader.SetBytesK"></a>
### func \(\*ResponseHeader\) [SetBytesK](<https://github.com/valyala/fasthttp/blob/master/header.go#L1611>)

```go
func (h *ResponseHeader) SetBytesK(key []byte, value string)
```

SetBytesK sets the given 'key: value' header.

Please note that the Set\-Cookie header will not clear previous cookies, use SetCookie instead to reset cookies.

If the header is set as a Trailer \(forbidden trailers will not be set, see SetTrailer for more details\), it will be sent after the chunked response body.

Use AddBytesK for setting multiple header values under the same key.

<a name="ResponseHeader.SetBytesKV"></a>
### func \(\*ResponseHeader\) [SetBytesKV](<https://github.com/valyala/fasthttp/blob/master/header.go#L1639>)

```go
func (h *ResponseHeader) SetBytesKV(key, value []byte)
```

SetBytesKV sets the given 'key: value' header.

Please note that the Set\-Cookie header will not clear previous cookies, use SetCookie instead to reset cookies.

If the header is set as a Trailer \(forbidden trailers will not be set, see SetTrailer for more details\), it will be sent after the chunked response body.

Use AddBytesKV for setting multiple header values under the same key.

<a name="ResponseHeader.SetBytesV"></a>
### func \(\*ResponseHeader\) [SetBytesV](<https://github.com/valyala/fasthttp/blob/master/header.go#L1625>)

```go
func (h *ResponseHeader) SetBytesV(key string, value []byte)
```

SetBytesV sets the given 'key: value' header.

Please note that the Set\-Cookie header will not clear previous cookies, use SetCookie instead to reset cookies.

If the header is set as a Trailer \(forbidden trailers will not be set, see SetTrailer for more details\), it will be sent after the chunked response body.

Use AddBytesV for setting multiple header values under the same key.

<a name="ResponseHeader.SetCanonical"></a>
### func \(\*ResponseHeader\) [SetCanonical](<https://github.com/valyala/fasthttp/blob/master/header.go#L1653>)

```go
func (h *ResponseHeader) SetCanonical(key, value []byte)
```

SetCanonical sets the given 'key: value' header assuming that key is in canonical form.

Please note that the Set\-Cookie header will not clear previous cookies, use SetCookie instead to reset cookies.

If the header is set as a Trailer \(forbidden trailers will not be set, see SetTrailer for more details\), it will be sent after the chunked response body.

<a name="ResponseHeader.SetConnectionClose"></a>
### func \(\*ResponseHeader\) [SetConnectionClose](<https://github.com/valyala/fasthttp/blob/master/header.go#L188>)

```go
func (h *ResponseHeader) SetConnectionClose()
```

SetConnectionClose sets 'Connection: close' header.

<a name="ResponseHeader.SetContentEncoding"></a>
### func \(\*ResponseHeader\) [SetContentEncoding](<https://github.com/valyala/fasthttp/blob/master/header.go#L341>)

```go
func (h *ResponseHeader) SetContentEncoding(contentEncoding string)
```

SetContentEncoding sets Content\-Encoding header value.

<a name="ResponseHeader.SetContentEncodingBytes"></a>
### func \(\*ResponseHeader\) [SetContentEncodingBytes](<https://github.com/valyala/fasthttp/blob/master/header.go#L346>)

```go
func (h *ResponseHeader) SetContentEncodingBytes(contentEncoding []byte)
```

SetContentEncodingBytes sets Content\-Encoding header value.

<a name="ResponseHeader.SetContentLength"></a>
### func \(\*ResponseHeader\) [SetContentLength](<https://github.com/valyala/fasthttp/blob/master/header.go#L247>)

```go
func (h *ResponseHeader) SetContentLength(contentLength int)
```

SetContentLength sets Content\-Length header value.

Content\-Length may be negative: \-1 means Transfer\-Encoding: chunked. \-2 means Transfer\-Encoding: identity.

<a name="ResponseHeader.SetContentRange"></a>
### func \(\*ResponseHeader\) [SetContentRange](<https://github.com/valyala/fasthttp/blob/master/header.go#L104>)

```go
func (h *ResponseHeader) SetContentRange(startPos, endPos, contentLength int)
```

SetContentRange sets 'Content\-Range: bytes startPos\-endPos/contentLength' header.

<a name="ResponseHeader.SetContentType"></a>
### func \(\*ResponseHeader\) [SetContentType](<https://github.com/valyala/fasthttp/blob/master/header.go#L326>)

```go
func (h *ResponseHeader) SetContentType(contentType string)
```

SetContentType sets Content\-Type header value.

<a name="ResponseHeader.SetContentTypeBytes"></a>
### func \(\*ResponseHeader\) [SetContentTypeBytes](<https://github.com/valyala/fasthttp/blob/master/header.go#L331>)

```go
func (h *ResponseHeader) SetContentTypeBytes(contentType []byte)
```

SetContentTypeBytes sets Content\-Type header value.

<a name="ResponseHeader.SetCookie"></a>
### func \(\*ResponseHeader\) [SetCookie](<https://github.com/valyala/fasthttp/blob/master/header.go#L1663>)

```go
func (h *ResponseHeader) SetCookie(cookie *Cookie)
```

SetCookie sets the given response cookie.

It is safe re\-using the cookie after the function returns.

<a name="ResponseHeader.SetLastModified"></a>
### func \(\*ResponseHeader\) [SetLastModified](<https://github.com/valyala/fasthttp/blob/master/header.go#L177>)

```go
func (h *ResponseHeader) SetLastModified(t time.Time)
```

SetLastModified sets 'Last\-Modified' header to the given value.

<a name="ResponseHeader.SetNoDefaultContentType"></a>
### func \(\*ResponseHeader\) [SetNoDefaultContentType](<https://github.com/valyala/fasthttp/blob/master/header.go#L1091>)

```go
func (h *ResponseHeader) SetNoDefaultContentType(noDefaultContentType bool)
```

SetNoDefaultContentType allows you to control if a default Content\-Type header will be set \(false\) or not \(true\).

<a name="ResponseHeader.SetProtocol"></a>
### func \(\*ResponseHeader\) [SetProtocol](<https://github.com/valyala/fasthttp/blob/master/header.go#L172>)

```go
func (h *ResponseHeader) SetProtocol(protocol []byte)
```

SetProtocol sets response protocol bytes.

<a name="ResponseHeader.SetServer"></a>
### func \(\*ResponseHeader\) [SetServer](<https://github.com/valyala/fasthttp/blob/master/header.go#L368>)

```go
func (h *ResponseHeader) SetServer(server string)
```

SetServer sets Server header value.

<a name="ResponseHeader.SetServerBytes"></a>
### func \(\*ResponseHeader\) [SetServerBytes](<https://github.com/valyala/fasthttp/blob/master/header.go#L373>)

```go
func (h *ResponseHeader) SetServerBytes(server []byte)
```

SetServerBytes sets Server header value.

<a name="ResponseHeader.SetStatusCode"></a>
### func \(\*ResponseHeader\) [SetStatusCode](<https://github.com/valyala/fasthttp/blob/master/header.go#L149>)

```go
func (h *ResponseHeader) SetStatusCode(statusCode int)
```

SetStatusCode sets response status code.

<a name="ResponseHeader.SetStatusMessage"></a>
### func \(\*ResponseHeader\) [SetStatusMessage](<https://github.com/valyala/fasthttp/blob/master/header.go#L159>)

```go
func (h *ResponseHeader) SetStatusMessage(statusMessage []byte)
```

SetStatusMessage sets response status message bytes.

<a name="ResponseHeader.SetTrailer"></a>
### func \(\*ResponseHeader\) [SetTrailer](<https://github.com/valyala/fasthttp/blob/master/header.go#L457>)

```go
func (h *ResponseHeader) SetTrailer(trailer string) error
```

SetTrailer sets header Trailer value for chunked response to indicate which headers will be sent after the body.

Use Set to set the trailer header later.

Trailers are only supported with chunked transfer. Trailers allow the sender to include additional headers at the end of chunked messages.

The following trailers are forbidden: 1. necessary for message framing \(e.g., Transfer\-Encoding and Content\-Length\), 2. routing \(e.g., Host\), 3. request modifiers \(e.g., controls and conditionals in Section 5 of \[RFC7231\]\), 4. authentication \(e.g., see \[RFC7235\] and \[RFC6265\]\), 5. response control data \(e.g., see Section 7.1 of \[RFC7231\]\), 6. determining how to process the payload \(e.g., Content\-Encoding, Content\-Type, Content\-Range, and Trailer\)

Return ErrBadTrailer if contain any forbidden trailers.

<a name="ResponseHeader.SetTrailerBytes"></a>
### func \(\*ResponseHeader\) [SetTrailerBytes](<https://github.com/valyala/fasthttp/blob/master/header.go#L478>)

```go
func (h *ResponseHeader) SetTrailerBytes(trailer []byte) error
```

SetTrailerBytes sets Trailer header value for chunked response to indicate which headers will be sent after the body.

Use Set to set the trailer header later.

Trailers are only supported with chunked transfer. Trailers allow the sender to include additional headers at the end of chunked messages.

The following trailers are forbidden: 1. necessary for message framing \(e.g., Transfer\-Encoding and Content\-Length\), 2. routing \(e.g., Host\), 3. request modifiers \(e.g., controls and conditionals in Section 5 of \[RFC7231\]\), 4. authentication \(e.g., see \[RFC7235\] and \[RFC6265\]\), 5. response control data \(e.g., see Section 7.1 of \[RFC7231\]\), 6. determining how to process the payload \(e.g., Content\-Encoding, Content\-Type, Content\-Range, and Trailer\)

Return ErrBadTrailer if contain any forbidden trailers.

<a name="ResponseHeader.StatusCode"></a>
### func \(\*ResponseHeader\) [StatusCode](<https://github.com/valyala/fasthttp/blob/master/header.go#L141>)

```go
func (h *ResponseHeader) StatusCode() int
```

StatusCode returns response status code.

<a name="ResponseHeader.StatusMessage"></a>
### func \(\*ResponseHeader\) [StatusMessage](<https://github.com/valyala/fasthttp/blob/master/header.go#L154>)

```go
func (h *ResponseHeader) StatusMessage() []byte
```

StatusMessage returns response status message.

<a name="ResponseHeader.String"></a>
### func \(\*ResponseHeader\) [String](<https://github.com/valyala/fasthttp/blob/master/header.go#L2492>)

```go
func (h *ResponseHeader) String() string
```

String returns response header representation.

<a name="ResponseHeader.TrailerHeader"></a>
### func \(\*ResponseHeader\) [TrailerHeader](<https://github.com/valyala/fasthttp/blob/master/header.go#L2481>)

```go
func (h *ResponseHeader) TrailerHeader() []byte
```

TrailerHeader returns response trailer header representation.

Trailers will only be received with chunked transfer.

The returned value is valid until the request is released, either though ReleaseRequest or your request handler returning. Do not store references to returned value. Make copies instead.

<a name="ResponseHeader.VisitAll"></a>
### func \(\*ResponseHeader\) [VisitAll](<https://github.com/valyala/fasthttp/blob/master/header.go#L1210>)

```go
func (h *ResponseHeader) VisitAll(f func(key, value []byte))
```

VisitAll calls f for each header.

f must not retain references to key and/or value after returning. Copy key and/or value contents before returning if you need retaining them.

<a name="ResponseHeader.VisitAllCookie"></a>
### func \(\*ResponseHeader\) [VisitAllCookie](<https://github.com/valyala/fasthttp/blob/master/header.go#L1265>)

```go
func (h *ResponseHeader) VisitAllCookie(f func(key, value []byte))
```

VisitAllCookie calls f for each response cookie.

Cookie name is passed in key and the whole Set\-Cookie header value is passed in value on each f invocation. Value may be parsed with Cookie.ParseBytes\(\).

f must not retain references to key and/or value after returning.

<a name="ResponseHeader.VisitAllTrailer"></a>
### func \(\*ResponseHeader\) [VisitAllTrailer](<https://github.com/valyala/fasthttp/blob/master/header.go#L1243>)

```go
func (h *ResponseHeader) VisitAllTrailer(f func(value []byte))
```

VisitAllTrailer calls f for each response Trailer.

f must not retain references to value after returning.

<a name="ResponseHeader.Write"></a>
### func \(\*ResponseHeader\) [Write](<https://github.com/valyala/fasthttp/blob/master/header.go#L2443>)

```go
func (h *ResponseHeader) Write(w *bufio.Writer) error
```

Write writes response header to w.

<a name="ResponseHeader.WriteTo"></a>
### func \(\*ResponseHeader\) [WriteTo](<https://github.com/valyala/fasthttp/blob/master/header.go#L2451>)

```go
func (h *ResponseHeader) WriteTo(w io.Writer) (int64, error)
```

WriteTo writes response header to w.

WriteTo implements io.WriterTo interface.

<a name="RetryIfErrFunc"></a>
## type [RetryIfErrFunc](<https://github.com/valyala/fasthttp/blob/master/client.go#L697>)

RetryIfErrFunc defines an interface used for implementing the following functionality: When the client encounters an error during a request, the behavior—whether to retry and whether to reset the request timeout—should be determined based on the return value of this interface.

attempt indicates which attempt the current retry is due to a failure of. The first request counts as the first attempt.

err represents the error encountered while attempting the \`attempts\`\-th request.

resetTimeout indicates whether to reuse the \`Request\`'s timeout as the timeout interval, rather than using the timeout after subtracting the time spent on previous failed requests. This return value is meaningful only when you use \`Request.SetTimeout\`, \`DoTimeout\`, or \`DoDeadline\`.

retry indicates whether to retry the current request. If it is false, the request function will immediately return with the \`err\`.

```go
type RetryIfErrFunc func(request *Request, attempts int, err error) (resetTimeout bool, retry bool)
```

<a name="RetryIfFunc"></a>
## type [RetryIfFunc](<https://github.com/valyala/fasthttp/blob/master/client.go#L679>)

RetryIfFunc defines the signature of the retry if function. Request argument passed to RetryIfFunc, if there are any request errors.

```go
type RetryIfFunc func(request *Request) bool
```

<a name="RoundTripper"></a>
## type [RoundTripper](<https://github.com/valyala/fasthttp/blob/master/client.go#L700-L702>)

RoundTripper wraps every request/response.

```go
type RoundTripper interface {
    RoundTrip(hc *HostClient, req *Request, resp *Response) (retry bool, err error)
}
```

<a name="DefaultTransport"></a>

```go
var DefaultTransport RoundTripper = &transport{}
```

<a name="ServeHandler"></a>
## type [ServeHandler](<https://github.com/valyala/fasthttp/blob/master/server.go#L137>)

ServeHandler must process tls.Config.NextProto negotiated requests.

```go
type ServeHandler func(c net.Conn) error
```

<a name="Server"></a>
## type [Server](<https://github.com/valyala/fasthttp/blob/master/server.go#L148-L439>)

Server implements HTTP server.

Default Server settings should satisfy the majority of Server users. Adjust Server settings only if you really understand the consequences.

It is forbidden copying Server instances. Create new Server instances instead.

It is safe to call Server methods from concurrently running goroutines.

```go
type Server struct {

    // Logger, which is used by RequestCtx.Logger().
    //
    // By default standard logger from log package is used.
    Logger Logger

    // Handler for processing incoming requests.
    //
    // Take into account that no `panic` recovery is done by `fasthttp` (thus any `panic` will take down the entire server).
    // Instead the user should use `recover` to handle these situations.
    Handler RequestHandler

    // ErrorHandler for returning a response in case of an error while receiving or parsing the request.
    //
    // The following is a non-exhaustive list of errors that can be expected as argument:
    //   * io.EOF
    //   * io.ErrUnexpectedEOF
    //   * ErrGetOnly
    //   * ErrSmallBuffer
    //   * ErrBodyTooLarge
    //   * ErrBrokenChunks
    ErrorHandler func(ctx *RequestCtx, err error)

    // HeaderReceived is called after receiving the header.
    //
    // Non zero RequestConfig field values will overwrite the default configs
    HeaderReceived func(header *RequestHeader) RequestConfig

    // ContinueHandler is called after receiving the Expect 100 Continue Header.
    //
    // https://www.w3.org/Protocols/rfc2616/rfc2616-sec8.html#sec8.2.3
    // https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.1.1
    // Using ContinueHandler a server can make decisioning on whether or not
    // to read a potentially large request body based on the headers.
    //
    // The default is to automatically read request bodies of Expect 100 Continue requests
    // like they are normal requests.
    ContinueHandler func(header *RequestHeader) bool

    // ConnState specifies an optional callback function that is
    // called when a client connection changes state. See the
    // ConnState type and associated constants for details.
    ConnState func(net.Conn, ConnState)

    // TLSConfig optionally provides a TLS configuration for use
    // by ServeTLS, ServeTLSEmbed, ListenAndServeTLS, ListenAndServeTLSEmbed,
    // AppendCert, AppendCertEmbed and NextProto.
    //
    // Note that this value is cloned by ServeTLS, ServeTLSEmbed, ListenAndServeTLS
    // and ListenAndServeTLSEmbed, so it's not possible to modify the configuration
    // with methods like tls.Config.SetSessionTicketKeys.
    // To use SetSessionTicketKeys, use Server.Serve with a TLS Listener
    // instead.
    TLSConfig *tls.Config

    // FormValueFunc, which is used by RequestCtx.FormValue and support for customizing
    // the behaviour of the RequestCtx.FormValue function.
    //
    // NetHttpFormValueFunc gives a FormValueFunc func implementation that is consistent with net/http.
    FormValueFunc FormValueFunc

    // Server name for sending in response headers.
    //
    // Default server name is used if left blank.
    Name string

    // The maximum number of concurrent connections the server may serve.
    //
    // DefaultConcurrency is used if not set.
    //
    // Concurrency only works if you either call Serve once, or only ServeConn multiple times.
    // It works with ListenAndServe as well.
    Concurrency int

    // Per-connection buffer size for requests' reading.
    // This also limits the maximum header size.
    //
    // Increase this buffer if your clients send multi-KB RequestURIs
    // and/or multi-KB headers (for example, BIG cookies).
    //
    // Default buffer size is used if not set.
    ReadBufferSize int

    // Per-connection buffer size for responses' writing.
    //
    // Default buffer size is used if not set.
    WriteBufferSize int

    // ReadTimeout is the amount of time allowed to read
    // the full request including body. The connection's read
    // deadline is reset when the connection opens, or for
    // keep-alive connections after the first byte has been read.
    //
    // By default request read timeout is unlimited.
    ReadTimeout time.Duration

    // WriteTimeout is the maximum duration before timing out
    // writes of the response. It is reset after the request handler
    // has returned.
    //
    // By default response write timeout is unlimited.
    WriteTimeout time.Duration

    // IdleTimeout is the maximum amount of time to wait for the
    // next request when keep-alive is enabled. If IdleTimeout
    // is zero, the value of ReadTimeout is used.
    IdleTimeout time.Duration

    // Maximum number of concurrent client connections allowed per IP.
    //
    // By default unlimited number of concurrent connections
    // may be established to the server from a single IP address.
    MaxConnsPerIP int

    // Maximum number of requests served per connection.
    //
    // The server closes connection after the last request.
    // 'Connection: close' header is added to the last response.
    //
    // By default unlimited number of requests may be served per connection.
    MaxRequestsPerConn int

    // MaxKeepaliveDuration is a no-op and only left here for backwards compatibility.
    // Deprecated: Use IdleTimeout instead.
    MaxKeepaliveDuration time.Duration

    // MaxIdleWorkerDuration is the maximum idle time of a single worker in the underlying
    // worker pool of the Server. Idle workers beyond this time will be cleared.
    MaxIdleWorkerDuration time.Duration

    // Period between tcp keep-alive messages.
    //
    // TCP keep-alive period is determined by operation system by default.
    TCPKeepalivePeriod time.Duration

    // Maximum request body size.
    //
    // The server rejects requests with bodies exceeding this limit.
    //
    // Request body size is limited by DefaultMaxRequestBodySize by default.
    MaxRequestBodySize int

    // SleepWhenConcurrencyLimitsExceeded is a duration to be slept of if
    // the concurrency limit in exceeded (default [when is 0]: don't sleep
    // and accept new connections immediately).
    SleepWhenConcurrencyLimitsExceeded time.Duration

    // Whether to disable keep-alive connections.
    //
    // The server will close all the incoming connections after sending
    // the first response to client if this option is set to true.
    //
    // By default keep-alive connections are enabled.
    DisableKeepalive bool

    // Whether to enable tcp keep-alive connections.
    //
    // Whether the operating system should send tcp keep-alive messages on the tcp connection.
    //
    // By default tcp keep-alive connections are disabled.
    TCPKeepalive bool

    // Aggressively reduces memory usage at the cost of higher CPU usage
    // if set to true.
    //
    // Try enabling this option only if the server consumes too much memory
    // serving mostly idle keep-alive connections. This may reduce memory
    // usage by more than 50%.
    //
    // Aggressive memory usage reduction is disabled by default.
    ReduceMemoryUsage bool

    // Rejects all non-GET requests if set to true.
    //
    // This option is useful as anti-DoS protection for servers
    // accepting only GET requests and HEAD requests. The request size is limited
    // by ReadBufferSize if GetOnly is set.
    //
    // Server accepts all the requests by default.
    GetOnly bool

    // Will not pre parse Multipart Form data if set to true.
    //
    // This option is useful for servers that desire to treat
    // multipart form data as a binary blob, or choose when to parse the data.
    //
    // Server pre parses multipart form data by default.
    DisablePreParseMultipartForm bool

    // Logs all errors, including the most frequent
    // 'connection reset by peer', 'broken pipe' and 'connection timeout'
    // errors. Such errors are common in production serving real-world
    // clients.
    //
    // By default the most frequent errors such as
    // 'connection reset by peer', 'broken pipe' and 'connection timeout'
    // are suppressed in order to limit output log traffic.
    LogAllErrors bool

    // Will not log potentially sensitive content in error logs
    //
    // This option is useful for servers that handle sensitive data
    // in the request/response.
    //
    // Server logs all full errors by default.
    SecureErrorLogMessage bool

    // Header names are passed as-is without normalization
    // if this option is set.
    //
    // Disabled header names' normalization may be useful only for proxying
    // incoming requests to other servers expecting case-sensitive
    // header names. See https://github.com/valyala/fasthttp/issues/57
    // for details.
    //
    // By default request and response header names are normalized, i.e.
    // The first letter and the first letters following dashes
    // are uppercased, while all the other letters are lowercased.
    // Examples:
    //
    //     * HOST -> Host
    //     * content-type -> Content-Type
    //     * cONTENT-lenGTH -> Content-Length
    DisableHeaderNamesNormalizing bool

    // NoDefaultServerHeader, when set to true, causes the default Server header
    // to be excluded from the Response.
    //
    // The default Server header value is the value of the Name field or an
    // internal default value in its absence. With this option set to true,
    // the only time a Server header will be sent is if a non-zero length
    // value is explicitly provided during a request.
    NoDefaultServerHeader bool

    // NoDefaultDate, when set to true, causes the default Date
    // header to be excluded from the Response.
    //
    // The default Date header value is the current date value. When
    // set to true, the Date will not be present.
    NoDefaultDate bool

    // NoDefaultContentType, when set to true, causes the default Content-Type
    // header to be excluded from the Response.
    //
    // The default Content-Type header value is the internal default value. When
    // set to true, the Content-Type will not be present.
    NoDefaultContentType bool

    // KeepHijackedConns is an opt-in disable of connection
    // close by fasthttp after connections' HijackHandler returns.
    // This allows to save goroutines, e.g. when fasthttp used to upgrade
    // http connections to WS and connection goes to another handler,
    // which will close it when needed.
    KeepHijackedConns bool

    // CloseOnShutdown when true adds a `Connection: close` header when the server is shutting down.
    CloseOnShutdown bool

    // StreamRequestBody enables request body streaming,
    // and calls the handler sooner when given body is
    // larger than the current limit.
    StreamRequestBody bool
    // contains filtered or unexported fields
}
```

<details><summary>Example</summary>
<p>



```go
package main

import (
	"fmt"
	"log"

	"github.com/valyala/fasthttp"
)

func main() {
	// This function will be called by the server for each incoming request.
	//
	// RequestCtx provides a lot of functionality related to http request
	// processing. See RequestCtx docs for details.
	requestHandler := func(ctx *fasthttp.RequestCtx) {
		fmt.Fprintf(ctx, "Hello, world! Requested path is %q", ctx.Path())
	}

	// Create custom server.
	s := &fasthttp.Server{
		Handler: requestHandler,

		// Every response will contain 'Server: My super server' header.
		Name: "My super server",

		// Other Server settings may be set here.
	}

	// Start the server listening for incoming requests on the given address.
	//
	// ListenAndServe returns only on error, so usually it blocks forever.
	if err := s.ListenAndServe("127.0.0.1:80"); err != nil {
		log.Fatalf("error in ListenAndServe: %v", err)
	}
}
```

</p>
</details>

<a name="Server.AppendCert"></a>
### func \(\*Server\) [AppendCert](<https://github.com/valyala/fasthttp/blob/master/server.go#L1750>)

```go
func (s *Server) AppendCert(certFile, keyFile string) error
```

AppendCert appends certificate and keyfile to TLS Configuration.

This function allows programmer to handle multiple domains in one server structure. See examples/multidomain.

<a name="Server.AppendCertEmbed"></a>
### func \(\*Server\) [AppendCertEmbed](<https://github.com/valyala/fasthttp/blob/master/server.go#L1767>)

```go
func (s *Server) AppendCertEmbed(certData, keyData []byte) error
```

AppendCertEmbed does the same as AppendCert but using in\-memory data.

<a name="Server.GetCurrentConcurrency"></a>
### func \(\*Server\) [GetCurrentConcurrency](<https://github.com/valyala/fasthttp/blob/master/server.go#L2065>)

```go
func (s *Server) GetCurrentConcurrency() uint32
```

GetCurrentConcurrency returns a number of currently served connections.

This function is intended be used by monitoring systems.

<a name="Server.GetOpenConnectionsCount"></a>
### func \(\*Server\) [GetOpenConnectionsCount](<https://github.com/valyala/fasthttp/blob/master/server.go#L2072>)

```go
func (s *Server) GetOpenConnectionsCount() int32
```

GetOpenConnectionsCount returns a number of opened connections.

This function is intended be used by monitoring systems.

<a name="Server.GetRejectedConnectionsCount"></a>
### func \(\*Server\) [GetRejectedConnectionsCount](<https://github.com/valyala/fasthttp/blob/master/server.go#L2087>)

```go
func (s *Server) GetRejectedConnectionsCount() uint32
```

GetRejectedConnectionsCount returns a number of rejected connections.

This function is intended be used by monitoring systems.

<a name="Server.ListenAndServe"></a>
### func \(\*Server\) [ListenAndServe](<https://github.com/valyala/fasthttp/blob/master/server.go#L1625>)

```go
func (s *Server) ListenAndServe(addr string) error
```

ListenAndServe serves HTTP requests from the given TCP4 addr.

Pass custom listener to Serve if you need listening on non\-TCP4 media such as IPv6.

Accepted connections are configured to enable TCP keep\-alives.

<a name="Server.ListenAndServeTLS"></a>
### func \(\*Server\) [ListenAndServeTLS](<https://github.com/valyala/fasthttp/blob/master/server.go#L1663>)

```go
func (s *Server) ListenAndServeTLS(addr, certFile, keyFile string) error
```

ListenAndServeTLS serves HTTPS requests from the given TCP4 addr.

certFile and keyFile are paths to TLS certificate and key files.

Pass custom listener to Serve if you need listening on non\-TCP4 media such as IPv6.

If the certFile or keyFile has not been provided to the server structure, the function will use the previously added TLS configuration.

Accepted connections are configured to enable TCP keep\-alives.

<a name="Server.ListenAndServeTLSEmbed"></a>
### func \(\*Server\) [ListenAndServeTLSEmbed](<https://github.com/valyala/fasthttp/blob/master/server.go#L1682>)

```go
func (s *Server) ListenAndServeTLSEmbed(addr string, certData, keyData []byte) error
```

ListenAndServeTLSEmbed serves HTTPS requests from the given TCP4 addr.

certData and keyData must contain valid TLS certificate and key data.

Pass custom listener to Serve if you need listening on arbitrary media such as IPv6.

If the certFile or keyFile has not been provided the server structure, the function will use previously added TLS configuration.

Accepted connections are configured to enable TCP keep\-alives.

<a name="Server.ListenAndServeUNIX"></a>
### func \(\*Server\) [ListenAndServeUNIX](<https://github.com/valyala/fasthttp/blob/master/server.go#L1638>)

```go
func (s *Server) ListenAndServeUNIX(addr string, mode os.FileMode) error
```

ListenAndServeUNIX serves HTTP requests from the given UNIX addr.

The function deletes existing file at addr before starting serving.

The server sets the given file mode for the UNIX addr.

<a name="Server.NextProto"></a>
### func \(\*Server\) [NextProto](<https://github.com/valyala/fasthttp/blob/master/server.go#L1587>)

```go
func (s *Server) NextProto(key string, nph ServeHandler)
```

NextProto adds nph to be processed when key is negotiated when TLS connection is established.

This function can only be called before the server is started.

<a name="Server.Serve"></a>
### func \(\*Server\) [Serve](<https://github.com/valyala/fasthttp/blob/master/server.go#L1797>)

```go
func (s *Server) Serve(ln net.Listener) error
```

Serve serves incoming connections from the given listener.

Serve blocks until the given listener returns permanent error.

<a name="Server.ServeConn"></a>
### func \(\*Server\) [ServeConn](<https://github.com/valyala/fasthttp/blob/master/server.go#L2023>)

```go
func (s *Server) ServeConn(c net.Conn) error
```

ServeConn serves HTTP requests from the given connection.

ServeConn returns nil if all requests from the c are successfully served. It returns non\-nil error otherwise.

Connection c must immediately propagate all the data passed to Write\(\) to the client. Otherwise requests' processing may hang.

ServeConn closes c before returning.

<a name="Server.ServeTLS"></a>
### func \(\*Server\) [ServeTLS](<https://github.com/valyala/fasthttp/blob/master/server.go#L1696>)

```go
func (s *Server) ServeTLS(ln net.Listener, certFile, keyFile string) error
```

ServeTLS serves HTTPS requests from the given listener.

certFile and keyFile are paths to TLS certificate and key files.

If the certFile or keyFile has not been provided the server structure, the function will use previously added TLS configuration.

<a name="Server.ServeTLSEmbed"></a>
### func \(\*Server\) [ServeTLSEmbed](<https://github.com/valyala/fasthttp/blob/master/server.go#L1724>)

```go
func (s *Server) ServeTLSEmbed(ln net.Listener, certData, keyData []byte) error
```

ServeTLSEmbed serves HTTPS requests from the given listener.

certData and keyData must contain valid TLS certificate and key data.

If the certFile or keyFile has not been provided the server structure, the function will use previously added TLS configuration.

<a name="Server.Shutdown"></a>
### func \(\*Server\) [Shutdown](<https://github.com/valyala/fasthttp/blob/master/server.go#L1877>)

```go
func (s *Server) Shutdown() error
```

Shutdown gracefully shuts down the server without interrupting any active connections. Shutdown works by first closing all open listeners and then waiting indefinitely for all connections to return to idle and then shut down.

When Shutdown is called, Serve, ListenAndServe, and ListenAndServeTLS immediately return nil. Make sure the program doesn't exit and waits instead for Shutdown to return.

Shutdown does not close keepalive connections so it's recommended to set ReadTimeout and IdleTimeout to something else than 0.

<a name="Server.ShutdownWithContext"></a>
### func \(\*Server\) [ShutdownWithContext](<https://github.com/valyala/fasthttp/blob/master/server.go#L1892>)

```go
func (s *Server) ShutdownWithContext(ctx context.Context) (err error)
```

ShutdownWithContext gracefully shuts down the server without interrupting any active connections. ShutdownWithContext works by first closing all open listeners and then waiting for all connections to return to idle or context timeout and then shut down.

When ShutdownWithContext is called, Serve, ListenAndServe, and ListenAndServeTLS immediately return nil. Make sure the program doesn't exit and waits instead for Shutdown to return.

ShutdownWithContext does not close keepalive connections so it's recommended to set ReadTimeout and IdleTimeout to something else than 0.

When ShutdownWithContext returns errors, any operation to the Server is unavailable.

<a name="StreamWriter"></a>
## type [StreamWriter](<https://github.com/valyala/fasthttp/blob/master/stream.go#L19>)

StreamWriter must write data to w.

Usually StreamWriter writes data to w in a loop \(aka 'data streaming'\).

StreamWriter must return immediately if w returns error.

Since the written data is buffered, do not forget calling w.Flush when the data must be propagated to reader.

```go
type StreamWriter func(w *bufio.Writer)
```

<a name="TCPDialer"></a>
## type [TCPDialer](<https://github.com/valyala/fasthttp/blob/master/tcpdialer.go#L128-L166>)

TCPDialer contains options to control a group of Dial calls.

```go
type TCPDialer struct {
    // This may be used to override DNS resolving policy, like this:
    // var dialer = &fasthttp.TCPDialer{
    // 	Resolver: &net.Resolver{
    // 		PreferGo:     true,
    // 		StrictErrors: false,
    // 		Dial: func (ctx context.Context, network, address string) (net.Conn, error) {
    // 			d := net.Dialer{}
    // 			return d.DialContext(ctx, "udp", "8.8.8.8:53")
    // 		},
    // 	},
    // }
    Resolver Resolver

    // LocalAddr is the local address to use when dialing an
    // address.
    // If nil, a local address is automatically chosen.
    LocalAddr *net.TCPAddr

    // Concurrency controls the maximum number of concurrent Dials
    // that can be performed using this object.
    // Setting this to 0 means unlimited.
    //
    // WARNING: This can only be changed before the first Dial.
    // Changes made after the first Dial will not affect anything.
    Concurrency int

    // DNSCacheDuration may be used to override the default DNS cache duration (DefaultDNSCacheDuration)
    DNSCacheDuration time.Duration

    // DisableDNSResolution may be used to disable DNS resolution
    DisableDNSResolution bool
    // contains filtered or unexported fields
}
```

<a name="TCPDialer.Dial"></a>
### func \(\*TCPDialer\) [Dial](<https://github.com/valyala/fasthttp/blob/master/tcpdialer.go#L191>)

```go
func (d *TCPDialer) Dial(addr string) (net.Conn, error)
```

Dial dials the given TCP addr using tcp4.

This function has the following additional features comparing to net.Dial:

- It reduces load on DNS resolver by caching resolved TCP addressed for DNSCacheDuration.
- It dials all the resolved TCP addresses in round\-robin manner until connection is established. This may be useful if certain addresses are temporarily unreachable.
- It returns ErrDialTimeout if connection cannot be established during DefaultDialTimeout seconds. Use DialTimeout for customizing dial timeout.

This dialer is intended for custom code wrapping before passing to Client.Dial or HostClient.Dial.

For instance, per\-host counters and/or limits may be implemented by such wrappers.

The addr passed to the function must contain port. Example addr values:

- foobar.baz:443
- foo.bar:80
- aaa.com:8080

<a name="TCPDialer.DialDualStack"></a>
### func \(\*TCPDialer\) [DialDualStack](<https://github.com/valyala/fasthttp/blob/master/tcpdialer.go#L244>)

```go
func (d *TCPDialer) DialDualStack(addr string) (net.Conn, error)
```

DialDualStack dials the given TCP addr using both tcp4 and tcp6.

This function has the following additional features comparing to net.Dial:

- It reduces load on DNS resolver by caching resolved TCP addressed for DNSCacheDuration.
- It dials all the resolved TCP addresses in round\-robin manner until connection is established. This may be useful if certain addresses are temporarily unreachable.
- It returns ErrDialTimeout if connection cannot be established during DefaultDialTimeout seconds. Use DialDualStackTimeout for custom dial timeout.

This dialer is intended for custom code wrapping before passing to Client.Dial or HostClient.Dial.

For instance, per\-host counters and/or limits may be implemented by such wrappers.

The addr passed to the function must contain port. Example addr values:

- foobar.baz:443
- foo.bar:80
- aaa.com:8080

<a name="TCPDialer.DialDualStackTimeout"></a>
### func \(\*TCPDialer\) [DialDualStackTimeout](<https://github.com/valyala/fasthttp/blob/master/tcpdialer.go#L270>)

```go
func (d *TCPDialer) DialDualStackTimeout(addr string, timeout time.Duration) (net.Conn, error)
```

DialDualStackTimeout dials the given TCP addr using both tcp4 and tcp6 using the given timeout.

This function has the following additional features comparing to net.Dial:

- It reduces load on DNS resolver by caching resolved TCP addressed for DNSCacheDuration.
- It dials all the resolved TCP addresses in round\-robin manner until connection is established. This may be useful if certain addresses are temporarily unreachable.

This dialer is intended for custom code wrapping before passing to Client.DialTimeout or HostClient.DialTimeout.

For instance, per\-host counters and/or limits may be implemented by such wrappers.

The addr passed to the function must contain port. Example addr values:

- foobar.baz:443
- foo.bar:80
- aaa.com:8080

<a name="TCPDialer.DialTimeout"></a>
### func \(\*TCPDialer\) [DialTimeout](<https://github.com/valyala/fasthttp/blob/master/tcpdialer.go#L216>)

```go
func (d *TCPDialer) DialTimeout(addr string, timeout time.Duration) (net.Conn, error)
```

DialTimeout dials the given TCP addr using tcp4 using the given timeout.

This function has the following additional features comparing to net.Dial:

- It reduces load on DNS resolver by caching resolved TCP addressed for DNSCacheDuration.
- It dials all the resolved TCP addresses in round\-robin manner until connection is established. This may be useful if certain addresses are temporarily unreachable.

This dialer is intended for custom code wrapping before passing to Client.DialTimeout or HostClient.DialTimeout.

For instance, per\-host counters and/or limits may be implemented by such wrappers.

The addr passed to the function must contain port. Example addr values:

- foobar.baz:443
- foo.bar:80
- aaa.com:8080

<a name="URI"></a>
## type [URI](<https://github.com/valyala/fasthttp/blob/master/uri.go#L42-L69>)

URI represents URI :\) .

It is forbidden copying URI instances. Create new instance and use CopyTo instead.

URI instance MUST NOT be used from concurrently running goroutines.

```go
type URI struct {

    // Path values are sent as-is without normalization.
    //
    // Disabled path normalization may be useful for proxying incoming requests
    // to servers that are expecting paths to be forwarded as-is.
    //
    // By default path values are normalized, i.e.
    // extra slashes are removed, special characters are encoded.
    DisablePathNormalizing bool
    // contains filtered or unexported fields
}
```

<a name="AcquireURI"></a>
### func [AcquireURI](<https://github.com/valyala/fasthttp/blob/master/uri.go#L17>)

```go
func AcquireURI() *URI
```

AcquireURI returns an empty URI instance from the pool.

Release the URI with ReleaseURI after the URI is no longer needed. This allows reducing GC load.

<a name="URI.AppendBytes"></a>
### func \(\*URI\) [AppendBytes](<https://github.com/valyala/fasthttp/blob/master/uri.go#L815>)

```go
func (u *URI) AppendBytes(dst []byte) []byte
```

AppendBytes appends full uri to dst and returns the extended dst.

<a name="URI.CopyTo"></a>
### func \(\*URI\) [CopyTo](<https://github.com/valyala/fasthttp/blob/master/uri.go#L72>)

```go
func (u *URI) CopyTo(dst *URI)
```

CopyTo copies uri contents to dst.

<a name="URI.FullURI"></a>
### func \(\*URI\) [FullURI](<https://github.com/valyala/fasthttp/blob/master/uri.go#L809>)

```go
func (u *URI) FullURI() []byte
```

FullURI returns full uri in the form \{Scheme\}://\{Host\}\{RequestURI\}\#\{Hash\}.

The returned bytes are valid until the next URI method call.

<a name="URI.Hash"></a>
### func \(\*URI\) [Hash](<https://github.com/valyala/fasthttp/blob/master/uri.go#L94>)

```go
func (u *URI) Hash() []byte
```

Hash returns URI hash, i.e. qwe of http://aaa.com/foo/bar?baz=123#qwe .

The returned bytes are valid until the next URI method call.

<a name="URI.Host"></a>
### func \(\*URI\) [Host](<https://github.com/valyala/fasthttp/blob/master/uri.go#L255>)

```go
func (u *URI) Host() []byte
```

Host returns host part, i.e. aaa.com of http://aaa.com/foo/bar?baz=123#qwe .

Host is always lowercased.

The returned bytes are valid until the next URI method call.

<a name="URI.LastPathSegment"></a>
### func \(\*URI\) [LastPathSegment](<https://github.com/valyala/fasthttp/blob/master/uri.go#L706>)

```go
func (u *URI) LastPathSegment() []byte
```

LastPathSegment returns the last part of uri path after '/'.

Examples:

- For /foo/bar/baz.html path returns baz.html.
- For /foo/bar/ returns empty byte slice.
- For /foobar.js returns foobar.js.

The returned bytes are valid until the next URI method call.

<a name="URI.Parse"></a>
### func \(\*URI\) [Parse](<https://github.com/valyala/fasthttp/blob/master/uri.go#L279>)

```go
func (u *URI) Parse(host, uri []byte) error
```

Parse initializes URI from the given host and uri.

host may be nil. In this case uri must contain fully qualified uri, i.e. with scheme and host. http is assumed if scheme is omitted.

uri may contain e.g. RequestURI without scheme and host if host is non\-empty.

<a name="URI.Password"></a>
### func \(\*URI\) [Password](<https://github.com/valyala/fasthttp/blob/master/uri.go#L128>)

```go
func (u *URI) Password() []byte
```

Password returns URI password.

The returned bytes are valid until the next URI method call.

<a name="URI.Path"></a>
### func \(\*URI\) [Path](<https://github.com/valyala/fasthttp/blob/master/uri.go#L168>)

```go
func (u *URI) Path() []byte
```

Path returns URI path, i.e. /foo/bar of http://aaa.com/foo/bar?baz=123#qwe .

The returned path is always urldecoded and normalized, i.e. '//f%20obar/baz/../zzz' becomes '/f obar/zzz'.

The returned bytes are valid until the next URI method call.

<a name="URI.PathOriginal"></a>
### func \(\*URI\) [PathOriginal](<https://github.com/valyala/fasthttp/blob/master/uri.go#L191>)

```go
func (u *URI) PathOriginal() []byte
```

PathOriginal returns the original path from requestURI passed to URI.Parse\(\).

The returned bytes are valid until the next URI method call.

<a name="URI.QueryArgs"></a>
### func \(\*URI\) [QueryArgs](<https://github.com/valyala/fasthttp/blob/master/uri.go#L878>)

```go
func (u *URI) QueryArgs() *Args
```

QueryArgs returns query args.

The returned args are valid until the next URI method call.

<a name="URI.QueryString"></a>
### func \(\*URI\) [QueryString](<https://github.com/valyala/fasthttp/blob/master/uri.go#L146>)

```go
func (u *URI) QueryString() []byte
```

QueryString returns URI query string, i.e. baz=123 of http://aaa.com/foo/bar?baz=123#qwe .

The returned bytes are valid until the next URI method call.

<a name="URI.RequestURI"></a>
### func \(\*URI\) [RequestURI](<https://github.com/valyala/fasthttp/blob/master/uri.go#L678>)

```go
func (u *URI) RequestURI() []byte
```

RequestURI returns RequestURI \- i.e. URI without Scheme and Host.

<a name="URI.Reset"></a>
### func \(\*URI\) [Reset](<https://github.com/valyala/fasthttp/blob/master/uri.go#L229>)

```go
func (u *URI) Reset()
```

Reset clears uri.

<a name="URI.Scheme"></a>
### func \(\*URI\) [Scheme](<https://github.com/valyala/fasthttp/blob/master/uri.go#L200>)

```go
func (u *URI) Scheme() []byte
```

Scheme returns URI scheme, i.e. http of http://aaa.com/foo/bar?baz=123#qwe .

Returned scheme is always lowercased.

The returned bytes are valid until the next URI method call.

<a name="URI.SetHash"></a>
### func \(\*URI\) [SetHash](<https://github.com/valyala/fasthttp/blob/master/uri.go#L99>)

```go
func (u *URI) SetHash(hash string)
```

SetHash sets URI hash.

<a name="URI.SetHashBytes"></a>
### func \(\*URI\) [SetHashBytes](<https://github.com/valyala/fasthttp/blob/master/uri.go#L104>)

```go
func (u *URI) SetHashBytes(hash []byte)
```

SetHashBytes sets URI hash.

<a name="URI.SetHost"></a>
### func \(\*URI\) [SetHost](<https://github.com/valyala/fasthttp/blob/master/uri.go#L260>)

```go
func (u *URI) SetHost(host string)
```

SetHost sets host for the uri.

<a name="URI.SetHostBytes"></a>
### func \(\*URI\) [SetHostBytes](<https://github.com/valyala/fasthttp/blob/master/uri.go#L266>)

```go
func (u *URI) SetHostBytes(host []byte)
```

SetHostBytes sets host for the uri.

<a name="URI.SetPassword"></a>
### func \(\*URI\) [SetPassword](<https://github.com/valyala/fasthttp/blob/master/uri.go#L133>)

```go
func (u *URI) SetPassword(password string)
```

SetPassword sets URI password.

<a name="URI.SetPasswordBytes"></a>
### func \(\*URI\) [SetPasswordBytes](<https://github.com/valyala/fasthttp/blob/master/uri.go#L138>)

```go
func (u *URI) SetPasswordBytes(password []byte)
```

SetPasswordBytes sets URI password.

<a name="URI.SetPath"></a>
### func \(\*URI\) [SetPath](<https://github.com/valyala/fasthttp/blob/master/uri.go#L177>)

```go
func (u *URI) SetPath(path string)
```

SetPath sets URI path.

<a name="URI.SetPathBytes"></a>
### func \(\*URI\) [SetPathBytes](<https://github.com/valyala/fasthttp/blob/master/uri.go#L183>)

```go
func (u *URI) SetPathBytes(path []byte)
```

SetPathBytes sets URI path.

<a name="URI.SetQueryString"></a>
### func \(\*URI\) [SetQueryString](<https://github.com/valyala/fasthttp/blob/master/uri.go#L151>)

```go
func (u *URI) SetQueryString(queryString string)
```

SetQueryString sets URI query string.

<a name="URI.SetQueryStringBytes"></a>
### func \(\*URI\) [SetQueryStringBytes](<https://github.com/valyala/fasthttp/blob/master/uri.go#L157>)

```go
func (u *URI) SetQueryStringBytes(queryString []byte)
```

SetQueryStringBytes sets URI query string.

<a name="URI.SetScheme"></a>
### func \(\*URI\) [SetScheme](<https://github.com/valyala/fasthttp/blob/master/uri.go#L209>)

```go
func (u *URI) SetScheme(scheme string)
```

SetScheme sets URI scheme, i.e. http, https, ftp, etc.

<a name="URI.SetSchemeBytes"></a>
### func \(\*URI\) [SetSchemeBytes](<https://github.com/valyala/fasthttp/blob/master/uri.go#L215>)

```go
func (u *URI) SetSchemeBytes(scheme []byte)
```

SetSchemeBytes sets URI scheme, i.e. http, https, ftp, etc.

<a name="URI.SetUsername"></a>
### func \(\*URI\) [SetUsername](<https://github.com/valyala/fasthttp/blob/master/uri.go#L116>)

```go
func (u *URI) SetUsername(username string)
```

SetUsername sets URI username.

<a name="URI.SetUsernameBytes"></a>
### func \(\*URI\) [SetUsernameBytes](<https://github.com/valyala/fasthttp/blob/master/uri.go#L121>)

```go
func (u *URI) SetUsernameBytes(username []byte)
```

SetUsernameBytes sets URI username.

<a name="URI.String"></a>
### func \(\*URI\) [String](<https://github.com/valyala/fasthttp/blob/master/uri.go#L840>)

```go
func (u *URI) String() string
```

String returns full uri.

<a name="URI.Update"></a>
### func \(\*URI\) [Update](<https://github.com/valyala/fasthttp/blob/master/uri.go#L727>)

```go
func (u *URI) Update(newURI string)
```

Update updates uri.

The following newURI types are accepted:

- Absolute, i.e. http://foobar.com/aaa/bb?cc . In this case the original uri is replaced by newURI.
- Absolute without scheme, i.e. //foobar.com/aaa/bb?cc. In this case the original scheme is preserved.
- Missing host, i.e. /aaa/bb?cc . In this case only RequestURI part of the original uri is replaced.
- Relative path, i.e. xx?yy=abc . In this case the original RequestURI is updated according to the new relative path.

<a name="URI.UpdateBytes"></a>
### func \(\*URI\) [UpdateBytes](<https://github.com/valyala/fasthttp/blob/master/uri.go#L743>)

```go
func (u *URI) UpdateBytes(newURI []byte)
```

UpdateBytes updates uri.

The following newURI types are accepted:

- Absolute, i.e. http://foobar.com/aaa/bb?cc . In this case the original uri is replaced by newURI.
- Absolute without scheme, i.e. //foobar.com/aaa/bb?cc. In this case the original scheme is preserved.
- Missing host, i.e. /aaa/bb?cc . In this case only RequestURI part of the original uri is replaced.
- Relative path, i.e. xx?yy=abc . In this case the original RequestURI is updated according to the new relative path.

<a name="URI.Username"></a>
### func \(\*URI\) [Username](<https://github.com/valyala/fasthttp/blob/master/uri.go#L111>)

```go
func (u *URI) Username() []byte
```

Username returns URI username

The returned bytes are valid until the next URI method call.

<a name="URI.WriteTo"></a>
### func \(\*URI\) [WriteTo](<https://github.com/valyala/fasthttp/blob/master/uri.go#L834>)

```go
func (u *URI) WriteTo(w io.Writer) (int64, error)
```

WriteTo writes full uri to w.

WriteTo implements io.WriterTo interface.